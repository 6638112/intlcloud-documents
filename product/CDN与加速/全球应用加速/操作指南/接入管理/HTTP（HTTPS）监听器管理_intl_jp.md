## リスナーの追加
[アクセス管理]ページで、指定したチャネルの「ID/チャネル名」をクリックし、次のページに進み、[HTTP/HTTPSリスナー管理]タブを選択し、[新規作成]をクリックすると、次のようなデフォルトのポップアップウィンドウが表示されます。 
![](https://main.qcloudimg.com/raw/052b4dc963432de2be7b9d75e9ec600d.png)

- HTTPが選択されている場合、ポートを入力すればよく、リスナーはデフォルトでHTTPプロトコルに従って転送します。
- HTTPSが選択されている場合は、以下の図に示すように、追加の証明書およびその他の情報の設定が必要です。 


![](https://main.qcloudimg.com/raw/f2f95df27791b426ac11c0344e285046.png)
- 「リスナとオリジンサーバの間でHTTPプロトコルを使用する」とは、クライアントと加速チャネルVIPの間でHTTPSプロトコルを使用し、VIPとオリジンサーバの間でHTTPプロトコルを使用することを意味し、オリジンサーバはHTTPプロトコルポートを開いておく必要があります。「リスナとオリジンサーバの間でHTTPSプロトコルを使用する」とは、クライアントとオリジンサーバの間でHTTPSプロトコルを全過程で使用することを意味し、オリジンサーバはHTTPSプロトコルポートを開いておく必要があります。両者の主な違いとして、前者のリンク遅延がより低くなることが挙げられます。
- **SSL解析方式**：現在、一方向認証のみ、つまりクライアント認証サーバのみをサポートしています。
- **サーバ証明書**：Tencent Cloudの[SSL Certificates Management]製品で購入またはアップロードしてから、ドロップダウンリストから対応する証明書を選択します。

## 設定
[HTTP/HTTPSリスナー管理]タブで[設定]をクリックすると、次のページに移動し、ドメイン名とURL管理を行うことができます。
<span id ="ルールの追加">
### ルールの追加</span>
[ルールを追加]をクリックしてドメイン名とそれに対応するURLを追加することができます。同じドメイン名に最大20個のURLルールを追加できます。具体的には、以下に示すとおりです。
1. 基本設定
![](https://main.qcloudimg.com/raw/cb1de212e703160b2a6fbed204458b71.png)
**ドメイン名**：正確にマッチする必要があり、長さが3～80であり、サポートされる文字集合は、`a-z`、`0-9`、` _`、` .`、` –`です。
**URL**：サポートされる文字集合は、a-z A-Z 0-9 _ . - /で、長さは1～80です。
**オリジンサーバタイプ**：IPとドメイン名の2種類のオリジンサーバをサポートしますが、両者の違いはTCP/UDPリスナーの説明と同じです。
2. オリジンサーバ処置ポリシー
オリジンサーバの転送処置ルールを設定し、ポーリング、ポーリングの重み付け、および最小接続数の設定をサポートします。具体的なポリシーの説明は、TCP/UDPリスナーの説明と同じです。
![](https://main.qcloudimg.com/raw/cc1d025dd5b0fca9b09cbcda23bef9a3.png)
3. オリジンサーバのヘルスチェックメカニズム
モニタリングチェックメカニズムを有効にして、現在のドメイン名に対して単独のチェックURLを設定できます。リクエストモードはHEADとGETをサポートしており、チェックステータスコードはhttp_1xx、http_2xx、http_3xx、http_4xx、http_5xxをサポートすることができ、単一または複数を選ぶことができます。指定されたステータスコードが検出されると、リスナーはバックエンドオリジンサーバが正常状態であると見なし、ステータスコードが検出されないと、バックエンドオリジンサーバが異常であると見なされます。
![](https://main.qcloudimg.com/raw/50a3f88b14f366168c86072b0e29b132.png)

### ドメイン名の変更
ドメイン名は、以下の図に示すとおり、変更することが可能です。
![](https://main.qcloudimg.com/raw/576d26fd084195cbcc2e4526ba49cabd.png)

### ドメイン名の削除
ドメイン名を削除する際に、そのドメイン名でオリジンサーバがバインドされたルールがある場合は、「オリジンサーバがバインドされたルールを強制的に削除する」を選択します。
![](https://main.qcloudimg.com/raw/da3d32a0a8d3e7379c776ccf0d0f8b54.png)

### ルールの変更
[ルールの追加](#ルールの追加)を参照して下さい。主な違いは、ドメイン名とオリジンサーバタイプを変更できないことです。

### オリジンサーバのバインド
[オリジンサーバのバインド](https://cloud.tencent.com/document/product/608/17849#.E7.AC.AC.E5.9B.9B.E6.AD.A5.EF.BC.9A.E7.BB.91.E5.AE.9A.E6.BA.90.E7.AB.99)を参照します。さまざまなオリジンサーバに対して、さまざまなポートをバインドできます。

### ルールの削除
ルールの下にバインドされたオリジンサーバがある場合は、最初に「オリジンサーバがバインドされたルールを強制的に削除する」を選択します。
![](https://main.qcloudimg.com/raw/a53e6753840a924105dfa72dccf91c38.png)

## 削除
[HTTP/HTTPSリスナー管理]タブで[削除]をクリックして、指定したリスナーを削除できます。リスナーがオリジンサーバにバインドされている場合は、削除前に「オリジンサーバがバインドされたリスナーの強制削除を許可する」を選択します。削除後、リスナーのポートの加速が停止します。
![](https://main.qcloudimg.com/raw/3a6b3afdadbe907f721e30f64114e0ee.png)

## 変更
[HTTP/HTTPSリスナー管理]タブで[変更]をクリックして、リスナー情報を変更できます。
HTTPリスナー：リスナーの名称を変更することが可能です。以下の図に示すとおりです。
![](https://main.qcloudimg.com/raw/7386638fefc526f60dfd8293a5a650f0.png)
HTTPSリスナー：名称、リスナーとオリジンサーバの間のプロトコルの変更、および証明書の更新が可能です。以下の図に示すとおりです。
![](https://main.qcloudimg.com/raw/fc9fc4165ae03f8db8be3bd97c64f7ea.png)
