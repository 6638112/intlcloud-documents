>!This is a legacy API which has been hidden and will no longer be updated. We recommend using the new [CMQ API 3.0](https://intl.cloud.tencent.com/document/product/406/36408?!editLang=en&!preview) which is standardized and faster.
>
## Interface description

This API (DeleteMessage) is used to delete messages that have been consumed. Consumers need to use the ReceiptHandle obtained after the last consumption as a parameter to locate the message to be deleted. 
 This operation can only be successful before the NextVisibleTime; if the NextVisibleTime, message changes back to the Active state, the ReceiptHandle will become invalid, the deletion will fail, and the new ReceiptHandle needs to be re-consumed. When Concurrence consumes, if the message is deleted by one of the consumers, the other consumers will no longer be able to get the deleted message.

- Domain name requested by public network API: `https://cmq-queue-{$region}.api.qcloud.com`
- Domain name requested by private network API: `http://cmq-queue-{$region}.api.tencentyun.com`

The above **{$region} in the domain name needs to be replaced with a specific region** : gz (Guangzhou), sh (Shanghai), bj (Beijing), shjr (Shanghai Financial), szjr (Shenzhen Financial), hk (China Hong Kong), cd (Chengdu), ca (North American), usw (Maxi), sg (Singapore). The region value in the common parameters should be consistent with the region value of the domain name. If there is any inconsistency, the request will be sent to the region specified by the domain name region based on the region value of the domain name.

>? At any time (including during internal testing), if the public network downstream Traffic is generated by using a public network domain name, Traffic and cost will be charged. Therefore, users of the service on Tencent Cloud are strongly recommended to use it. **Private network** Domain name, private network will not produce Traffic cost.

## Input Parameter

The following request parameter list only lists the API request parameters. For other parameters, please see [Common Request Parameters](https://intl.cloud.tencent.com/document/product/406/5883) page.

|Parameter name|Required|Type|Description|
|-|-|-|-|
|QueueName|Yes|String|Queue name, which is unique under the same account in a single region. The queue name is a string of no more than 64 characters, must begin with a letter, and the rest can contain letters, numbers, and dashes (-).|
|ReceiptHandle|Yes|String|The last consumption returned a unique MessageÂ Handler, which is used to delete messages.|

## Output Parameter

|Parameter name|Type|Description|
|-|-|-|
|Code|Int|0: indicates success. Others: error. For more information, please see [Common error code](https://intl.cloud.tencent.com/document/product/406/5903) .|
|Message|String|Error message.|
|RequestId|String|Request ID generated by the server. When an internal error occurs on the server, the user can submit this ID to Backend Background to locate the problem.|

## Error Codes

Please check [Common error code](https://intl.cloud.tencent.com/document/product/406/5903) .

## Example

Enter:

<pre>Https://domain/v2/index.php?Action=DeleteMessage & queueName=test-queue-123 & receiptHandle=3423452345 & <<a href="https://intl.cloud.tencent.com/document/product/213/31574">Common Request Parameters</a>></pre>


Output:

```
{
"code" : 0,
"message" : "",
"requestId":"14534664555"
}
```
