StreamLiveではチャネルのライブストリームに対する時間指定レコーディングをサポートしています。クラウドストレージのCOS製品と併せて使用する必要があります。

設定手順は次のとおりです。

1. まずCOSコンソールに進み、レコーディングターゲットのストレージアドレスの設定を行います。ここでは既存のバケットを選択することも、バケットを新規作成することもできますが、所属リージョンは必ずStreamLiveチャネルと同一にしておく必要があります。例えば、StreamLiveチャネルがムンバイにある場合、レコーディングのターゲットバケットもムンバイになければなりません。
![](https://qcloudimg.tencent-cloud.cn/raw/15154bc8dfecc79a6d59a913cbd0741a.png)

2. バケット名をクリックして設定画面に進み、**ファイルリスト**ページで**フォルダの作成**をクリックし、StreamLiveレコーディング機能のターゲットパスを作成し、レコーディングファイルの集中管理を行いやすくします。
![](https://qcloudimg.tencent-cloud.cn/raw/077dfa198a68ac0f77bc6716e65c41a7.png)

3. このパスを命名し、所属するバケットのアクセスドメイン名と結合してStreamLive時間指定レコーディングファイルのターゲットプッシュアドレスを構成します。
![](https://qcloudimg.tencent-cloud.cn/raw/474ebe6587dec1f4172d94226f8fc142.png)

所属するバケットの**アクセスドメイン名**は、バケットの**概要ページ**の**ドメイン名情報**ボックスで照会できます。
![](https://qcloudimg.tencent-cloud.cn/raw/3133262319ef5735ae287ef2821a5af0.png)

上の図の例では、StreamLive時間指定レコーディングファイルのターゲットプッシュアドレスはhttps://${your-bucket-name}-${appid}.cos.ap-mumbai.myqcloud.com/streamlive-scheduled-recordです。事前にこのアドレスを記録しておき、この後の設定の際に使用します。

4. StreamLiveチャネル設定ページに戻り、時間指定レコーディングを行いたいチャネル名をクリックし、**Plan**タブに進んで設定を行います。
![](https://qcloudimg.tencent-cloud.cn/raw/e87cbf8e8ff1042941c99c5c946b4dc1.png)

5. **Create Event**をクリックし、ダイアログボックスに関連の設定情報を入力します。
![](https://qcloudimg.tencent-cloud.cn/raw/2ae655ad72824ca958a87fe1461d5ba2.png)
- **Event Type**：Time Recordを選択します。
- **Event Name**：今回のレコーディングイベントのカスタム命名を行います。
- **OutputGroupName**：プルダウンメニューからこのチャネルに設定済みの出力グループ名を選択します。
- **ManifestName**：レコーディングファイル再生リストファイルの名称です。チャネルの出力形式がHLSの場合、このファイルリストの拡張子名はm3u8となり、DASH形式の場合、拡張子名はmpdとなります。
- **DestinationUrl1**：入力の前に作成して記録した完全なCOSストレージパスであり、バケットドメイン名が含まれます。
- **Timing**：レコーディングを行いたい時間の情報を選択します。

6. **Confirm**をクリックして確認し、送信すれば、時間指定レコーディングの設定は完了です。チャネルはプッシュ信号を受信すると、設定された時間に従ってビデオレコーディングを行い、あらかじめ設定したターゲットアドレスにファイルをプッシュします。


