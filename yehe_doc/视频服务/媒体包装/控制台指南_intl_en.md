## Overview

StreamPackage is a premium high-quality video muxing and origin-pull platform newly launched by Tencent Cloud, which provides professional, stable, and secure video muxing and delivery services for global users. It simplifies video packaging and delivery and enhances the origin resiliency, which enables video content providers to stream videos securely and stably on a large scale.

The StreamPackage service is managed at the channel level in the StreamPackage console. By reshaping the video content, it puts the encoded and compressed video tracks and audio tracks in the live streaming origin server in a certain format, so that video content providers can stream videos securely and stably on a large scale.

## Console overview

The StreamPackage console provides a rich set of useful features and a simple and flexible access experience. The StreamPackage service is managed at the channel level in the StreamPackage console in four modules: channel, input, endpoint, and CDN.

![img](https://main.qcloudimg.com/raw/2d70be467d74639158d0be4ea94692d2.png)

## Prerequisites

- You have a domain name used for CDN playback (if you need to use Tencent Cloud LVB CDN for content distribution).
- You have [activated the LVB service](https://console.cloud.tencent.com/live).
- Log in to the [StreamPackage console](https://console.cloud.tencent.com/mdp/channel).

## Directions

### 1.   Select an AZ

Currently, StreamPackage is available in three AZs: Mumbai (India), Bangkok (Thailand), and Seoul (Korea), which you can choose as needed. It will be available in AZs such as Tokyo (Japan) soon. If you need to use the service in other AZs, please [contact us](https://intl.cloud.tencent.com/contact-sales).

![img](https://main.qcloudimg.com/raw/d939a324316775e3ccef4c4658599b48.png)

### 2.   Create a channel

A channel holds the basic input/output stream configurations in StreamPackage. You can create and configure a channel to input a live stream with a specified protocol, or create an origin-pull endpoint to output the live stream.

1. Click "Create Channel" to create a channel.

2. Enter a channel name and select an input protocol (HLS and DASH supported).

![img](https://main.qcloudimg.com/raw/f545e69458ff80b55c6775219d574374.png)

3. Enter the relevant parameters of the selected HLS or DASH protocol.

- **Max Segment Duration** indicates the maximum segment duration of the ts/m4s segments of the HLS or DASH stream pushed to this channel, which is 15s by default.
- **Max Playlist Duration** indicates the maximum total duration of the m3u8/mpd list of the HLS or DASH stream pushed to this channel, which is 600s by default and can be customized as needed.

>? If the channel you are creating pushes primary and backup streams at the same time, in order to quickly switch to the backup stream when the primary stream is exceptional, we recommend you set this parameter to be slightly greater than the actual maximum segment duration so as to achieve better and faster switching.

4. Click "Create" to complete the creation.

### 3.   View a channel

#### View channel information

After the channel is created, you will be redirected to the channel details page (you can also get there by clicking the channel name or "Info" on the right). This page displays the channel's name, ID (automatically generated by the backend), specified input protocol, and related configuration parameters. At the same time, two inputs are automatically generated based on the specified protocol.

![img](https://main.qcloudimg.com/raw/d962c942d07f8303832d070c7d0d2a26.png)

#### View an input

Input is the basic unit of channel. Based on the channel you created, the backend will automatically generate two inputs and corresponding URLs to which you can push the live stream.

![img](https://main.qcloudimg.com/raw/9fc040a6cb575be7411327476f0fe7a1.png)

The input component supports authentication. You can configure authentication for each input. Click "Authentication" in the "Operation" column of an input to open a pop-up window, and click ![img](file:///C:/Users/JACKYS~1/AppData/Local/Temp/msohtmlclip1/01/clip_image012.jpg) to enable the authentication configuration. The backend will automatically generate a username and password for it and authenticate streams by using HTTP authentication. Then, click "Rotate credentials" to complete the authentication configuration.

![img](https://main.qcloudimg.com/raw/6927ebe8232a26cb341aa1b69f008e45.png)

>! Once you rotate credentials, the credentials of existing channels will become invalid.

#### Create an endpoint

You can create an endpoint to pull streams from an origin server.

1. Click "Create Endpoint".

![img](https://main.qcloudimg.com/raw/ce143b55735dee33f7e708c5ea19f89a.png)

2. Enter the endpoint name and type. By default, the endpoint type is the same as the input protocol.

3. Enable/Disable the IP blocklist/allowlist and AuthKey as needed.

- IP blocklist/allowlist: you can allow only authorized IPs to push or reject exceptional IPs to push.
- AuthKey: you can perform authentication by using http-header through X-TENCENT-PACKAGE.

![img](https://main.qcloudimg.com/raw/d6a261b21e2c020365f6aa789c95e0dd.png)

4. Click "Create" to save the settings and complete the creation. You can modify or delete an endpoint and use the generated endpoint URL to pull streams from an origin server and distribute them.

![img](https://main.qcloudimg.com/raw/219346607e144822c43173ba1e055905.png)

#### Configure CDN

StreamPackage supports configuring LVB CDN in channels. After the configuration is completed, you can directly distribute live streams in the channels through LVB CDN. This requires you to activate the LVB service and complete the **two-way authorization** between StreamPackage and LVB first.

Understand the following terms first:

- LVB CDN: CDN service in Tencent Cloud LVB. StreamPackage integrates and reuses this capability, so that the live streams in your StreamPackage channels can be quickly distributed and played back through LVB CDN.
- CDN domain name/CDN playback domain name: a playback domain name in LVB CDN used for live stream distribution.

1. Activate the LVB service

Before configuring CDN, please make sure that you have activated the [LVB service](https://console.cloud.tencent.com/live?from=product-banner-use-lvb).

2. Authorize StreamPackage to access LVB

Go back to the StreamPackage console, open the details page of the channel for which you need to configure CDN, select the CDN tab, and click "Authorization" below to start authorizing StreamPackage to access the LVB service.

>? After completing the authorization for StreamPackage to access LVB, StreamPackage can create a LVB playback domain name for the channel.

![img](https://main.qcloudimg.com/raw/d0f1bc546937e0fbbb111bd6d97f2557.png)

**Click "Click here" to authorize StreamPackage to use LVB CDN.** If you want to use the StreamPackage feature, you need to allow StreamPackage to access your certain resources, and it will access these authorized resources through service roles to implement the feature. Click "Authorize Now" to redirect to "Role Management", and click "Grant" to grant StreamPackage the permission to access related service APIs.

![img](https://main.qcloudimg.com/raw/c2e6a9006094003091539f31d1d4c63c.png)

![img](https://main.qcloudimg.com/raw/a6476145b574ebbfe7f828dbbbfce984.png)

![img](https://main.qcloudimg.com/raw/b18b2fbb7440d557ee82093d44660258.png)

You will be automatically redirected back to the StreamPackage console. Click "Authorization completed" to indicate that StreamPackage has been authorized to use LVB CDN.

![img](https://main.qcloudimg.com/raw/2e7a6e29600485b593323658cf738b7d.png)

![img](https://main.qcloudimg.com/raw/3374604fff9c19ec580eb6a43af7f86e.png)

Click "Next".

3. Authorize LVB to access StreamPackage

**Click "Click here" to go to the CDN console and authorize LVB CDN to use StreamPackage. Then, the authorization status in the LVB console will become "Activated".**

![img](https://main.qcloudimg.com/raw/3be8efcd4c8302b15df46be54daebed4.png)

![img](https://main.qcloudimg.com/raw/c63def0152b6d95901929b7abc093d59.png)

Go back to the StreamPackage console. Click “Completed”

![img](https://main.qcloudimg.com/raw/2616575aa0b6d56323eafcfac0aec9f8.png)

At this point, the system shows that LVB CDN is authorized to use StreamPackage. Click "Authorization Completed" below. **So far, you have completed the two-way authorization between StreamPackage and LVB (which means that you can quickly create a CDN playback domain name through a StreamPackage channel, and LVB can also pull streams from the channel for distribution).**

![img](https://main.qcloudimg.com/raw/5e3084a78e0ce61a0a9eabd5a61c9a90.png)

4. Quickly configure a CDN playback domain name

After completing the above two-way authorization, open the CDN tab and click "Edit Configuration" to quickly configure CDN.

![img](https://main.qcloudimg.com/raw/4d2031b1fe8c42a1a05c7b619291e1dd.png)

Enter the domain name used for CDN playback and click "Confirm" to complete the configuration.

![img](https://main.qcloudimg.com/raw/ee8a3bf7ab68b655bba010df76bac910.png)

![img](https://main.qcloudimg.com/raw/1fd6d414ef8fb41cee52c0a489c79395.png)

>?
>- After the newly created playback domain name is added successfully, the system will automatically assign it a CNAME domain name (suffixed with .liveplay.myqcloud.com), which cannot be accessed directly before you complete the CNAME configuration at your domain name service provider. After the configuration takes effect, LVB can be used properly. For more information on the CNAME operations, please visit [Configuring CNAME for Domain Name](https://intl.cloud.tencent.com/document/product/267/31057。).
>- The playback region of the CDN playback domain name configured in StreamPackage is outside the Chinese mainland (including Hong Kong/Macao/Taiwan (China)) by default. If you need to distribute live streams in the Chinese mainland, according to applicable laws and regulations, you need to get an ICP filing for the playback domain name. Please click "Go to LVB CDN console" to do so.

#### Play back through the configured playback domain name

After the StreamPackage channel is bound to the CDN playback domain name, replace the domain name in the endpoint's playback address with the CDN playback domain name to play back normally.

For example:

If the endpoint pull address of your channel is:

http://123456789.ap-seoul.streampackage.srclivepull.myqcloud.com/v1/017697a3513109df73abda3c4b26/017697a918bf09dfabc033b04d43/main.m3u8

Then your CDN playback address is:

http://CDN playback domain name/v1/017697a3513109df73abda3c4b26/017697a918bf09dfabc033b04d43/main.m3u8

After the configuration is completed, please contact us for configuration optimization to ensure a better experience for you.

>? Using LVB CDN for distribution and playback will incur LVB traffic fees. For more information, please see [LVB Billing Overview](https://intl.cloud.tencent.com/zh/document/product/267/2818?lang=zh&pg=).

### 4.   Edit and delete a channel

On the channel list page, you can manage all channels that have been created. You can click "Info", "Edit", or "Delete" in the "Operation" column on the right to view channel details and modify or delete a channel. To delete a channel associated with endpoints, delete all endpoints first.

![img](https://main.qcloudimg.com/raw/bd7b3e8c0033d6591f5b61b2974dc12a.png)