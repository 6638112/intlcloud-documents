## 개요

Tencent Cloud StreamLink는 안전하고 안정적인 실시간 전송 기능을 제공함으로써 빠르고 안정적이며 딜레이가 짧은 비디오 스트림 미디어 전송에 대한 비디오 공급업체의 니즈를 충족시켜 줍니다. StreamLink 콘솔은 스트림을 바탕으로 관리하며, 모든 스트림은 스트림 전송 링크와 일대일 대응됩니다. StreamLink 콘솔을 기반으로 비디오 스트림 미디어를 빠르고 안정적으로 전송하는 한편, 전송 중의 비디오 스트림에 대한 포괄적인 모니터링도 진행합니다.

## 전제 조건

- 푸시 스트림 IP 주소에 사용됩니다.
- [미디어 전송 콘솔](https://console.cloud.tencent.com/mdc/flow)에 로그인되어 있습니다.

## 작업 순서

### 1.   리전 선택

새로운 스트림을 생성하기 전에 새로 생성할 스트림 전송 링크의 시작 지점을 선택합니다. 현재 중국 화동, 아시아, 중국 홍콩/중국 마카오/중국 대만(중국지역), 미국 서부 및 유럽 지역의 여러 노드를 선택할 수 있습니다. 더 많은 노드를 배포 및 지원해야 하는 경우[고객센터](https://intl.cloud.tencent.com/contact-sales)로 문의주시기 바랍니다.

![img](https://main.qcloudimg.com/raw/40f51b438e95684be5aa3a85293a612a.png)

### 2.   신규 스트림 생성

[스트림 생성]을 클릭하여 생성 인터페이스로 들어간 뒤 다음과 같이 설정합니다.

1. 신규 스트림의 기본 정보 입력.

- 사용자 정의 입력 스트림의 이름.
- 최대 대역폭을 선택, 10Mbps 또는 20Mbps 선택 가능.

2. 입력 소스의 정보 입력.

- 입력 소스 이름.
- 입력 소스의 프로토콜 유형을 SRT, RTMP 또는 RTP로 선택.

>!
>- 입력 소스의 프로토콜 유형을 SRT로 설정한 경우, 지연 설정을 구성해야 합니다. 해당 매개변수는 Server의 전송 및 수신 buffer 크기에 영향을 미치며, 네트워크 상태가 좋지 않을 경우에는 해당 매개변수를 늘리는 것을 권장합니다. 실제 비즈니스 니즈에 따라 딜레이 설정을 입력합니다. 기본값은 120ms입니다.
>- 딜레이 설정은 생성 후 제공된 IP주소에 대해 ping 테스트를 진행하여 최적의 설정을 확인한 뒤 수정할 수 있습니다. 또는 기본값을 그대로 적용한 뒤 송신 측의 딜레이 설정을 조정해도 동일한 결과를 얻을 수 있습니다.
>- StreamLink는 SRT 프로토콜의 암호화 및 복호화 전송을 지원합니다. StreamLink로 푸시한 스트림이 암호화된 전송 스트림인 경우, [복호화 설정] 스위치를 활성화하여 복호화 키를 입력하고, 보안키 길이를 선택하여 StreamLink에 제공함으로써 업스트림 스트림을 복호화합니다.
![img](https://main.qcloudimg.com/raw/612a69af560cc583b9e2a420f83db35d.png)

- 입력 소소의 IP 화이트리스트(CIDR 포맷)를 입력하면 화이트리스트에 포함된 IP만 해당 스트림에 푸시할 수 있습니다.
- 또한 스트림의 입력 소스에 대한 설명 정보를 설정하여 서로 다른 입력 소스를 편리하게 구분할 수 있습니다.

![img](https://main.qcloudimg.com/raw/9996153b4d81bff835b8a163366a9916.png)

설정을 입력한 뒤, [생성]을 클릭하여 신규 스트림 생성을 완료합니다.

### 3.   스트림 조회

스트림 관리 인터페이스에서 스트림 이름을 클릭하여 스트림의 상세 내용 인터페이스로 들어갑니다. 여기에서 스트림의 기본 정보와 입력 소스 기본 정보 조회, 출력 노드 생성 및 구성, 출력 상세 내용 조회, 로그 및 상태 데이터 조회가 가능합니다.

- #### 정보

스트림ID, 스트림 이름, 입력 리전, 상태, 최대 대역폭 등 스트림의 기본 정보를 조회할 수 있습니다. 또한 [편집]을 클릭하면 스트림 이름을 변경할 수 있습니다.

![img](https://main.qcloudimg.com/raw/5ea936332f14daa6c2494a0e9077a825.png)

- #### 입력 소스

입력 소스의 기본 정보 및 프로토콜 유형을 조회할 수 있습니다. 입력 소스 ID, 입력 소스 이름, 기본/보조 입력 주소, CIDR IP 화이트리스트 및 입력 소스 설명 등이 이에 해당합니다. 또한 [편집]을 클릭하면 입력 정보를 변경할 수 있습니다.

>! 전송 스트림이 이미 출력 노드에 구성되어 있을 경우에는 입력 소스 유형 수정이 지원되지 않습니다.

![img](https://main.qcloudimg.com/raw/74538cf1cd523d1a98d71531305c61c2.png)

- #### 출력

StreamLink는 하나의 스트림의 입력 소스에 대해 여러 리전의 출력 노드 설정을 지원합니다. 여기에서 모든 출력 노드 정보를 조회할 수 있으며, 출력 노드를 새로 생성/삭제/편집할 수도 있습니다.

>! 실행 중인 스트림은 출력 노드를 새로 생성, 편집 또는 삭제할 수 없습니다.

1. 출력 노드를 생성하려면 출력 이름, 출력 리전, 출력 프로토콜 유형 SRT/RTMP/RTP, 기본/보조 IP 타깃 주소 및 포트와 출력 설명을 입력해야 합니다.

2. StreamLink는 출력 프로토콜의 리먹싱(remuxing)을 지원합니다. 출력 생성 시 출력 프로토콜 유형을 선택할 수 있으며, SRT, RTMP, RTP 유형을 지원합니다. SRT 출력 프로토콜 유형 선택 시 메인/보조 IP 의 타깃 주소와 포트를 입력해야 합니다. 또한 실제 비즈니스 니즈에 따라 딜레이 설정을 입력합니다. 기본값은 120ms입니다.

3. [확인]을 클릭하여 신규 생성한 출력 노드를 저장합니다.

>?
>- 입력 프로토콜이 SRT인 경우, 출력 프로토콜은 RTP를 지원하지 않습니다.
>- 출력 노드의 기본 스트림과 보조 스트림은 서로 독립적이며, 입력 소스의 기본/보조 채널에 일대일 대응됩니다. 즉, 스트림의 기본 채널로 푸시한 스트림은 StreamLink를 거쳐 전송된 뒤 기본 타깃 주소를 통해 출력되고, 스트림의 보조 채널로 푸시된 스트림은 StreamLink을 거쳐 전송된 뒤 보조 타깃 주소를 통해 출력되며, 두 스트림은 서로 독립적입니다.
>- 기본 출력 주소는 필수 입력 항목이며, 보조 출력 주소는 선택 입력 항목입니다.
>- SRT 프로토콜의 출력 스트림을 암호화해야 하는 경우, 여기에서 [암호화 활성화] 설정을 하고 암호화 키 입력 및 암호화 키 길이 선택을 할 수 있습니다.

![img](https://main.qcloudimg.com/raw/df0ba72d6c50b12fc37e2763513cf31f.png)

4. 이름, 출력 ID, 출력 리전, 프로토콜 유형, 아웃바운드 IP 주소와 IP 타깃 주소를 포함한 해당 스트림 하의 모든 출력 노드 정보를 조회할 수 있습니다.

![img](https://main.qcloudimg.com/raw/812429b52baa93b9b330a8b3b1104f2f.png)

5. 출력 노드 정보의 편집 및 삭제를 지원합니다. 출력 노드의 이름, 기본/보조 IP 타깃 주소 및 포트와 출력 설명을 수정할 수 있으며, **출력 리전과 출력 프로토콜 리전의 수정은 지원하지 않습니다**.

![img](https://main.qcloudimg.com/raw/9d41cc9228d856869827be032433e12d.png)

- #### 로그

로그 모듈에서 업스트림과 다운스트림 과정에서의 이벤트 정보를 조회할 수 있습니다. [확인]을 클릭하여 로그 이벤트 정보를 생성합니다. 다음과 같은 정보가 포함됩니다.

- 시간: 이벤트 발생 시간.
- 유형: 이벤트 유형(입력-기본 스트림, 입력-보조 스트림, 출력-기본 스트림, 출력-보조 스트림). 필터링을 지원.
- 입력/출력 이름: 이벤트를 발생시킨 입력/출력 이름.
- 정보: 이벤트 상세 정보.

>?
>- 시간대 조정을 선택할 수 있으며, 기본값은 현지 시간대입니다.
>- 로그 데이터는 현재 5일 이내의 데이터를 최대 24시간 단위로만 조회 가능합니다.

 

![img](https://main.qcloudimg.com/raw/4418b689e88eb332b885677e43cbe5a6.png)

- #### 상태

상태 모듈에서 업스트림 및 다운스트림 과정에서의 소스 및 출력 스트림의 품질을 모니터링할 수 있습니다. [기본]/[보조]를 선택하여 기본/보조 소스 또는 출력 데이터를 조회합니다. [확인]을 클릭하여 관련 데이터를 생성합니다. 다음과 같은 데이터가 포함됩니다.

| 모니터링 출처 | 대역폭            | 비디오                     | 오디오                       | SRT 프로토콜 지표          |                              |                                                              |              |
| ------------- | ----------------- | -------------------------- | ---------------------------- | -------------------------- | ---------------------------- | ------------------------------------------------------------ | ------------ |
| 비트 레이트   | 프레임 레이트     | 비트 레이트                | 프레임 레이트                | 패킷 손실률                | 재전송률                     | RTT                                                          | 폐기 패킷 수 |
| 소스          | 입/출력 총 대역폭 | 입/출력 비디오 비트 레이트 | 입/출력 비디오 프레임 레이트 | 입/출력 오디오 비트 레이트 | 입/출력 오디오 프레임 레이트 | SRT 프로토콜 관련 매개변수로, SRT 프로토콜을 선택한  경우에만 표시됩니다. |              |
| 출력          |                   |                            |                              |                            |                              |                                                              |              |

>?
>- 시간대 조정을 선택할 수 있으며, 기본값은 현지 시간대입니다.
>- 상태 데이터는 현재 5일 이내의 데이터를 최대 24시간 단위로만 조회 가능합니다.
>- 비디오, 오디오 비트 레이트와 프레임 레이트 우측에서 비디오 또는 오디오 채널을 전환하여 선택할 수 있습니다.
>- 프로토콜이 SRT인 경우, 우측에서 패킷 손실률/재전송률/RTT/폐기 패킷 수 중 표시할 매개변수를 전환하여 선택할 수 있습니다.

![img](https://main.qcloudimg.com/raw/107263b0b3b1a1321222f891e24e136a.png)

![img](https://main.qcloudimg.com/raw/bc8dd565e63e74eb15e1f3868cdf9083.png)

### 4.   스트림 시작/중단

스트림 및 출력 노드 생성 완료 후, [시작]을 클릭하면 스트림이 실행됩니다. 사용 후, [중단]을 클릭하면 스트림 실행이 중단됩니다.

>! 출력 노드가 생성되지 않은 스트림은 시작할 수 없습니다.

![img](https://main.qcloudimg.com/raw/df397e7413a9d3bb91956de33f9c2130.png)

### 5.   스트림 삭제

스트림을 삭제해야 하는 경우, [삭제]를 클릭하여 해당 스트림의 구성 정보를 삭제할 수 있습니다.

![img](https://main.qcloudimg.com/raw/c5d2f2a49521be8d02f0a8cb2bb805b9.png)