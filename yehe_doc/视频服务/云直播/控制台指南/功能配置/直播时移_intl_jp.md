ライブストリーミングタイムシフトは、CSSレコーディングをベースにし、ライブストリーミング中にプレイバックする機能を実装します。ユーザはライブストリーミング開始後に、リアルタイムで過去のある時刻からプレイバックし、再生前のライブストリーミングコンテンツを見ることができます。この機能は、試合を生配信中にハイライトをプレイバックすることによく使用されます。

## 注意事項
- テンプレートを作成した後、プッシュドメイン名でバインドすることができます。テンプレートは、バインドが完了して約5分～10分後に反映されます。
- ライブストリーミングタイムシフト機能を有効にすると、タイムシフトデータを書き込んだ量に応じて課金されます。また、ライブストリーミングタイムシフト機能を使用する時、[トラフィック帯域幅料金](https://intl.cloud.tencent.com/document/product/267/2819)も発生します。
- タイムシフトトランスコーディングストリームはトランスコーディングタスクをリクエストするため、トランスコーディング料金も発生します。選択したトランスコーディングテンプレートが間違って削除されていないことを確認する必要があります。間違って削除したタイムシフトトランスコーディングストリームは有効になりません。

##  前提条件
- Tencent CSSサービスを有効化し、[プッシュドメイン名](https://intl.cloud.tencent.com/document/product/267/35970)を追加していること。

- タイムシフトテンプレートの作成。
1. CSSコンソールにログインし、機能設定>[ライブストリーミングタイムシフト](https://console.cloud.tencent.com/live/config/time-shift/template)に進みます。
2. **タイムシフトテンプレート作成**をクリックし、以下のようにテンプレートの情報を設定します：

<table>
   <thead><tr><th width="20%" colspan=2>設定項目</th><th>設定の説明</th></tr></thead>
   <tbody><tr>
   <tr>
   <td colspan=2>テンプレート名</td>
   <td>ライブストリーミングタイムシフトテンプレート名。カスタマイズ可能です。テンプレート名は1～10文字（漢字、英数字および、_、-のみがサポーされる）にしてください。</td>
   </tr><tr>
   <td colspan=2>テンプレートの説明</td>
   <td>ライブストリーミングタイムシフトテンプレートの説明。カスタマイズ可能です（漢字、英数字および、_、-のみがサポーされる）。</td>
   </tr><tr>
   <td colspan=2>リージョンのバインディング</td>
   <td>デフォルトで中国大陸とします。海外及び中国香港・マカオ・台湾を選択できます。正しいタイムシフト再生アクセラレーションリージョンをバインディングしてください。リージョンを跨ったタイムシフト再生で、ラグやプッシュ不可が発生することがあります。</td>
   </tr><tr>
   <td rowspan=3 width="10%">タイムシフトのコンテンツ</td>
   <td width="30%">オリジナルストリーム</td> 
   <td>このオプションを選択した場合、タイムシフトされたビデオコンテンツはオリジナル入力ストリームで、トランスコーディング、ウォーターマーク、ミクスストリーミングエフェクトがありません。WebRTCを介してオリジナルストリームをプッシュすると、オーディオが失われますので、他のコンテンツを選択することをお勧めします。</ul></td>
   </tr><tr>
   <td>ウォーターマークストリーム</td>
   <td>このオプションを選択した場合、タイムシフトされたビデオコンテンツは、ウォーターマークテンプレートで設定されたウォーターマークを追加したライブストリーミングのコンテンツです。</td>
   </tr><tr>
   <td>トランスコーディングストリーム</td>
       <td>このオプションを選択した場合、タイムシフトされたビデオコンテンツは、トランスコーディングテンプレートidでトランスコーディングをリクエストしたっコンテンツです。トランスコーディングテンプレートが削除された場合、タイムシフトされたプレイバックコンテンツが無効になります。トランスコーディングストリームはトランスコーディング料金が発生します。
</td>
   </tr><tr>
   <td colspan=2>タイムシフト日数</td>
   <td>デフォルトは1日です。選択可能な値は、3日、7日、15日、30日です。</td>
   </tr><tr>
   <td colspan=2>TSマルチパートの長さ</td>
   <td>デフォルトは5秒です。設定範囲は3秒～10秒です。</td>
   </tr><tr>
   </tbody></table>

3. 入力が完了したら、**保存**をクリックして終了します。

## ドメイン名のバインド

1. CSSコンソールにログインし、**機能設定**>[**ライブストリーミングタイムシフト**](https://console.cloud.tencent.com/live/config/time-shift/template)に進みます。
   - **ドメイン名と直接バインド：**左上にある**ドメイン名のバインド**をクリックします。
   - **タイムシフトテンプレート新規作成完了後にドメイン名とバインド：**[タイムシフトテンプレートの作成](#C_record)が完了した後、プロンプトボックスの中の**ドメイン名のバインドへ**をクリックします。

2. ドメイン名バインドウィンドウで、バインドする**タイムシフトテンプレート**および**プッシュドメイン名**を選択し、**OK**をクリックすればバインドが完了します。

>? **追加**をクリックして現在のテンプレートに複数のプッシュドメイン名をバインドする機能をサポートしています。

## バインドの解除

1. CSSコンソールにログインし、**機能設定**>[**ライブストリーミングタイムシフト**](https://console.cloud.tencent.com/live/config/time-shift/template)に進みます。
2. すでにドメイン名にバインドされているタイムシフトテンプレートを選択し、バインドを解除するドメイン名を選択して右側の**バインド解除**をクリックします。
3. 現在バインドされているドメイン名のバインドを解除するかを確認し、**OK**をクリックすればバインドが解除されます。

>? タイムシフトテンプレートのバインド解除は、ライブストリーミング中のストリームには影響しません。

[](id:change)

## テンプレートの変更

1. **機能設定** >[**ライブストリーミングタイムシフト**](https://console.cloud.tencent.com/live/config/time-shift/template)に進みます。
2. 作成済みのタイムシフトテンプレートを選択し、右側の**編集**をクリックし、テンプレートの情報を変更して、**保存**をクリックすると完了します。

[](id:delete)
## テンプレートの削除

1. CSSコンソールにログインし、**機能設定**>[**ライブストリーミングタイムシフト**](https://console.cloud.tencent.com/live/config/time-shift/template)に進みます。
2. 作成済みのタイムシフトテンプレートを選択し、右上の**削除**をクリックします。
3. 現在のタイムシフトテンプレートを削除するかを確認し、**OK**をクリックすれば削除が完了します。

>! 
>- テンプレートがすでにバインドされている場合、[バインド解除](#unite)を行ってから、削除を行ってください。
>- コンソールでドメイン名を使用しタイムシフトテンプレートを管理しますので、バインドされたインターフェースで作成したルールを削除することはできません。

## 関連する操作

タイムシフトテンプレートを**ドメイン名でバインド**と**バインド解除**する方法については、タイムシフト設定をご参照ください。