CSSトランスコード機能（ビデオトランスコードとオーディオトランスコードを含みます）とは、ライブストリーミングからリアルタイムでプッシュされたオリジナルストリームを視聴者にプッシュする前に、クラウドでさまざまなコーデック、解像度、ビットレートのトランスコードストリームに変換するプロセスです。各種インターネット環境、各種端末デバイスなど、各種シナリオでの再生ニーズを満たします。ここでは、コンソールによってトランスコードテンプレートを作成、バインド、バインド解除、変更、削除する方法をご紹介します。

**トランスコードテンプレートの作成には次の2つの方法があります。**

- CSSコンソールによってトランスコードテンプレートを作成します。操作手順の詳細は[標準トランスコードテンプレートの作成](#C_trans)、[高速高画質トランスコードテンプレートの作成](#C_topspeed)、[オーディオのみのトランスコードテンプレートの作成](#C_audio)をご参照ください。
- ライブストリーミングチャネルのトランスコードテンプレートを作成するAPI。具体的なパラメータおよびサンプルの説明は、[トランスコードテンプレートの作成](https://intl.cloud.tencent.com/document/product/267/30790)をご参照ください。


## 注意事項
- CSSは標準トランスコーディング、高速高画質トランスコーディング、オーディオのみのトランスコーディングをサポートします。以下の機能を使用する場合は、関連の課金説明について理解しておいてください。
   - 標準トランスコーディング：[標準トランスコーディングリソースパック](https://cloud.tencent.com/document/product/267/34174#standard_pag)、[標準トランスコーディングの後払い](https://intl.cloud.tencent.com/document/product/267/39604)。
   - 高速高画質トランスコーディング：[高速高画質トランスコーディングリソースパック](https://intl.cloud.tencent.com/document/product/267/39604#s_trans)、[高速高画質トランスコーディングの後払い](https://intl.cloud.tencent.com/document/product/267/39604)。
- **高速高画質トランスコーディング**は**標準トランスコーディング**と比較して画質がより優れ、ビットレートがさらに低くなっています。スマートなケースの識別、動的コーデックによって、CTU/ライン/フレームの3つのレベルのビットレートは精確にモデルを制御して、より低いビットレート（平均30%以上を節約）を実現してさらに高解像度のストリームメディアサービスを提供します。ライブゲームブロードキャスト、ライブショーブロードキャスト、イベント活動ライブストリーミングなどのシーンに広く活用できます。
- テンプレートを作成すると、再生ドメイン名にバインドできます。バインド完了後約5分～10分後に有効になります。
- トランスコードテンプレートのバインド後は、対応するCSSストリームStreamNameの後ろに`_トランスコードテンプレート名`を追加してトランスコードストリームアドレスを生成します。幅と高さ、または長辺、短辺を同時に設定した場合は、画面の伸縮で変形しないように、プッシュストリームのオリジナル解像度が可能な限り設定値の比率に近くなるようにします。
- トランスコードテンプレートをバインドしてから、対応するテンプレートでバインドルールを表示します。またAPIによってより詳細なルールを作成している場合は、それに基づき確認および[バインド解除](#untie)をすることもできます。
- 単一の再生ドメイン名に**複数のトランスコードテンプレート**をバインドすることができます。単一のトランスコードテンプレートに**複数の再生ドメイン名**をバインドすることができます。
- トランスコードテンプレートの設定数量の上限は**50個**です。

[](id:create)
## トランスコードテンプレートの作成
[](id:C_trans)
### 標準トランスコードテンプレートの作成

1. CSSコンソールにログインし、【機能設定】>[【CSSトランスコード】](https://console.cloud.tencent.com/live/config/transcode)と進みます。
2. 【トランスコードテンプレートの作成】をクリックして、トランスコードタイプは『**標準トランスコーディング**』を選択し、以下のとおり設定します。
  - 基本設定項目：テンプレート名、ビデオビットレート、画面解像度などの設定項目があります。詳細は[標準トランスコーディングの基本設定の説明](#C_trans_normal)をご参照ください。
  - 高度な設定項目（必須入力ではない）：【高度な設定】をクリックしてコンテンツを開き、設定を選択します。詳細は[標準トランスコーディングの高度な設定の説明](#C_trans_high)をご参照ください。
3. 入力が完了したら、【保存】をクリックすればOKです。

![](https://main.qcloudimg.com/raw/cde1db91ea2796656a0297889e918daa.png)

<table id="C_trans_normal">
<tr><th width="20%">標準トランスコーディングの基本設定項目</th><th>必須入力かどうか</th><th>説明</th></tr>
<tr>
<td>トランスコードタイプ</td>
<td>はい</td>
<td>選択可能なトランスコーディングタイプとして、<b>標準トランスコーディング</b>、高速高画質トランスコーディング、オーディオのみのトランスコーディングがあります。</td>
</tr><tr>
<td>テンプレート名</td>
<td>はい</td>
<td>CSSトランスコードテンプレート名は、アルファベット、アルファベットと数字の組み合わせのみをサポートし、数字のみの場合はサポートしません。入力できる文字数は1～10文字です。</td>
</tr><tr>
<td>テンプレートの説明</td>
<td>いいえ</td>
<td>CSSトランスコードテンプレートの概要説明では、中国語、英語、数字、「_（アンダーバー）」、「-（ハイフン）」のみサポートします。</td>
</tr><tr>
<td>推奨パラメータ</td>
<td>いいえ</td>
<td>これは<b>LD、SD、HD</b>の3種類のタイプをサポートします。選択後、システムは対応するビデオビットレート、ビデオ解像度の推奨値を自動で設定し、自動的に修正します。</td>
</tr><tr>
<td>ビデオビットレート <br>（単位：kbps）</td>
<td>はい</td>
<td>平均出力ビットレート。値の範囲：100Kbps～8000Kbps。<ul style="margin:0">
  <li>1000Kbps以下では100の入力のみサポートします。</li>
  <li>1000Kbps以上では500の入力のみサポートします。</li></ul>
</td>
</tr><tr>
<td>画面解像度</td>
<td>はい</td>
<td>デフォルトは【幅と高さにより設定】です。<li>入力値が高い値なら、【辺の長短に従って設定】に切り換えることができます。入力値は短辺値です。<li>入力値の範囲が0px～3000pxならば、入力する数値は2の倍数となり、別の辺はデフォルトで解像度の比率などに応じてズームします。</td>
</tr></table>


<table id="C_trans_high">
<tr><th width="20%">標準トランスコーディングの高度な設定項目 </th><th>必須入力かどうか</th><th>説明</th></tr>
<tr>
<td>コーデック</td>
<td>いいえ</td>
<td>デフォルトはオリジナルビットレートです。H.264とH.265の2種類のコーデックを選択できます。</td>
</tr><tr>
<td>ビデオフレームレート</td>
<td>いいえ</td>
<td>値の範囲は0fps～60fps。入力がない場合のシステムのデフォルト値は0fpsです。</td>
</tr><tr>
<td>キーフレームの間隔GOP<br>（単位：s/秒）</td>
<td>いいえ</td>
<td>GOPの設定範囲は2秒～6秒。GOPが大きくなるほど、レイテンシーは増加します。設定しない場合は、システムのデフォルト値になります。</td>
</tr><tr>
<td>パラメータ制限</td>
<td>いいえ</td>
<td>デフォルトでは無効になっており、手動で有効にできます。<br>パラメータ制限を有効にすると、入力CSSストリームのオリジナルパラメータが、設定した出力パラメータよりも小さいときは、CSSストリームはオリジナルパラメータに従って出力され、低クオリティのCSSストリームが強制的にパラメータ値を引き上げられて実際の画質への影響を防止します。</td>
</tr></table>


   

[](id:C_topspeed)

### 高速高画質トランスコードテンプレートの作成
1. CSSコンソールにログインし、【機能設定】>[【CSSトランスコード】](https://console.cloud.tencent.com/live/config/transcode)と進みます。
2. 【トランスコードテンプレートの作成】をクリックして、トランスコードタイプは『**高速高画質トランスコーディング**』を選択し、以下のとおり設定します。
  - 基本設定項目：テンプレート名、ビデオビットレート、画面解像度などの設定項目があります。詳細は[高速高画質トランスコーディングの基本設定の説明](#C_topspeed_normal)をご参照ください。
  - 高度な設定項目（必須入力ではない）：【高度な設定】をクリックしてコンテンツを開き、設定を選択します。詳細は[高速高画質トランスコーディングの高度な設定の説明](#C_topspeed_high)をご参照ください。
3. 【保存】をクリックすれば完了です。

![](https://main.qcloudimg.com/raw/68e80755dce7d3fa52210d7237f89418.png)

<table  id="C_topspeed_normal">
<tr><th width="20%">高速高画質トランスコーディングの基本設定項目</th><th>必須入力かどうか</th><th>説明</th>
</tr><tr>
<td>トランスコードタイプ</td>
<td>はい</td>
<td>選択可能なトランスコーディングタイプとして、標準トランスコーディング、<b>高速高画質トランスコーディング</b>、オーディオのみのトランスコーディングがあります。</td>
</tr><tr>
<td>テンプレート名</td>
<td>はい</td>
<td>CSSトランスコードテンプレート名は、アルファベット、アルファベットと数字の組み合わせのみをサポートし、数字のみの場合はサポートしません。入力できる文字数は3～10文字です。</td>
</tr><tr>
<td>テンプレートの説明</td>
<td>いいえ</td>
<td>CSSトランスコードテンプレートの概要説明では、中国語、英語、数字、「_（アンダーバー）」、「-（ハイフン）」のみサポートします。</td>
</tr><tr>
<td>推奨パラメータ</td>
<td>いいえ</td>
<td>これは<b>LD、SD、HD</b>の3種類のタイプをサポートします。選択後、システムは対応するビデオビットレート、ビデオ解像度の推奨値を自動で設定し、自動的に修正します。</td>
</tr><tr>
<td>ビデオビットレート <br>（単位：kbps）</td>
<td>はい</td>
<td>平均出力ビットレート。値の範囲：100Kbps～8000Kbps。<li>1000Kbps以下では100の入力のみサポートし、</li><li>1000Kbps以上では500の入力のみサポートします。</li></td>
</tr><tr>
<td>画面解像度</td>
<td>はい</td>
<td>デフォルトは【幅と高さにより設定】です。<li>入力値が高い値なら、【辺の長短に従って設定】に切り換えることができます。入力値は短辺値です。</li><li>入力値の範囲が0px～3000pxならば、入力する数値は2の倍数となり、別の辺はデフォルトで解像度の比率などに応じてズームします。</li></td>
</tr>
</table>

<table  id="C_topspeed_high">
<tr><th width="20%">高速高画質トランスコーディングの高度な設定項目</th><th>必須入力かどうか</th><th>説明</th>
</tr><tr>
<td>コーデック</td>
<td>いいえ</td>
<td>デフォルトはオリジナルビットレートです。H.264とH.265の2種類のコーデックを選択できます。</td>
</tr><tr>
<td>ビデオフレームレート</td>
<td>いいえ</td>
<td>値の範囲は0fps～60fps。入力がない場合のシステムのデフォルト値は0fpsです。</td>
</tr><tr>
<td>キーフレームの間隔GOP<br>（単位：s/秒）</td>
<td>いいえ</td>
<td>GOPの設定範囲は2秒～6秒。GOPが大きくなるほど、レイテンシーは増加します。設定しない場合は、システムのデフォルト値になります。</td>
</tr><tr>
<td>パラメータ制限</td>
<td>いいえ</td>
<td>デフォルトでは無効になっており、手動で有効にできます。<br>パラメータ制限を有効にすると、入力CSSストリームのオリジナルパラメータが、設定した出力パラメータよりも小さいときは、CSSストリームはオリジナルパラメータに従って出力され、低クオリティのCSSストリームが強制的にパラメータ値を引き上げられて実際の画質に影響が出てしまうことを防止できます。</td>
</tr></table>

[](id:C_audio)
### オーディオのみのトランスコードテンプレートの作成

1. CSSコンソールにログインし、【機能設定】>[【CSSトランスコード】](https://console.cloud.tencent.com/live/config/transcode)と進みます。
2. 【トランスコードテンプレートの作成】をクリックして、トランスコードタイプは『**オーディオのみのトランスコーディング**』を選択し、[設定項目](#C_audio_normal)を入力して、【保存】をクリックします。

![](https://main.qcloudimg.com/raw/c12170c861b0ed188aed7047822902a6.png)

<table id="C_audio_normal">
<tr><th width="20%">オーディオのみのトランスコーディングの基本設定項目</th><th>必須入力かどうか</th><th>説明</th>
</tr><tr>
<td>トランスコードタイプ</td>
<td>はい</td>
<td>選択可能なトランスコーディングタイプとして、標準トランスコーディング、高速高画質トランスコーディング、<strong>オーディオのみのトランスコーディング</strong>があります。</td>
</tr><tr>
<td>テンプレート名</td>
<td>はい</td>
<td>CSSトランスコードテンプレート名は、アルファベット、アルファベットと数字の組み合わせのみをサポートし、数字のみの場合はサポートしません。入力できる文字数は3～10文字です。</td>
</tr><tr>
<td>テンプレートの説明</td>
<td>いいえ</td>
<td>CSSトランスコードテンプレートの概要説明では、中国語、英語、数字、「_（アンダーバー）」、「-（ハイフン）」のみサポートします。</td>
</tr>
</table>

[](id:related)
## ドメイン名のバインド
1. CSSコンソールにログインし、【機能設定】>[【CSSトランスコード】](https://console.cloud.tencent.com/live/config/transcode)に入ります。
2. 以下の方法でドメイン名をバインドするウィンドウに入ります。
  - **ドメイン名の直接バインド：**左上にある【ドメイン名のバインド】をクリックします。
    ![](https://main.qcloudimg.com/raw/ffa3a7d7c8392dc0509bf679f8d56c14.png)
  - **新規トランスコードテンプレート作成完了後のドメイン名バインド**：[トランスコードテンプレートの作成](#create)の完了後、プロンプトボックスの中の【ドメイン名のバインドに進む】をクリックします。
    ![](https://main.qcloudimg.com/raw/82060d2edf81b37a0706cc11833c9d9a.png)
3. ドメイン名バインドのウィンドウの中で、バインドしたい**トランスコードテンプレート**および**再生ドメイン名**を選択し、【OK】をクリックすればバインドが完了します。
![](https://main.qcloudimg.com/raw/8d0f571fab2c3765e3cebe5f5a819720.png)
>? 【追加】をクリックして現在のテンプレートに複数の再生ドメイン名をバインドする機能をサポートしています。



[](id:untie)
## バインドの解除
1. CSSコンソールにログインし、【機能設定】>[【CSSトランスコード】](https://console.cloud.tencent.com/live/config/transcode)に入ります。
2. ドメイン名をバインドしたトランスコードテンプレートを選択し、【バインド解除】をクリックします。
![](https://main.qcloudimg.com/raw/59ecf14bea1e5b3ffa7b1fe6da0d565b.png)
3. 現在バインドしているドメイン名のバインド解除が行われるかを確認して、【OK】をクリックすればバインドが解除されます。
![](https://main.qcloudimg.com/raw/e335a8c597413b90dfabda9a1f7f3150.png)



[](id:modify)
## テンプレートの修正
1. CSSコンソールにログインし、【機能設定】>[【CSSトランスコード】](https://console.cloud.tencent.com/live/config/transcode)に入ります。
2. 作成済みのトランスコードテンプレートを選択し、右側の【編集】をクリックすれば、テンプレートの情報修正ができます。
3. 【保存】をクリックすれば完了です。

![](https://main.qcloudimg.com/raw/202923ad5334c6ee3e5a879042aa0d5c.png)



[](id:delect)
## テンプレートの削除
>!   テンプレートがすでにバインドされている場合は、先に[バインドの解除](#untie)を行ってから、削除操作を行うことができます。 

1. CSSコンソールにログインし、【機能設定】>[【CSSトランスコード】](https://console.cloud.tencent.com/live/config/transcode)に入ります。
2. 再生ドメイン名をバインドしていないトランスコードテンプレートを選択して、【削除】をクリックします。
![](https://main.qcloudimg.com/raw/c3109628fcb4a5a4fabce8ad58c03db5.png)
3. 現在のトランスコードテンプレートを削除の是非を確認し、【OK】をクリックすれば削除が完了します。
![](https://main.qcloudimg.com/raw/af5f6c3cc83c8ed5b1f50d37a054ce1d.png)




## 関連操作
ドメイン名の次元によるトランスコードテンプレートの**バインド**と**バインドの解除**についての具体な操作および関連説明は、[トランスコーディング設定](https://intl.cloud.tencent.com/document/product/267/31062)をご参照ください。


