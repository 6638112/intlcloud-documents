Tencent Cloud는 Web 푸시 기능을 제공하며 라이브 방송의 카메라 수집, 화면 공유 수집, 로컬 파일 수집의 세 가지 수집 방법을 지원합니다. 푸시 스트림 주소를 빠르게 생성하고 온라인 푸시 스트림의 라이브 방송 기능을 테스트할 수 있습니다.

## 전제 조건
- [CSS 콘솔](https://console.cloud.tencent.com/live)에 로그인되어 있어야 합니다.
- [푸시 도메인](https://intl.cloud.tencent.com/document/product/267/35970)이 추가되어 있어야 합니다.
- 디바이스에 카메라가 설치되어 있어야 하며 브라우저에서 Flash 플러그 인의 카메라 호출 권한을 지원해야 합니다.

## 작업 단계
1. CSS 콘솔에 로그인하여 [**Web 푸시**](https://console.cloud.tencent.com/live/tools/webpush)를 선택합니다.

2. **수집 방법 선택**. 카메라 수집, 화면 공유 수집, 로컬 파일 수집의 세 가지 수집 방법을 선택할 수 있습니다.
    <dx-tabs>
    ::: 카메라 수집
    카메라 수집은 카메라/마이크(외부 지원)를 통해 비디오/사운드를 수집하는 것입니다. **카메라 활성화**/ **마이크 활성화**을 클릭합니다. 처음 활성화할 때 카메라와 마이크를 사용할 수 있는 브라우저 권한을 부여해야 합니다.
    ![](https://qcloudimg.tencent-cloud.cn/raw/c5585e8a4ce99d65ace7af7c63e39487.png)
    :::
    ::: 화면 공유 수집
   화면 공유 수집은 브라우저를 통해 해당 창/인터페이스를 수집하여 공유 및 수집하는 것입니다. **화면 공유 선택**을 클릭하여 공유할 항목을 선택합니다. 전체 화면/창/브라우저 태그가 될 수 있습니다.
    ![](https://qcloudimg.tencent-cloud.cn/raw/75d18898089e060dc118656c539d05a3.png)
    :::
    ::: 로컬 파일 수집
    로컬 파일 수집은 로컬 파일을 지정하여 이미지를 수집한 다음 Web 푸시 툴을 통해 CSS에 푸시하는 것입니다. **로컬 파일 선택**을 클릭하여 스트리밍할 콘텐츠를 선택합니다. 현재는 MP4 형식의 파일만 지원합니다.
    ![](https://qcloudimg.tencent-cloud.cn/raw/f1ae8270626dfe6cf0cbc822a907698e.png)
    :::
    </dx-tabs>


>! 미리보기가 활성화되거나 화면 콘텐츠 공유를 선택한 후에는 수집 방식을 전환할 수 없으며, 미리보기를 비활성화하거나 화면 공유가 취소된 후에만 수집 방식을 전환할 수 있습니다.
3. **수집 설정**. 수집 구성을 설정합니다. 기본값은 추천 사양입니다(해상도마다 추천 사양이 다름). 오른쪽 상단 모서리에 있는 **편집**을 클릭하여 설정을 수정할 수 있습니다. (**카메라 수집 및 화면 공유 수집은 사운드 샘플링 레이트 설정을 위한 추가 옵션, 로컬 파일 수집에는 해상도 및 비디오 프레임 레이트 설정 옵션만 있습니다.**)
![](https://qcloudimg.tencent-cloud.cn/raw/f126b1bf7035562517d8b6cf62c71cb0.png)
4. **푸시 스트림 설정**. 푸시 스트림 설정을 구성합니다. 기본값은 추천 사양입니다(해상도에 따라 비디오 비트 레이트 추천 사양이 다르며 오디오 비트 레이트는 수정을 지원하지 않음). 오른쪽 상단 모서리에 있는 **편집**을 클릭하여 설정(비디오 비트 레이트, 오디오 비트 레이트)을 수정할 수 있습니다.
>?Web 푸시의 오디오 인코딩 방식은 opus 코덱이며, 재생을 위해 LEB WebRTC 주소를 사용하는 것이 좋습니다. LVB의 재생 주소(RTMP/FLV/HLS)를 사용하여 시스템에서 자동으로 일반 재생을 위한 aac 인코딩으로 변환하므로 오디오 트랜스 코딩 비용이 발생합니다. 자세한 내용은 [과금 문서](https://intl.cloud.tencent.com/document/product/267/39604)를 참고하십시오.

![](https://qcloudimg.tencent-cloud.cn/raw/bb10b3c8d970e26d45d55eec229b5fb0.png)
5. **푸시 스트림 미리보기**. 수집 방법, 설정, 푸시 스트림 설정을 확인하신 후 미리보기를 활성화하면 우측에 푸시 스트림 미리보기를 보실 수 있습니다.
![](https://qcloudimg.tencent-cloud.cn/raw/efaa6ffdf3d1dac7ac6d23beac569671.png)
6. WebRTC 푸시 스트림 주소를 입력하거나 **빠른 생성**을 클릭하여 다음을 설정합니다.
	- 푸시 도메인 이름을 선택합니다.
	- AppName을 편집합니다. 한 도메인에 여러 개의 App 주소 경로를 구분하는 데 사용되며, 기본값은 live로 설정되어 있습니다.
	- 사용자 정의 스트림 이름 StreamName을 입력합니다. (예시: `test`)
	- 만료 시간을 선택합니다. (예시: `2021-08-28 16:16:52`)
	- **확인**을 클릭하여 WebRTC 푸시 스트림 주소를 빠르게 자동 생성하고 주소란에 입력합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/3437d3d4e57ae021aa3e0bea3e6fc4e6.png)
7. **푸시 스트림 시작**을 클릭하여 푸시 스트림을 시작합니다. ![](https://main.qcloudimg.com/raw/da098f4e5ab01021e3c4704b0de41240.png) 및 ![](https://main.qcloudimg.com/raw/aa8d8d4c9c32359a249de37ed0d723be.png) 버튼을 클릭하여 화면과 사운드를 비활성화/활성화할 수 있습니다. 화면 또는 사운드 시스템을 비활성화하면 여전히 정상적으로 수집되지만 미리보기할 수 없으며, 푸시 스트림은 정상적으로 시작될 수 있지만 화면이나 소리가 없습니다.
>? 푸시 스트림 성공 후, 미리보기 수집 상태는 변경 불가하며, 푸시 스트림 시 해당 대역폭/트래픽 또는 기타 부가 가치 서비스 요금이 발생할 수 있습니다.

![](https://qcloudimg.tencent-cloud.cn/raw/f8e3e7571205090d9ad14a4faa280125.png)
8. 푸시 스트림 성공 후 아래의 **즉시 보기**를 클릭하여 라이브 방송 푸시 스트림 관련 데이터로 빠르게 리디렉션할 수 있습니다. 현재 계정에 속하지 않은 푸시 스트림 주소는 푸시 스트림 데이터 및 재생 주소를 가져올 수 없습니다. 현재 계정의 푸시 도메인에서 푸시 스트림 주소를 생성하거나 릴레이 기능을 사용하여 현재 계정으로 라이브 방송 스트림을 동시에 전송할 수 있습니다.
![](https://qcloudimg.tencent-cloud.cn/raw/5ef686d9d9cb0355a8e4a5686cbcaee3.png)
9. **도메인 관리**에서 재생 도메인을 추가한 경우 **재생 도메인 선택** 아래에서 재생 주소를 빠르게 생성할 수 있습니다. 트랜스코딩 설정으로 재생 주소를 생성하려면 재생 트랜스코딩 스트림을 생성하기 전에 재생 도메인을 트랜스코딩 템플릿에 바인딩해야 합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/94d9969c54c3c0524e1c69f9dbf56d8d.png)
그 중, 재생 주소는 다음 네 부분으로 구성됩니다.
![](https://main.qcloudimg.com/raw/9094e537a4ae7cecc7feb9c88fb83a55.png)은(는) RTMP, FLV, HLS 및 UDP 프로토콜을 지원합니다. 재생 주소 뒤의 QR 코드를 클릭하여 [TCToolkit App](https://intl.cloud.tencent.com/document/product/1071/38147)을 통해 재생 주소를 볼 수 있습니다.
![](https://qcloudimg.tencent-cloud.cn/raw/9aa53207e02123a5fa7a4afae1d07724.png)

>! 선택한 재생 도메인에 HTTPS 설정이 활성화된 경우 생성된 FLV 및 HLS 주소는 기본적으로 HTTPS를 전달합니다.

