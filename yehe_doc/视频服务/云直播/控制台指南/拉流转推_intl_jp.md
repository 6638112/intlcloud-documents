Tencent Cloud CSSコンソールは、プルリツイートツールを提供します。ライブストリーミングソースにプッシュ機能がない場合やオンデマンドのビデオコンテンツをライブストリーミングの形式で配信する必要がある場合に、プルリツイートサービスはコンテンツをプルしプッシュする機能を提供します。CSSプッシュを必要とせず、既存のビデオ/ライブストリーミングを素早くプルし、ターゲットアドレスにプッシュすることができます。
![](https://main.qcloudimg.com/raw/8f0b044ce2104efdc1ed835287b9b683.png)

##  前提条件
- [Tencent CSSサービス](https://intl.cloud.tencent.com/product/css)がアクティブ化され、かつCSSコンソールにログインしていること。
- [プッシュプルドメイン名](https://intl.cloud.tencent.com/document/product/267/35970)を追加済みであること。

## 注意事項
- 最大**20**のプルリツイートタスクの作成をサポートします。
- プルリツイートサービスを使用すると、**プルリツイートタスク時間請求書**が作成されます。料金の詳細については [プルリツイート課金説明](https://intl.cloud.tencent.com/document/product/267/41059)をご参照ください。
- プルリツイート機能はコンテンツのプルおよびプッシュサービスのみを提供します。**コンテンツに権限が付与され、かつコンテンツの配信に関する法律、規制に準拠していることを確認してください。版権問題やコンテンツの規則違反がある場合、CSSは関連の機能サービスを停止し、法的責任を追及する権利を留保します**。

[](id:create)
## タスクの作成
1. **CSSツールボックス**>**[プルリツイート](https://console.cloud.tencent.com/live/tools/relay)**を選択します。**タスクの作成**をクリックし、プルリツイートタスク作成ページに移動します。
![](https://qcloudimg.tencent-cloud.cn/raw/4328e092758efd15d6436837dc618f50.png)
2. 設定するタスクの基本情報を入力します。設定は以下のとおり行います。
![](https://qcloudimg.tencent-cloud.cn/raw/018e81846aa6bad9686fdb7884889b5c.png)
<table>
<tr><th width=15%>設定項目</th><th>設定説明</th></tr>
<tr>
<td>タスクノート</td>
<td>カスタムタスクの備考情報です。</td>
</tr><tr>
<td>タスク時間</td>
<td>デフォルトは <code>現在の時刻</code> から <code>現在の時刻 + 24時間</code>ですが、現在の時刻を起点として1年以内の任意の時刻からタイムスパンが7日以内の範囲でタスク時間を選択できます。<br>現在の時刻が2021年03月24日11:50:01であれば、：<ul style="margin:0"><li/>選択可能な時間は2022年03月24日11:50:01から2022年03月30日11:50:01までとなります。<li/>終了時刻が2022年03月30日11:50:01を超えることはできません。</ul></td>
</tr><tr>
<td>リージョン</td>
<td><ul style="margin:0"><li/>タスク実行リージョンの選択：華北地区（北京）、華東地区（上海）、華南地区（広州）、東南アジア（シンガポール）、東南アジア（タイ）、東北アジア（韓国）、南アジア（インド）。<li/><b>中国本土のランダムリージョンを選択する場合は、システムが最も近いエリアを自動的に割り当てます。</b></ul></td>
</tr><tr>
<td>イベントコールバック通知</td>
<td>プルリツイートタスクイベントの受信に使用するコールバックアドレスを入力します。</td>
</tr></table>
3. コンテンツソースのタイプを選択します。**ライブストリーミング**または**VODビデオ**のタイプを選択することができます。具体的な設定は次のとおりです。
   - コンテンツタイプが**ライブストリーミング**である場合は、ライブストリーミングソースアドレスを入力する必要があります（**1**コンテンツソースアドレスのみを入力します）。
   ![](https://qcloudimg.tencent-cloud.cn/raw/319311810174f09ac2286f7ff5350250.png)
   - コンテンツタイプが**VODビデオ**である場合：
      - **複数の**コンテンツソースアドレスを入力することができ、その上限は30です。
      - ループ再生回数を設定することができ、**無限ループ**または**ループ回数の指定**を選択できます。 1回以上、100回以下で指定回数を選択します。
      ![](https://qcloudimg.tencent-cloud.cn/raw/8a94ddbcc7dc2c612ce39e35e0e0b379.png)
>? 
>- タスクが設定したループ再生回数またはタスクの終了時間のいずれかの条件に達すると、システムがプルリツイートタスクを停止します。
>- タスク情報を修正したい場合：
         - ループ回数を変更した場合、更新後は新たなループ回数に従って再生され、現在の再生タスクは1回として記録されます。
         - VODソースアドレスとループ回数を変更する場合、直ちに更新するか再生後に更新するかを問わず、現在の再生タスクはループ回数としてカウントされず、新たなループ回数に従って再生されます。
         - ターゲットアドレスを変更する場合は、ループ回数がリセットされます。
4. 受信するコンテンツのターゲットアドレスを入力します。
   1. ターゲットアドレス入力欄下の**アドレスジェネレーター**をクリックし、アドレスジェネレーター設定ページに移動します。
   ![](https://qcloudimg.tencent-cloud.cn/raw/59b8cf4d58770d201190db7404f6b5ad.png)
   2. 既存のプッシュドメイン名を選択し、 Appname、StreamName、有効期限を入力します。**OK**をクリックし、プッシュアドレスを生成します。このアドレスはターゲットアドレス欄に自動的に入力されます。
   ![](https://qcloudimg.tencent-cloud.cn/raw/b01df24dffa14c35350048ae7fd3cfef.png)
    >! アドレスの有効期限はタスクの終了時間よりも長くする必要があります。タスクの開始後にターゲットプッシュアドレスが更新されると、タスクは中断され、再度プッシュされます。
5. 入力が完了したら、**保存**をクリックして作成を終了します。

## タスクの管理
[](id:view)
### タスク詳細の確認
[タスクリスト](https://console.cloud.tencent.com/live/tools/relay) で、確認したいプルリツイートタスクを選択し、対応する「タスクノート/ ID」をクリックすると、右側のポップアップウィンドウにタスクの詳細情報が表示されます。
![](https://qcloudimg.tencent-cloud.cn/raw/8fa3d70b6fe0d961048cc508ea72ca4b.png)

>?タスク詳細情報の下にある**編集**または**無効**をクリックし、タスクに対する [修正](#change)と [無効](#disable) 操作を実行することができます。

[](id:change)
### タスクの修正
1. [タスクリスト](https://console.cloud.tencent.com/live/tools/relay)で、作成済みのプルリツイートタスクを選択し、右側操作バーの**編集**をクリックして、プルリツイートタスクの修正に移動します。
![](https://qcloudimg.tencent-cloud.cn/raw/97b07fc0d224a06fe268cdc1177102e3.png)
2. 実際のニーズに応じてタスク情報を修正し、**保存**をクリックします。
>!
>- リージョンおよびコンテンツタイプは修正をサポートしていません。
>- タスク終了時間を修正する場合は、タスクが終了する前に、ターゲットアドレスが有効であることを確認する必要があります。ターゲットアドレスを変更すると、タスクがいったん中断され、その後再開されます。

![](https://qcloudimg.tencent-cloud.cn/raw/d950a8029e1944e9029445dd8e428933.png)
3.  ポップアップした修正タスク確認ページで、修正前後の比較情報を表示します。
  - 変更するコンテンツに**タスクノート、タスク時間、イベントコールバック通知**または**再生回数**が含まれる場合、次のような比較情報が表示されます。
![](https://qcloudimg.tencent-cloud.cn/raw/4cadcabeef99828ab4be144040cbfd19.png)
  - 変更するコンテンツに**VODコンテンツ**が含まれる場合は、変更前のソースがVODコンテンツであることが表示され、この修正の更新方法として**現在再生中のビデオが終了した後に更新**/**直ちに更新**を選択することができます。選択しない場合、デフォルトは**現在再生中のビデオが終了した後に更新**です。 更新後、新しい順序で最初からプルリツイートを開始します。
![](https://qcloudimg.tencent-cloud.cn/raw/9591b91b7e5e307860c9ea2244b4e14e.png)
   - 変更するコンテンツに**ターゲットアドレス**が含まれる場合、変更し修正するターゲットアドレスが表示され、修正後の現在のプルリツイートタスクが**中断後に再開**されることを確認します。
![](https://qcloudimg.tencent-cloud.cn/raw/0a7e04f65ae8bbdd9cb7ef3bc0ece656.png)
4. 情報が正しいことを確認し、**OK**をクリックすれば、タスクの内容が正常に変更されます。

[](id:copy)
### タスクのコピー
1. [タスクリスト](https://console.cloud.tencent.com/live/tools/relay)で、コピーしたいプルリツイートタスクを選択し、右側操作バーの**コピー**をクリックして、プルリツイートタスク作成画面に移動します。
![](https://qcloudimg.tencent-cloud.cn/raw/28a0a3542ab9ab838d26dfc565f321d1.png)
2. 現在選択中のタスク情報が新たに作成されたタスクページに入力され、コピーした元のタスク情報で [修正](#create)を実行することができます。
3. **保存**をクリックすれば、新たなプルリツイートタスクを作成することができます。



[](id:reboot)
### タスクの再開
タスクを再開した後、タスクの**ステータスは変更されません**。実行中のタスクは**最初から実行を開始します**。タスクを再開したい場合の具体的な操作は次のとおりです。

1. [タスクリスト](https://console.cloud.tencent.com/live/tools/relay)で、再開したいプルリツイートタスクを選択し、右側操作バーの**再開**をクリックします。
2. 現在のプルリツイートタスク再開の要否を確認し、**再開**をクリックします。
![](https://qcloudimg.tencent-cloud.cn/raw/d1b03e226297e44cbb7504d57c54af4f.png)

[](id:disable)
### タスクの無効化
タスクを無効にすると、**タスクは直接停止します**。タスクの実施を再開するには、[有効]（＃enable）にする必要があります。 タスクを無効にしたい場合の具体的な操作は次のとおりです。

1. [タスクリスト](https://console.cloud.tencent.com/live/tools/relay)で、無効化したいプルリツイートタスクを選択し、右側操作バーの**無効**をクリックします。
2. 現在のプルリツイートタスク無効化の要否を確認し、**無効**をクリックします。
![](https://qcloudimg.tencent-cloud.cn/raw/c3acfb89f425b50ba53a8d63075091d8.png)


[](id:enable)
### タスクの有効化
タスクを有効にすると、**タスクは新たに最初から開始されます**。 タスクを有効にしたい場合の具体的な操作は次のとおりです。

1. [タスクリスト](https://console.cloud.tencent.com/live/tools/relay)で、無効化されたプルリツイートタスクのうち有効化したいものを選択し、右側操作バーの**有効**をクリックします。
2. 現在のプルリツイートタスク有効化の要否を確認し、**OK**をクリックします。
![](https://qcloudimg.tencent-cloud.cn/raw/77417a9c8406fe9d763c4d3960d98b21.png)

[](id:delete)
### タスクの削除
タスクの削除は**リカバリをサポートしていません**。タスクを削除する必要がある場合の具体的な操作は次のとおりです。

1. [タスクリスト](https://console.cloud.tencent.com/live/tools/relay)で、削除したいプルリツイートタスクを選択し、右側操作バーの**削除**をクリックします。
2. 現在のプルリツイートタスク削除の要否を確認し、**削除**をクリックします。
![](https://qcloudimg.tencent-cloud.cn/raw/44a15ad52bfc81f62c0aa907cdc7eb5c.png)

[](id:batch)
### バッチ操作
プルリツイートはタスクの一括削除、無効化および有効化をサポートしており、バッチ処理は**最大10個のタスク**をサポートします。
1. [タスクリスト](https://console.cloud.tencent.com/live/tools/relay)で、バッチ処理を行いたいプルリツイートタスクにチェックを入れます。
2. バッチ処理したい操作を選択します。**一括削除**、**一括無効化**または**一括有効化**をクリックして選択できます。
![](https://qcloudimg.tencent-cloud.cn/raw/6b93d5c3af7ec83d9a56840a40a2073a.png)
3. 現在のプルリツイートタスクの削除/無効化/有効化の要否を確認し、ポップアップボックスの**削除**/**無効**/**有効**をクリックすれば、バッチ処理を完了することができます。
![](https://qcloudimg.tencent-cloud.cn/raw/5874636c548a4733281cd33eaca35abe.png)

   
