Tencent Cloud 라이브 방송 콘솔은 릴레이 서비스를 제공합니다. 라이브 방송 소스에 푸시 스트림 기능이 없거나 VOD 비디오 콘텐츠를 라이브 방송 형식으로 배포해야 하는 경우, 릴레이 서비스는 라이브 방송 푸시 스트리밍 없이 콘텐츠를 풀링 및 푸시하는 기능을 제공하여, 빠르게 기존의 비디오/라이브 방송을 풀링하여 타깃 주소로 전송할 수 있습니다.
![](https://main.qcloudimg.com/raw/8f0b044ce2104efdc1ed835287b9b683.png)

## 전제 조건
- [Tencent Cloud CSS 서비스](https://intl.cloud.tencent.com/product/css) 활성화 및 CSS 콘솔 로그인을 완료해야 합니다.
- [푸시/풀 스트림 도메인](https://intl.cloud.tencent.com/document/product/267/35970)이 추가되어 있어야 합니다.

## 주의 사항
- 최대 **20개**의 릴레이 작업을 생성할 수 있습니다.
- 릴레이 서비스는 **릴레이 작업 시간 기준 청구서**가 발행되며, 자세한 요금은 [풀스트림 푸시 과금 설명](https://intl.cloud.tencent.com/document/product/267/41059)을 참고하십시오.
- 릴레이 기능은 콘텐츠 풀링과 전송 작업만 제공합니다. **콘텐츠 라이선스 및 콘텐츠 전파 관련 법규 컴플라이언스 문제가 없음을 보장할 수 있어야 합니다. 저작권 문제 또는 콘텐츠 규정 위반 문제가 발생할 경우, CSS는 관련 기능에 대한 서비스를 중단하고 법적 책임을 물을 권리가 있습니다**.

[](id:create)

## 작업 생성
1. **CSS 툴킷** > **[릴레이](https://console.cloud.tencent.com/live/tools/relay)**를 선택하고 **작업 생성**을 클릭합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/f41c7a329a9fed7a901bca252a973f35.png)
2. 설정 작업의 기본 정보를 입력하고 다음 설정을 진행합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/d10fb06aba921e27791441a112039586.png)
<table>
<tr><th width="15%">설정 항목</th><th>설정 설명</th></tr>
<tr>
<td>작업 비고</td>
<td>사용자 정의 작업 비고 정보.</td>
</tr><tr>
<td>작업 시간</td>
<td>기본 설정: <code>현재 시간</code>에서 <code>현재 시간 + 24시간</code>까지, 선택 가능한 작업 시간: 현재 시간부터 1년 이내의 임의의 시간 ~ 7일 이내.<br>현재 시간이 2021년 03월 24일 11:50:01이라고 가정하면 <ul style="margin:0"><li/>선택 가능한 시간은 2022년 3월 24일 11:50:01부터 2022년 03월 30일 11:50:01까지입니다. <li/>종료 시간은 2022년 03월 30일 11:50:01을 초과할 수 없습니다. </ul></td>
</tr><tr>
<td>이벤트 콜백 알림</td>
<td>릴레이 작업 이벤트를 수신할 콜백 주소를 입력합니다. </td>
</tr></table>
3. 콘텐츠 소스 정보를 입력하고 리전을 선택하십시오.
      - 작업 실행 리전 선택 가능: 중국 국내 랜덤 리전, 화북 지역(베이징), 화동 지역(상하이), 화남 지역(광저우), 아시아 태평양 동남부(싱가포르), 아시아 태평양 동남부(방콕), 동북아(서울), 남아시아(뭄바이), 홍콩·마카오·대만 지역(중국홍콩).
      - 랜덤 리전을 선택하면 시스템에서 가까운 리전으로 자동 할당됩니다.
4. 콘텐츠 출처 유형을 선택합니다. **라이브 방송** 또는 **비디오 주소 경로** 유형을 선택할 수 있으며, 구체적인 설정은 다음과 같습니다.
   - 콘텐츠 유형은 **라이브 방송**입니다.
     - 라이브 방송 소스 주소를 입력해야 합니다(**1개** 콘텐츠 소스 주소로 제한됨).
   ![](https://qcloudimg.tencent-cloud.cn/raw/6795d964f41e63fa90f0c09e3ddcf060.png)
     - 백업 입력 소스 활성화를 선택할 수 있으며, 백업 입력 소스를 활성화한 후 메인 입력 소스가 콘텐츠를 풀링할 수 없을 때 자동으로 백업 입력 소스로 전환하여 콘텐츠를 풀링합니다. 프라이머리 입력 소스가 복구되면 세컨더리 입력 소스에서 수동으로 전환하여 프라이머리 입력 소스를 교체해야 합니다. 세컨더리 입력 소스는 단일 비디오 루프만 지원합니다.
   - 콘텐츠 유형은 **비디오 주소 경로**입니다.
      - **다수의**콘텐츠 출처 주소 입력 가능, 최대 30개.
      - 재생 순환 횟수를 설정할 수 있으며 **무제한 순환** 또는 **순환 횟수 지정**을 선택할 수 있습니다. 횟수 지정 범위는 최소 1회부터 최대 100회까지입니다.
      ![](https://qcloudimg.tencent-cloud.cn/raw/154e880ea3f2a60eef9031c7cba11510.png)
>? 
>- 작업이 설정된 순환 횟수에 도달하였거나 작업 종료 시간의 어느 한 조건을 충족시키면, 시스템은 릴레이 작업을 중지합니다.
>- 다음과 같은 작업 정보를 수정하는 경우:
         - 순환 횟수 변경: 업데이트 후 새로운 순환 횟수에 따라 재생합니다. 현재 재생 작업이 있을 경우 1회로 기록됩니다.
		 - 비디오 주소 경로와 순환 횟수 변경: 즉시 업데이트 또는 재생 완료 후 업데이트 모두 현재 재생 작업은 순환 횟수로 계산되지 않으며, 새로운 순환 횟수에 따라 재생합니다.
		 - 타깃 주소를 변경하고 순환 횟수를 재설정합니다.
5. 콘텐츠를 수신하는 타깃 주소를 입력합니다.
   1. 타깃 주소 입력란 아래에 있는 **주소 생성기**를 클릭하여 생성기 설정 페이지로 이동합니다.
   ![](https://qcloudimg.tencent-cloud.cn/raw/59b8cf4d58770d201190db7404f6b5ad.png)
   2. 기존 푸시 도메인 이름을 선택하고 Appname, StreamName 및 만료 시간을 입력합니다. **확인**을 클릭하면 푸시 스트림 주소가 생성되며, 해당 주소는 타깃 주소란에 자동으로 입력됩니다.
   ![](https://qcloudimg.tencent-cloud.cn/raw/b01df24dffa14c35350048ae7fd3cfef.png)
> !주소 만료 기한은 작업 종료 시간 이후로 설정되어야 합니다. 작업이 시작된 후 타깃 푸시 스트림 주소를 업데이트하면 작업이 중단되고 다시 푸시 됩니다.
6. 입력 완료 후 **저장**을 클릭합니다.


## 작업 관리
[](id:view)
### 작업 세부 사항 확인
[작업 리스트](https://console.cloud.tencent.com/live/tools/relay)에서 조회할 릴레이 작업을 선택하고 해당 '작업 비고/ID'를 클릭하면 오른쪽 팝업 창에 해당 작업의 작업 세부 정보가 표시됩니다.
![](https://qcloudimg.tencent-cloud.cn/raw/c2bad33a6a735a218fa79b98f3738275.png)

>?작업 세부 정보 아래에 있는 편집, 입력 소스 전환, 재시작 및 비활성화 버튼을 클릭할 수 있습니다.

### 작업 상태 조회
[작업 리스트](https://console.cloud.tencent.com/live/tools/relay)에서 작업의 작업 상태를 볼 수 있으며, 조회할 릴레이 작업을 선택하고 해당 '작업 비고/ID'를 클릭하면 오른쪽의 팝업 창에는 작업의 실행 상태가 표시됩니다.

![](https://qcloudimg.tencent-cloud.cn/raw/cd498cb1fd678e39b0942383c278e82b.png)

<table>
<thead><tr><th>작업 상태</th><th>실행 상태</th><th>의미</th></tr></thead>
<tbody><tr>
<td>시작되지 않음</td>
<td>비활성</td>
<td>작업이 작업 시간에 도달하지 않음</td>
</tr><tr>
<td rowspan=2>유효</td>
<td>활성</td>
<td>작업이 해당 시간에 도달하고 정상적으로 실행</td>
</tr><tr>
<td>비활성</td>
<td>작업이 해당 시간에 도달했지만 정상적으로 실행되지 않음</td>
</tr><tr>
<td>비활성화</td>
<td>비활성</td>
<td>작업이 비활성화됨</td>
</tr><tr>
<td>만료</td>
<td>비활성</td>
<td>작업이 종료 시간을 경과함</td>
</tr>
</tbody></table>



[](id:change)
### 작업 수정
1. [작업 리스트](https://console.cloud.tencent.com/live/tools/relay)에서 생성한 작업을 선택하고 우측의 **편집**을 클릭하여 수정합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/97b07fc0d224a06fe268cdc1177102e3.png)
2. 실제 필요에 따라 작업 정보를 수정하고 **저장**을 클릭합니다.
 - 리전 및 콘텐츠 유형은 변경할 수 없습니다.
 - 작업 종료 시간 변경 시 타깃 주소의 유효 기간이 작업 완료 전까지 유효해야 합니다. 타깃 주소를 변경하면 작업이 중단되고 재시작됩니다.
![](https://qcloudimg.tencent-cloud.cn/raw/d950a8029e1944e9029445dd8e428933.png)
3. 팝업된 수정 작업 확인 페이지에서 수정 전후 비교 정보를 확인합니다.
   - 변경 사항에 **작업 비고, 시작 시간, 종료 시간 및 백업 소스 주소**가 포함된 경우 비교 정보에 다음 예시가 표시됩니다.
![](https://qcloudimg.tencent-cloud.cn/raw/4cadcabeef99828ab4be144040cbfd19.png)
   - 사용자 정의 **비디오 경로의 소스 URL**이 변경된 경우 **현재 비디오 종료 후 적용(기본값)**/**즉시 적용**을 선택합니다. 변경 사항이 적용된 후 첫 번째 소스 URL에서 릴레이가 다시 시작됩니다.
![](https://qcloudimg.tencent-cloud.cn/raw/9591b91b7e5e307860c9ea2244b4e14e.png)
    - 변경 내용에 **타깃 주소**가 포함된 경우, 타깃 주소 변경 확인 메시지가 표시되며, 수정 확인 후, 현재 릴레이 작업이**중단되고 재시작**됩니다.
![](https://qcloudimg.tencent-cloud.cn/raw/0a7e04f65ae8bbdd9cb7ef3bc0ece656.png)
4. 정보가 올바른지 확인한 후 **확인**을 클릭하면 작업 내용 수정이 완료됩니다.

[](id:copy)

### 작업 복제
1. [작업 리스트](https://console.cloud.tencent.com/live/tools/relay)에서 대상 작업을 선택하고 우측의 **복사**를 클릭하여 릴레이 작업 생성 페이지로 들어갑니다.
![](https://qcloudimg.tencent-cloud.cn/raw/28a0a3542ab9ab838d26dfc565f321d1.png)
2. 현재 선택된 작업 정보가 새로 생성된 작업 페이지에 채워지며, 복제한 원본 작업 정보에서 [수정](#create)할 수 있습니다.
3. **저장**을 클릭하면 새로운 릴레이 작업이 생성됩니다.



[](id:reboot)
### 작업 재시작
작업 재시작 후, 작업 **상태는 변경되지 않으며**, 실행 중인 작업은 **처음부터 다시 실행**됩니다. 작업 재시작 절차는 구체적으로 다음과 같습니다.

1. [작업 리스트](https://console.cloud.tencent.com/live/tools/relay)에서 대상 릴레이 작업을 선택하고 우측의 **재시작**을 클릭합니다.
2. 릴레이 작업 재시작 진행 여부를 확인하고 **재시작**을 클릭합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/d1b03e226297e44cbb7504d57c54af4f.png)

[](id:disable)
### 작업 비활성화
작업을 비활성화하면 **작업이 바로 중지됩니다**. 작업을 다시 시작하려면 [활성화](#enable)해야 합니다. 작업 비활성화의 구체적인 절차는 다음과 같습니다.

1. [작업 리스트](https://console.cloud.tencent.com/live/tools/relay)에서 대상 릴레이 작업을 선택하고 우측의 **비활성화**를 클릭합니다.
2. 릴레이 작업 비활성화 진행 여부를 확인하고 **비활성화**를 클릭합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/c3acfb89f425b50ba53a8d63075091d8.png)


[](id:enable)
### 작업 활성화
작업이 활성화되면 **작업이 처음부터 다시 시작됩니다**. 작업 활성화의 구체적인 절차는 다음과 같습니다.

1. [작업 리스트](https://console.cloud.tencent.com/live/tools/relay)에서 비활성화된 대상 릴레이 작업을 선택하고 우측의 **활성화**를 클릭합니다.
2. 릴레이 작업 활성화 진행 여부를 확인하고 **확인**을 클릭합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/77417a9c8406fe9d763c4d3960d98b21.png)

[](id:delete)
### 작업 삭제
작업 삭제 후 **복구가 불가합니다.** 작업 삭제의 구체적인 절차는 다음과 같습니다.

1. [작업 리스트](https://console.cloud.tencent.com/live/tools/relay)에서 대상 릴레이 작업을 찾고 우측의 **삭제**를 클릭합니다.
2. 릴레이 작업 삭제 진행 여부를 확인하고 **삭제**를 클릭합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/44a15ad52bfc81f62c0aa907cdc7eb5c.png)

[](id:batch)
### 일괄 작업
릴레이 작업 일괄 삭제, 비활성화 및 활성화를 지원하고 **최대 10개 작업**을 일괄 처리할 수 있습니다.
1. [작업 리스트](https://console.cloud.tencent.com/live/tools/relay)에서 일괄 처리할 릴레이 작업을 선택합니다.
2. **일괄 삭제**, **일괄 비활성화** 또는 **일괄 활성화** 작업 유형을 선택합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/7401eade6f5e04b9eadf71e04211f6e0.png)
3. 팝업 창에서 **삭제** / **비활성화** / **활성화**를 클릭합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/5874636c548a4733281cd33eaca35abe.png)

   
## 만료된 작업 자동 삭제

작업은 종료 시간 후에 만료됩니다. 릴레이 작업이 너무 많으면 새 작업을 생성하지 못할 수 있습니다. 이를 방지하기 위해 시스템이 지정된 시간에 만료된 작업을 자동으로 삭제하도록 자동 삭제를 활성화할 수 있습니다. 삭제된 작업은 복구할 수 없습니다.

1. **CSS 툴킷** > **[릴레이](https://console.cloud.tencent.com/live/tools/relay)**를 선택하고 **설정**을 클릭합니다.
2. ![](https://qcloudimg.tencent-cloud.cn/raw/7ed257d05a4283dc233ef406520187b4.png) 버튼을 클릭하여 자동 삭제를 활성화합니다.
3. 만료된 작업이 삭제되기 전에 보관할 기간(1-24시간)을 지정합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/4d579b1d0776ea22b5d994e3b7357ea3.png)



