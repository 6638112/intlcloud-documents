自社構築のオリジンサーバーと自社で制作したライブストリーミングソースコンテンツがあり、Tencent Cloudを介してライブストリーミング再生を行いたい場合は、CSSの再生ドメイン名にオリジンサーバーの情報を設定すれば、back-to-originし、ライブストリーミングコンテンツをプルすることができます。設定完了後は、CSSのback-to-originによってプルを行い、ライブストリーミングコンテンツを配信できます。ここでは、オリジンサーバー情報の設定方法をご説明します。

## 注意事項
-  関連情報の設定後、オリジンサーバー設定は機能設定が完了してから約1時間で有効になります。
- オリジンサーバー設定機能が有効になると、当該再生ドメイン名は、StreamNameによるその他プッシュドメイン名とのマッチングでプルを行うことができなくなります。また当該ドメイン名でのウォーターマーク、トランスコーディング、レコーディング、スクリーンキャプチャ、ポルノ検出などの機能も利用できなくなります。 


## 前提条件
- [CSSコンソール](https://console.cloud.tencent.com/live)にログイン済みであること。
- ライブストリーミングのオリジンサーバーを構築済みであること。
- **再生ドメイン名**を追加済みであること。

## 操作手順
1. [**ドメイン名管理**](https://console.cloud.tencent.com/live/domainmanage)に進み、設定したい**再生ドメイン名**または右側の**管理**をクリックしてドメイン名詳細ページに進みます。
2. **高度な設定**を選択し、**オリジンサーバー設定**のタグを確認します。
3. オリジンサーバー設定モジュールの**編集**をクリックすると、以下のオリジンサーバー情報を設定できます。
 1. **オリジンサーバー設定**のスライドスイッチを有効にします。
 2. 次の設定情報に従って入力してください。
<table id="setmess">
<tr><th width="14%">オリジンサーバー設定</th><th>説明</th>
</tr><tr>
<td>マスターオリジンサーバーアドレス</td>
<td>オプション<b>オリジンサーバーIP</b>または<b>オリジンサーバードメイン名</b>：
<ul style="margin:0">
<li>オリジンサーバーIP：オリジンサーバーIPアドレスとポートを入力してください。</li>
<li>オリジンサーバードメイン名：オリジンサーバードメイン名とポートを入力してください。</li>
</ul></td>
</tr><tr>
<td>スレーブオリジンサーバーアドレス</td>
<td><ul style="margin:0">オリジンサーバータイプとポートは、マスターオリジンサーバーに追従し、1つの予備オリジンサーバーアドレスの入力をサポートします。
</ul></td>
</tr><tr>
<td>back-to-originプロトコル</td>
<td><ul style="margin:0">
<li>back-to-originプロトコルは、RTMP、FLV、HLSをサポートします。 </li>
<li>back-to-originプロトコルがHLSのとき、HTTPヘッダー情報のパススルーおよびパラメータのパススルーの有効化を選択することができます。</li>
</ul></td>
</tr><tr>
<td>タイムアウト＆リトライ</td>
<td><ul style="margin:0">タイムアウトは60000ミリ秒を超えてはいけません。リトライは少なくとも1回で、10回を超えてはいけません。
</ul></td>
</tr><tr>
<td>再生プロトコル</td>
<td><ul style="margin:0">
<li>back-to-originプロトコルがRTMPのとき、再生プロトコルは、デフォルトではRTMPが選択されており、FLVとHLSの選択をサポートしています。</li>
<li>back-to-originプロトコルがFLVのとき、再生プロトコルは、デフォルトではFLVが選択されており、HLSの選択をサポートしています。 </li>
<li>back-to-originプロトコルがHLSのとき、再生プロトコルは、デフォルトではHLSが選択されています。 </li></ul></td>
</tr><tr>
<td>インデックスキャッシュ</td>
<td><ul style="margin:0">back-to-originプロトコルがHLSのとき、再生設定でインデックスキャッシュを設定することができます。最大で60000ミリ秒、最小で1000ミリ秒を設定することができます。
</ul></td>
</tr><tr>
<td>セグメントキャッシュ</td>
<td><ul style="margin:0">back-to-originプロトコルがHLSのとき、再生設定でセグメントキャッシュを設定することができます。最大で60000ミリ秒、最小で1000ミリ秒を設定することができます。
</ul></td>
</tr></table>

 4. **保存**をクリックすると設定が保存されます。
>? **back-to-originプロトコル**とは、CSSのback-to-originプルのときにサポートする形式を指します。**再生プロトコル**とは、ライブストリーミングのコンテンツをライブCDN経由で配信するときの再生プロトコルを指します。

![](https://qcloudimg.tencent-cloud.cn/raw/bc6843d5eca8e81b07931b7ea44aceba.png) 
