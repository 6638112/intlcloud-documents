## 솔루션 배경
Open Broadcaster Software(OBS)는 사용하기 좋은 3rd party 오픈 소스 프로그램 라이브 방송 스트림 미디어 콘텐츠 제작 소프트웨어입니다. 사용자에게 무료로 제공됩니다. OS X, Windows, Linux 운영체제를 지원하여 각종 라이브 방송 시나리오에 적용할 수 있어 대부분의 라이브 방송 작업 수요를 충족합니다. [OBS 홈페이지](https://obsproject.com/download?spm=a2c4g.11186623.2.15.6aac1445JPlKR8)에서 최신 버전 소프트웨어를 다운로드하십시오.

## 준비 작업
- [OBS Studio](https://obsproject.com/download?spm=a2c4g.11186623.2.15.6aac1445JPlKR8) 툴을 설치하십시오.
- [CSS 서비스 활성화](https://console.cloud.tencent.com/live) 및 ICP 비안을 마친 도메인 이름 준비를 완료하고, [외부 도메인 추가](https://intl.cloud.tencent.com/document/product/267/35970)합니다.(시스템이 제공하는 기본 푸시 도메인 이름을 사용하거나 사용자 정의 도메인 이름을 추가하여 푸시할 수 있습니다)

[](id:step0)
## 푸시 스트리밍 주소 가져오기
1. CSS 콘솔에 로그인하여 [**주소 생성기**](https://console.cloud.tencent.com/live/addrgenerator/addrgenerator)로 이동하여 다음과 같이 설정합니다.
   1. 생성 유형에서 **푸시 도메인** 또는 **재생 도메인**을 선택합니다.
   2. 도메인 관리에서 추가한 해당하는 도메인을 선택합니다.
   3. AppName은 한 도메인에 여러 개의 App 주소 경로를 구분하는 데 사용되며, 기본값은 live로 설정되어 있습니다.
   4. 사용자 정의 스트림 이름 StreamName을 입력합니다. (예: `live`)
   5. 주소 만료 시간을 선택합니다. (예시: `2020-06-09 23:59:59`)
3. **주소 생성**을 클릭하여 OBS 푸시 스트림 주소를 가져옵니다.


[](id:normal)
## OBS 온라인 푸시 스트림
### 1단계: 푸시 스트림 주소 설정[](id:step1)
1. OBS를 열고 하단 툴 바의 **컨트롤러>설정** 버튼을 눌러 설정 인터페이스로 이동합니다.
![](https://main.qcloudimg.com/raw/493a19e0f2bbea80983c341dd742a044.png)
2. **푸시 스트림**을 클릭하여 푸시 스트림 설정 탭으로 이동하고 서비스 유형을 사용자 정의 스트림 미디어 서버로 선택합니다.
3. 획득한 [스트림 주소](#step0)를 서버와 스트리밍 비밀번호에 입력합니다.
    - 서버: ‘OBS 푸시 스트림 주소’, 즉 `rtmp://domain/AppName/`에 해당합니다.
    - 스트림 비밀번호: "OBS 푸시 스트림 이름", 즉 `StreamName?txSecret=xxxxx&txTime=5C1E5F7F`에 해당합니다.
![](https://main.qcloudimg.com/raw/55512ddf58bf32014424fa33b6f3d31f.png)
4. **확인**을 클릭하여 설정 정보를 저장합니다.

### 2단계: 푸시 스트림 가이드 설정[](id:step2)
>? 비트 레이트, 녹화 등을 설정해야 하는 경우 상단 툴 바를 클릭하고 **툴>자동 설정 가이드**를 선택한 후 OBS 가이드에 따라 스트림을 설정할 수 있습니다.

1. 하단 툴 바의 **소스** 태그를 확인합니다.
![](https://main.qcloudimg.com/raw/f8136fdb794595c8c491c995a74cdfcc.png)
2. **+** 버튼을 클릭하여 필요에 따라 입력 소스(예: 모니터 캡처)를 선택합니다.
 ![](https://main.qcloudimg.com/raw/f8136fdb794595c8c491c995a74cdfcc.png)
**자주 사용하는 라이브 방송 소스 입력 소개**
<table>
<thead><tr><th width="20%">입력 소스</th><th>설명</th></tr></thead>
<tbody><tr>
<td>이미지</td>
<td>단일 이미지를 라이브 스트리밍 합니다.</td>
</tr><tr><td>이미지 슬라이드쇼</td>
<td>여러 이미지를 루프 또는 순차적으로 재생합니다.</td>
</tr><tr><td>시나리오</td>
<td>라이브 방송을 위한 다양한 매력적인 효과를 구현합니다. 이 경우 다른 장면의 일부 또는 전체를 현재 장면에 소스로 포함할 수 있습니다.</td>
</tr><tr><td>미디어 소스</td>
<td>로컬 비디오 파일을 업로드하여 로컬 VOD 비디오 파일을 스트리밍화 처리할 수 있습니다.</td>
</tr><tr><td>텍스트</td>
<td>라이브 방송 창에 실시간으로 텍스트를 추가합니다.</td>
</tr><tr><td>디스플레이 캡처</td>
<td>데스크탑의 작업을 실시간으로 동적으로 캡처합니다. 모든 작업은 라이브 방송 중에 표시됩니다.</td>
</tr><tr><td>게임 캡처</td>
<td>지정된 소스에서 게임을 스트리밍 합니다. 다양한 스케일의 라이브 게임 방송에 적합합니다.</td>
</tr><tr><td>창 캡처</td>
<td>선택한 창을 실시간으로 캡처합니다. 라이브 방송 중에는 현재 창만 표시되고 다른 창은 캡처되지 않습니다.</td>
</tr><tr><td>색상 소스</td>
<td>배경색으로 장면에 단색을 추가합니다. 색상 투명도를 조정하여 화면을 투명하게 만들 수도 있습니다.</td>
</tr><tr><td>비디오 캡처 디바이스</td>
<td>카메라로 녹화되는 비디오를 동적으로 캡처하여 스트리밍 합니다.</td>
</tr><tr><td>오디오 입력 캡처</td>
<td>오디오 라이브 스트리밍(오디오 입력 디바이스에서).</td>
</tr><tr><td>오디오 출력 캡처</td>
<td>라이브 방송 오디오(오디오 출력 디바이스로).</td>
</tr>
</tbody></table>

### 3단계: 스튜디오 모드 활성화[](id:step3)
스튜디오 모드에서는 현재 라이브 방송의 내용을 실시간으로 편집할 수 있으며 편집 중에 장면 전환을 수행하여 사용자 경험에 미치는 영향을 최소화할 수 있습니다.
1. **컨트롤러** 탭에서 **스튜디오 모드**를 클릭합니다.
2. **전환**을 클릭하여 미리보기 창의 라이브 방송을 출력 창으로 전환합니다.
![](https://main.qcloudimg.com/raw/80e9e902e0e02902d78779ca5505b2f8.png)

### 4단계: 푸시 스트림[](id:step4)
1. 하단 툴 바의 **컨트롤러**를 확인합니다.
2. **푸시 스트림 시작**을 클릭하여 비디오 스트림을 설정된 스트림 주소로 푸시합니다.
![](https://main.qcloudimg.com/raw/80e9e902e0e02902d78779ca5505b2f8.png)

>? 
>- 하단에 ![](https://main.qcloudimg.com/raw/a10bafc9eb0895dc4c6b542b61217253.png) 녹색 표시등이 나타나면 푸시 성공을 의미합니다.
>- 푸시 스트림을 중지하려면 **푸시 스트림 중지 > 푸시 스트림 중지**를 클릭합니다.

## 기타 푸시 스트림 관련 구성
### 라이브 방송 딜레이에 영향을 주는 관련 설정
1. **컨트롤러>설정>출력**으로 이동합니다.
2. **출력 모드**를 **고급**로 선택하여 **키 프레임 간격** 등을 설정합니다. 설정 방법은 다음과 같습니다.
![](https://main.qcloudimg.com/raw/5f48205da162f1230723729c36369f65.png)
3. 동시에 왼쪽 사이드바에서 **고급**을 선택하여 **스트리밍 딜레이**를 설정합니다.
![](https://main.qcloudimg.com/raw/c3ec9a71a014548eb680009d9798b1ac.png)

### 로컬 라이브 방송 녹화 관련 설정
라이브 방송 시 로컬 녹화가 필요하면 로컬에서 녹화 백업을 진행할 수 있으며 설정 방법은 아래와 같습니다.
1. **컨트롤러>설정>출력**을 클릭하여 출력 설정 탭으로 이동합니다.
2. **녹화** 설정 바에서 해당 설정을 하고 **확인**을 클릭하면 녹화 파일이 로컬에 저장됩니다.
![](https://main.qcloudimg.com/raw/008e1ab02e2d08ee42f3a64e2e09d473.png)
3. **비디오**를 클릭하여 아래와 같이 비디오 해상도 및 프레임 레이트 정보를 설정합니다.
>? 해상도는 시청자가 보는 화질을 결정합니다. 해상도가 높을수록 화면이 선명합니다. FPS는 비디오 프레임 레이트를 뜻하며 비디오의 재생 품질과 관련됩니다. 보통 비디오 프레임 레이트는 24 ~ 30프레임이며 16프레임 이하 화면은 딜레이되는 듯한 느낌을 줍니다. 그래서 비교적 높은 프레임 레이트를 요구하는 게임의 경우 30프레임 이하로 내려가면 일반적으로 자연스럽지 못한 느낌을 줍니다. 

![](https://main.qcloudimg.com/raw/f736ef195b26a81f46d1e26d7935a763.png)

### 푸시 스트림 트랜스 코딩 관련 설정
푸시 스트림 과정에서 비디오의 비트 레이트를 수정해야 하는 경우 구체적인 작업은 다음과 같습니다.
1. 하단의 **컨트롤러>설정** 버튼을 눌러 설정 인터페이스로 이동합니다.
2. **출력** 탭을 클릭하고 출력 모드를 ‘간단 모드’로 선택합니다.
3. 비디오 비트레이트를 입력하고 **확인**을 클릭합니다.
![](https://main.qcloudimg.com/raw/008e1ab02e2d08ee42f3a64e2e09d473.png)




## 더 많은 작업
### 퓨어 오디오 푸시 스트리밍
OBS 운영사 포럼의 답변에 따르면 현재 OBS Studio 23.2.1과 이전 버전은 퓨어 오디오 푸시 스트리밍을 지원하지 않습니다.
유사한 오디오 푸시 스트리밍을 구현하기 위해 아래 순서로 설정하십시오. 정적 캔버스(검은 화면 혹은 이미지)로 비디오를 대체하는 방법입니다. 대역폭을 낮춰야 하는 경우 비디오의 프레임 레이트와 비트 레이트를 낮춰 퓨어 오디오 푸시 스트리밍에 가까워질 수 있지만 라이브 스트리밍 중 비디오 데이터가 여전히 남아있을 수 있습니다. 
1. [푸시 스트림 가이드 설정](#step2)을 참고하여 **오디오 입력 캡처** 입력 소스를 추가합니다. 비디오 입력 소스를 추가하거나 이미지를 비디오 입력 소스로 추가할 수 없습니다.

2. **컨트롤러>설정>비디오** 페이지로 이동합니다.
3. **출력(스케일링) 해상도** 및 **공통 FPS 값(프레임 레이트)**을 최소값으로 설정하고 **확인**을 클릭하여 설정을 저장합니다.
    ![](https://main.qcloudimg.com/raw/cb77c3deb8d3e9831aaa1421b5b13412.png)
4. **출력**을 클릭하고 아래와 같이 스트리밍을 설정한 후 **비트레이트**를 최소값으로 설정합니다. **확인**을 클릭하여 설정을 저장합니다.
    ![](https://main.qcloudimg.com/raw/008e1ab02e2d08ee42f3a64e2e09d473.png)
5. [OBS 푸시 스트리밍](#normal)의 순서에 따라 오디오를 들을 수 있고 비디오 콘텐츠는 검은 화면이거나 이미지로 표시됩니다. 동시에 비디오의 비트 레이트가 가장 낮고 점유 대역폭이 크게 줄어듭니다.

### 비디오 루핑
- **단일 파일 순환 재생 설정 방법**
    1. **소스** 상자 아래의 **+** 아이콘을 클릭하고 **미디어 소스**를 선택한 후 팝업 창에서 **로컬 파일**에서 반복할 비디오 파일을 선택하고 **Loop**를 선택한 후 **확인**을 클릭합니다.
    ![](https://main.qcloudimg.com/raw/b41371c6674d4d8a2cd84fe37e3fbab4.png)
    2. (OBS 푸시 설정](#step1)의 지시에 따라 왼쪽 사이드바에서 **스트림**을 클릭하고 **서버** 및 **스트림 키**를 입력하여 스트리밍을 시작하면 단일 비디오가 반복됩니다.


푸시 스트림이 완료된 후 스트림이 성공적으로 푸시되었는지 여부를 확인하기 위해 다음과 같은 방법으로 재생할 스트림을 가져올 수 있습니다.
- PC: [VLC 플레이어](https://intl.cloud.tencent.com/document/product/267/32483)를 사용한 풀 스트림을 지원합니다.
- 모바일: [Mobile Live Video Broadcasting](https://intl.cloud.tencent.com/zh/document/product/1071) SDK 통합을 통한 재생을 지원합니다.
>?MLVB SDK는 CSS 서비스의 모바일 시나리오에서의 확장으로, 클라우드 연결 위주의 CSS 서비스 대비 RTMP SDK 기반의 ‘신속한 통합 솔루션’을 제공할 뿐만 아니라, LVB, LEB, VOD, IM, COS 등 기타 멀티 클라우드 서비스를 통합한 ‘올인원 솔루션’을 제공합니다.
[LEB](https://intl.cloud.tencent.com/document/product/1071/41875) (Live Event Broadcasting)(초저지연 라이브 방송)는 LVB의 초저지연 재생 시나리오에서의 확장으로, 기존 라이브 방송 프로토콜보다 지연 시간이 짧아 시청자에게 밀리초 수준의 라이브 시청 경험을 제공합니다. 온라인 교육, 스포츠 생중계, 온라인 퀴즈와 같은 더 높은 수준의 저지연성을 요구하는 시나리오에 적합합니다.





