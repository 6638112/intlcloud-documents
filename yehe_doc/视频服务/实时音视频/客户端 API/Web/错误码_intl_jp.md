
>!このドキュメントは4.x.xバージョンのTRTC Web SDKに適用されます。

## エラーコードの定義

| Key         | getCode | エラーコード | 説明          |
|------|----|---|------------------------------|
| INVALID_PARAMETER   | 4096    | 0x1000 | 無効なパラメータ<br>処理に関するアドバイス：渡されたパラメータがSDKの要求（パラメータのタイプが正しいか）を満たしているか確認してください。|
| INVALID_OPERATION   | 4097    | 0x1001 | 不正な操作<br/>処理に関するアドバイス：該当するインターフェースドキュメントに基づきAPIの呼び出しロジックがSDK要求を満たしているか確認してください。例えばルームに参加していない場合、publishインターフェースの呼び出しは禁止されています。|
| NOT_SUPPORTED       | 4098    | 0x1002 | SDKインターフェースを呼び出すときにスローされると、現在ブラウザがそのインターフェースの呼び出しをサポートしていないことを意味します。<ul style="margin:0"><li/>説明：SDKインターフェースを呼び出すときにスローされると、現在ブラウザがそのインターフェースの呼び出しをサポートしていないことを意味します。<li/>処理に関するアドバイス：ユーザーがSDKに対応するブラウザを使用するよう導きます。[ブラウザのサポートレベルを確認する](https://web.sdk.qcloud.com/trtc/webrtc/doc/zh-cn/tutorial-23-advanced-support-detection.html)をご参照ください。          |
| DEVICE_NOT_FOUND    | 4099    | 0x1003 | 現在デバイスにマイクまたはカメラがありませんが、マイクやカメラを収集しようとしています。<br>処理に関するアドバイス：ユーザーがデバイスのカメラおよびマイクが正常であるか確認するよう導き、サービス側は入室前のデバイス検査ロジックを追加する必要があります。[通話前の環境およびデバイス検査](https://web.sdk.qcloud.com/trtc/webrtc/doc/zh-cn/tutorial-23-advanced-support-detection.html)をご参照ください。|
| INITIALIZE_FAILED   | 4100    | 0x1004 | LocalStream.initialize()の収集に失敗しました。[詳細な処理に関するアドバイス](https://web.sdk.qcloud.com/trtc/webrtc/doc/zh-cn/module-ErrorCode.html#.INITIALIZE_FAILED)をご参照ください。         |
| SIGNAL_CAHNNEL_SETUP_FAILED        | 16385   | 0x4001 | シグナリングチャネルの確立に失敗しました。通常Tencent Cloudアカウントに関連します。詳細については[アカウントに関するエラー情報](https://intl.cloud.tencent.com/document/product/647/41665)をご参照ください。       |
| SIGNAL_CHANNEL_ERROR               | 16386   | 0x4002 | シグナリングチャネルエラー。         |
| ICE_TRANSPORT_ERROR                | 16387   | 0x4003 | ICE Transportの接続エラー、すなわちオーディオビデオデータ伝送チャネルエラーです。これはユーザー側のUDPポートの異常（ユーザーのパソコンファイアウオールまたはルーターのファイアウオールポートの制限など）が原因です。ポートの詳細については[ポートホワイトリスト](https://intl.cloud.tencent.com/document/product/647/35164)をご参照ください。  |
| JOIN_ROOM_FAILED    | 16388   | 0x4004 | 入室に失敗しました。詳細については[入室失敗に関するエラー情報](https://intl.cloud.tencent.com/document/product/647/41665)をご参照ください          |
| CREATE_OFFER_FAILED                | 16389   | 0x4005 | sdp offerの新規作成に失敗しました。          |
| SIGNAL_CHANNEL_RECONNECTION_FAILED | 16390   | 0x4006 | WebSocket シグナリングチャネルの再接続に失敗しました<ul style="margin:0"><li/>説明：WebSocketが切れた場合は、SDKは再接続を試行します。いずれも失敗した場合は、このエラーがスローされます<li/>処理に関するアドバイス：ユーザーにネットワーク接続を確認してからもう一度入室するよう通知します。      |
| UPLINK_RECONNECTION_FAILED         | 16391   | 0x4007 | アップストリームPeerConnectionの再接続に失敗しました<ul style="margin:0"><li/>説明：アップストリームPeerConnectionが切断された場合は、SDKは再接続を試行します。いずれも失敗した場合は、このエラーがスローされます<li/>処理に関するアドバイス：ユーザーにネットワーク接続を確認してからプッシュを再実行するか、もう一度入室するよう通知します。       |
| DOWNLINK_RECONNECTION_FAILED       | 16392   | 0x4008 | ダウンストリームPeerConnectionの再接続に失敗しました<ul style="margin:0"><li/>説明：ダウンストリームPeerConnectionが異常に切断された場合は、SDKは再接続を試行します。いずれも失敗した場合は、このエラーがスローされます<li/>処理に関するアドバイス：ユーザーにネットワーク接続を確認してからもう一度入室するよう通知します。       |
| REMOTE_STREAM_NOT_EXIST            | 16400   | 0x4010 | リモートストリーミングが存在しません<ul style="margin:0"><li/>説明：AでBからプッシュされたストリーミングをサブスクリプションしようとするときに、Bがプッシュを取り消したことで、AのBに対するサブスクリプションに失敗しました<li/>処理に関するアドバイス：正常なやりとりプロセスであり、アクセス側で処理する必要がありません。     |
| CLIENT_BANNED       | 16448   | 0x4040 | ユーザーが強制退室されました。強制退室の原因：<ul style="margin:0"><li/>同じ名前のユーザーが同じルームに入ったなど。**注意**：同じ名前のユーザーが同時に同じルームに入ることが禁止されます。両方のオーディオビデオ通話異常の原因となりますので、サービス側はこのような状況を避けるようにしなければなりません。<li/>アカウント管理者によりサーバー側のAPIにて強制退室されました。  |
| SERVER_TIMEOUT      | 16449   | 0x4041 | メディア伝送サービスがタイムアウトします     |
| SUBSCRIPTION_TIMEOUT               | 16450   | 0x4042 | リモートストリーミングのサブスクリプションがタイムアウトします       |
| PLAY_NOT_ALLOWED    | 16451   | 0x4043 | 自動再生禁止エラー<ul style="margin:0"><li/>説明：`play()`を呼び出してオーディオビデオを再生するときに、[自動再生ポリシー](https://developers.google.com/web/updates/2017/09/autoplay-policy-changes)の制限により自動再生ができません<li/>処理に関するアドバイス：この場合、ユーザーがジェスチャー操作で`resume()`を呼び出して再生を続行するよう導きます。[自動再生の制限を受けたときの処理に関するアドバイス](https://web.sdk.qcloud.com/trtc/webrtc/doc/zh-cn/tutorial-21-advanced-auto-play-policy.html)をご参照ください。 |
| DEVICE_AUTO_RECOVER_FAILED         | 16452   | 0x4044 | カメラとマイク収集の自動復元に失敗しました。このエラーはLocalStreamのerrorイベントでスローされます<ul style="margin:0"><li/>ユーザーがプッシュしているメディアデバイスに変更された場合は（カメラ、マイクの差込用端子が緩んでいるなど）、SDKは収集の復元を試行します。このエラーが発生すると復元の失敗を意味します<li/>処理に関するアドバイス：ユーザーにメディアデバイスの自動収集復元失敗を通知します。カメラ、マイクの端子が緩んでいるか、他のアプリケーションに使用されていないか確認してください<li/>ページにリトライボタンを提供することをお勧めします。ユーザーがリトライをクリックすると、カメラ、マイクを再収集します。 |
| START_PUBLISH_CDN_FAILED           | 16453   | 0x4045 | CDNへのプッシュ開始に失敗しました。          |
| STOP_PUBLISH_CDN_FAILED            | 16454   | 0x4046 | CDNへのプッシュ停止に失敗しました。          |
| START_MIX_TRANSCODE_FAILED         | 16455   | 0x4047 | ミクスストリーミングトランスコードの開始に失敗しました。     |
| STOP_MIX_TRANSCODE_FAILED          | 16456   | 0x4048 | ミクスストリーミングトランスコードの停止に失敗しました。     |
| NOT_SUPPORTED_H264  | 16457   | 0x4049 | 現在のデバイスはH.264をサポートしていません。          |
| SWITCH_ROLE_FAILED  | 16458   | 0x404a | ロール切り替えに失敗しました。         |
| UNKOWN      | 65535   | 0xFFFF | 不明なエラー     |



## アカウントに関するエラー情報

| エラーコード | エラーのタイプ | 説明        |
|:--|:-----|:-------------------|
| -8     | アカウントシステム | sdkAppId が正しくありません。sdkAppIdが正しく記入されているか確認してください。              |
| 70001  | アカウントシステム | userSigの有効期限が切れました。再生成をしてみてください。生成するとすぐに切れた場合は、有効期限の記入について小さく過ぎるか、0と間違って記入されたか確認してください。      |
| 70002  | アカウントシステム | userSigの長さは0です。署名の計算が正しいか確認してください。sign_srcにアクセスして署名計算用のだれでもできるソースコードを取得し、パラメータをチェックし、署名の計算の正確性を保証します。 |
| 70003  | アカウントシステム | userSigの検証に失敗しました。userSigの内容が切り捨てられているか（例えば、バッファの長さが足りないため、内容が切り捨てられている）確認してください。    |
| 70004  | アカウントシステム | userSigの検証に失敗しました。userSigの内容が切り捨てられているか（例えば、バッファの長さが足りないため、内容が切り捨てられている）確認してください。    |
| 70005  | アカウントシステム | userSigの検証に失敗しました。生成されたuserSigが正しいかどうかをツールで検証します。    |
| 70006  | アカウントシステム | userSigの検証に失敗しました。生成されたuserSigが正しいかどうかをツールで検証します。     |
| 70007  | アカウントシステム | userSigの検証に失敗しました。生成されたuserSigが正しいかどうかをツールで検証します。     |
| 70008  | アカウントシステム | userSigの検証に失敗しました。生成されたuserSigが正しいかどうかをツールで検証します。     |
| 70009  | アカウントシステム | userSigの失敗をサービスパブリックキーで検証します。生成されたuserSigに使用されているプライベートキーとsdkAppIdが対応しているか確認してください。    |
| 70010  | アカウントシステム | userSigの検証に失敗しました。生成されたuserSigが正しいかどうかをツールで検証します。     |
| 70013  | アカウントシステム | userSigのuserIdはリクエスト時のuserIdと一致しません。ログイン時に記入したuserIdとuserSigのものが一致しているか確認してください。              |
| 70014  | アカウントシステム | userSigのsdkAppIdはリクエスト時のsdkAppIdと一致しません。ログイン時に記入したsdkAppIdとuserSigのものが一致しているか確認してください。        |
| 70015  | アカウントシステム | このsdkAppIdおよびアカウントのタイプに対応する検証方法が見つかりませんでした。アカウント集約操作が行われたか確認してください。    |
| 70016  | アカウントシステム | プルしたパブリックキーの長さは0です。パブリックキーをアップロードしたか確認してください。再びアップロードしたパブリックキーの場合は10分間経過してからリトライしてください。    |
| 70017  | アカウントシステム | 第三者伝票の内部検証がタイムアウトします。リトライしてください。何回リトライしても成功できない場合は、TLSアカウントサポート担当者（QQ：3268519604）までご連絡ください。       |
| 70018  | アカウントシステム | 第三者伝票の内部検証に失敗しました。      |
| 70019  | アカウントシステム | HTTPS方式で検証された伝票フィールドは空白です。userSigを正しく記入してください。       |
| 70020  | アカウントシステム | sdkAppIdが見つかりませんでした。Tencent Cloudで設定しているか確認してください。  |
| 70052  | アカウントシステム | userSigは無効となっています。再生成してからリトライしてください。   |
| 70101  | アカウントシステム | リクエストパケット情報は空白です。      |
| 70102  | アカウントシステム | リクエストパケットアカウントのタイプが正しくありません。   |
| 70103  | アカウントシステム | 電話番号の形式が正しくありません。    |
| 70104  | アカウントシステム | メールアドレスの形式が正しくありません。        |
| 70105  | アカウントシステム | TLSアカウントの形式が正しくありません。    |
| 70106  | アカウントシステム | 不正なアカウントの形式やタイプが正しくありません。    |
| 70107  | アカウントシステム | userIdは登録されていません。     |
| 70113  | アカウントシステム | バッチ数量は無効です。      |
| 70114  | アカウントシステム | 安全のため制限されます。      |
| 70115  | アカウントシステム | uinは対応するsdkAppIdの開発者 uinではありません。     |
| 70140  | アカウントシステム | sdkAppIdとacctypeは一致していません。          |
| 70145  | アカウントシステム | アカウントのタイプが正しくありません。        |
| 70169  | アカウントシステム | 内部エラーが発生しました。リトライしてください。何回リトライしても成功できない場合は、TLSアカウントサポート担当者（QQ：3268519604）までご連絡ください。       |
| 70201  | アカウントシステム | 内部エラーが発生しました。リトライしてください。何回リトライしても成功できない場合は、TLSアカウントサポート担当者（QQ：3268519604）までご連絡ください。       |
| 70202  | アカウントシステム | 内部エラーが発生しました。リトライしてください。何回リトライしても成功できない場合は、TLSアカウントサポート担当者（QQ：3268519604）までご連絡ください。       |
| 70203  | アカウントシステム | 内部エラーが発生しました。リトライしてください。何回リトライしても成功できない場合は、TLSアカウントサポート担当者（QQ：3268519604）までご連絡ください。       |
| 70204  | アカウントシステム | sdkAppIdは対応するacctypeがありません。         |
| 70205  | アカウントシステム | acctypeの検索に失敗しました。リトライしてください。    |
| 70206  | アカウントシステム | リクエスト中のバッチ数量が無効です。        |
| 70207  | アカウントシステム | 内部エラーが発生しました。リトライしてください。     |
| 70208  | アカウントシステム | 内部エラーが発生しました。リトライしてください。     |
| 70209  | アカウントシステム | 開発者uinの取得に失敗しました。     |
| 70210  | アカウントシステム | リクエスト中のuinは開発者uinではありません。   |
| 70211  | アカウントシステム | リクエスト中のuinは不正です。     |
| 70212  | アカウントシステム | 内部エラーが発生しました。リトライしてください。何回リトライしても成功できない場合は、TLSアカウントサポート担当者（QQ：3268519604）までご連絡ください。       |
| 70213  | アカウントシステム | 内部データへのアクセスに失敗しました。リトライしてください。何回リトライしても成功できない場合は、TLSアカウントサポート担当者（QQ：3268519604）までご連絡ください。       |
| 70214  | アカウントシステム | 内部伝票の検証に失敗しました。    |
| 70221  | アカウントシステム | ログイン状態は無効です。UserSigを使用して再認証してください。   |
| 70222  | アカウントシステム | 内部エラーが発生しました。リトライしてください。     |
| 70225  | アカウントシステム | 内部エラーが発生しました。リトライしてください。何回リトライしても成功できない場合は、TLSアカウントサポート担当者（QQ：3268519604）までご連絡ください。       |
| 70231  | アカウントシステム | 内部エラーが発生しました。リトライしてください。何回リトライしても成功できない場合は、TLSアカウントサポート担当者（QQ：3268519604）までご連絡ください。       |
| 70236  | アカウントシステム | user signatureの検証に失敗しました。    |
| 70308  | アカウントシステム | 内部エラーが発生しました。リトライしてください。何回リトライしても成功できない場合は、TLSアカウントサポート担当者（QQ：3268519604）までご連絡ください。       |
| 70346  | アカウントシステム | 伝票検証に失敗しました。       |
| 70347  | アカウントシステム | 伝票の有効期限が切れたため検証に失敗しました。      |
| 70348  | アカウントシステム | 内部エラーが発生しました。リトライしてください。何回リトライしても成功できない場合は、TLSアカウントサポート担当者（QQ：3268519604）までご連絡ください。       |
| 70362  | アカウントシステム | 内部がタイムアウトします。リトライしてください。何回リトライしても成功できない場合は、TLSアカウントサポート担当者（QQ：3268519604）までご連絡ください。       |
| 70401  | アカウントシステム | 内部エラーが発生しました。リトライしてください。     |
| 70402  | アカウントシステム | 不正なパラメータ。入力必須フィールドに入力されているか、またはフィールドの入力がプロトコル要件を満たしているかをチェックしてください。 |
| 70403  | アカウントシステム | オペレータがApp管理者ではなく、操作権限がありません。      |
| 70050  | アカウントシステム | 失敗してリトライ回数が多すぎるため制限されます。伝票が正しいか確認して、1分間経過してからリトライしてください。   |
| 70051  | アカウントシステム | アカウントはブラックリストに追加されました。TLSアカウントサポート担当者（QQ：3268519604）までご連絡ください。      |

## 入室失敗に関するエラー情報
| エラーコード | エラー情報              |
|:--|:-----------|
| 10006  | お客様の支払いが遅延しています。[TRTCコンソール](https://console.cloud.tencent.com/trtc)にログインし、|作成したアプリケーションをクリックし、**アカウント情報**をクリックし、[アカウント情報]パネルでサービス状態を確認できます。　|
| -10011 | サーバー側の不明なエラーです。リトライしてください。        |
| -10012 | roomIdが渡されていないか、roomIdが正しくありません。string型のroomIdを使用するには、`TRTC.createClient`を呼び出すときにuseStringRoomIdをtrueに設定してください。   |
| -10013 | userSig認証に失敗しました。     |
| -10015 | サーバー側でのサーバーノード取得に失敗しました。リトライしてください。      |
| -10016 | サーバー側でのルーム作成に失敗しました。roomIdがトラフィックコントロール許容範囲内にあるか確認してください。               |
| -10018 | 高度な権限制御をオンにした後、client.joinにはprivateMapKeyパラメータが持たれていないか、privateMapKeyは' 'となります。[高度な権限の設定をオンにする](https://intl.cloud.tencent.com/document/product/647/35157)をご参照ください。 |
| -10019 | 高度な権限制御をオンにした後、client.joinに持たれているprivateMapKeyパラメータは仕様に適合しません。[高度な権限の設定をオンにする](https://intl.cloud.tencent.com/document/product/647/35157)をご参照ください。 |
| -10020 | サーバー側がタイムアウトします。リトライしてください。    |

## よくあるエラーおよび処理方法
このタイプのエラーについて、アプリケーションの介入が必要です。例えば、カメラ取得権限が拒否された場合は、アプリケーションからはカメラ認証を行ってからオーディオビデオ通話ができることについてユーザーに注意を喚起する必要があります。


| エラー情報    | エラー原因    | ソリューション    |
|:--------------|:------------|:-------------|
| publish timeout     | publishタイムアウト               | リフレッシュして再接続してから、publish()を再試行してください。          |
| join room timeout   | 入室タイムアウト    | ページをリフレッシュしてもう一度入ることをお勧めします。    |
| DTLS Transport connection timeout (10s)     | DTLS Transportの接続はタイムアウトします    | リフレッシュして再接続してみてください。      |
| failed to connect to remote server via websocket           | websocket接続に失敗しました         | リフレッシュして再接続してみてください。      |
| ICE/DTLS Transport connection failed   | メディア伝送チャネルの確立に失敗しました     | [ファイアウオールの設定](https://intl.cloud.tencent.com/document/product/647/35164)を確認してください。         |
| previous publishing is ongoing, please avoid re-publishing | publishing状態です   | publish後には再びのpublish()を避けるようにしてください。     |
| AbortError          | 一部のデバイス/システムの不明な原因によりデバイスが使用されません        | 通話前にデバイス検出を行うことをお勧めします。           |
| NotReadableError  | OS上の特定のハードウェア、ブラウザまたはWebページのレベルに発生したエラーのため、デバイスにアクセスできません。  | ブラウザのエラーメッセージの処理に従って、ユーザーに対し、「現在他のアプリケーションがカメラ/マイクへのアクセスをリクエストしていないことを確認してから、リトライしてください」というメッセージが表示されます。|
| NotFoundError       | リクエストパラメータを満たしているメディアタイプ（オーディオ、ビデオ、画面共有など）が見つかりませんでした     | 通話前にデバイス検出を行うことをお勧めします。           |
| NotAllowedError | ユーザーが、現在のブラウザ・インスタンスのオーディオ、ビデオおよび画面共有へのアクセスのリクエストを拒否しました。   | ユーザーがカメラ/マイクへのアクセス権限を承認しないと、オーディオビデオ通話を行うことができません。        |
| SignalChannel reconnect failed      | websocketが切断しました             | リフレッシュして再接続してみてください。      |
| duplicate publishing, please unpublish and then re-publish | publish操作が重複です               | まずunpublish()を実行してからpublish()を操作してください。      |
| OverConstrainedError | ブラウザがcameraId/microphoneIdを取得することができません。 | cameraId/microphoneIdの値が有効で、空でない文字列であることを確認してください。 |
| RtcError: no valid ice candidate found      | TRTC Web SDKがSTUNトンネリングに失敗しました      | [ファイアウオールの設定](https://intl.cloud.tencent.com/document/product/647/35164)を確認してください。       |
