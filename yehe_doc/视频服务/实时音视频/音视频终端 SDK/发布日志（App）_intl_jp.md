オーディオビデオ端末SDKにはTRTC SDK、MLVB SDK、Player SDK、UGSV SDKがあり、ユースケースに応じて、サブ製品版SDKまたは全機能版SDKを選択できます。

## リリースノート10.6 @ 2022.09.09

### ライブストリーミング機能モジュール

#### 新機能

iOS&Android&Mac：プロフェッショナル版TXLivePlayer\V2TXLivePlayerは、HLS再生、アダプティブ再生およびマルチビットレートによるシームレスなストリームの切り替えをサポートします。

#### 機能の最適化

- すべてのプラットフォーム：Music音質下で音量が小さいという問題を最適化しました。
- Android&iOS：通話音量での音漏れの問題を最適化しました。
- Android：エコーリークが発生することがあるという問題を最適化しました。

#### バグの修正

- すべてのプラットフォーム：V2TXLivePlayerがライブイベントストリーミングでプルする際、ネットワークが切断された状態から再開するときに直ちに再接続されないという問題を修正しました。
- すべてのプラットフォーム：V2TXLivePlayerがライブイベントストリーミングでプルする際、UDPのリクエストが失敗し、TCPチャネルへのダウングレードが成功しないという問題を修正しました。
- Mac：マイクを切り替えると、時折エコーキャンセルに失敗するという問題を修正しました。

### UGSV機能モジュール

#### バグの修正
- Android：UGSVコーデックを最適化し、Highコーデックで保存しました。
- Android：BGM形式がプロンプトなしに対応していないという問題を修正しました。
- iOS：低速で再生するとBGMにノイズが生じる問題を修正しました。

### オーディオビデオ通話機能モジュール
#### 機能の最適化

- すべてのプラットフォーム：IPv6ネットワーク環境での入室速度を向上させました。
- すべてのプラットフォーム：脆弱なネットワーク環境でのオーディオの復元効率および音声と映像の同期効果を最適化し、通話体験を向上させました。
- すべてのプラットフォーム：脆弱なネットワーク環境での接続保持機能を最適化し、切断・再接続の確率を低減しました。
- すべてのプラットフォーム：Musicレベル（startLocalAudioにおいて指定）での音量が小さいという問題を最適化し、ユーザー体験を向上させました。
- Mac：Bluetoothヘッドセット使用時の通信体験を最適化し、ノイズをさらに減らし、よりクリアなサウンドを実現しました。
- Android：ステレオキャプチャの互換性を最適化し、より多くのモデルをサポートしています。
- Android：時折発生するエコーリークの問題を改善し、通信体験を向上させました。

#### バグの修正
- Android & iOS：Speechレベル（startLocalAudioにおいて指定）で時折発生する音漏れの問題を修正しました。
- Mac：マイクを切り替えると、時折エコーキャンセルに失敗するという問題を修正しました。

### プレーヤー機能モジュール

#### 機能の最適化

- Android&iOS：fileid再生メソッドに、スプライトイメージやURLといった情報のコールバックが新たに追加されました。
- Android&iOS：パッケージサイズを最適化しました。

#### バグの修正
iOS：一部のユースケースにおいて、プライベート暗号化ビデオのオフラインダウンロードや再生が失敗するという問題を修正しました。

## 全機能版10.5 @ 2022.08.24
### ライブストリーミング機能モジュール
#### 機能の最適化
- Android：メモリヒープの発生を防止するために、ビデオデコードのメモリ管理を最適化しました。
- Windows：内蔵マイクのノイズ低減効果を最適化し、中でもミュージックモードでのパフォーマンスをより改善しました。
- Mac：マイクキャプチャをオンにした際、高確率で発生するノイズの問題を最適化しました。

#### バグの修正
- すべてのプラットフォーム：V2TXLivePlayerがライブイベントストリーミングでプルする際、SEIが受信されないことがあるという問題を修正しました。
- すべてのプラットフォーム：V2TXLivePlayerがライブイベントストリーミングでプルする際、タイムスタンプのロールバックによって無音になる問題を修正しました。

### UGSV機能モジュール
#### バグの修正
- Android：UGC HarmonyOSで画像トランジションにより生成されたビデオのスクリーンが緑色になる問題を修正しました。
- Android：編集で生成されたビデオの長さがおかしくなる問題を修正しました。
- Android：マルチサウンドチャンネルビデオが再生および再エンコードができないという問題を修正しました。
- Android：動的光波のエフェクトが選択した時間帯に1回しか効果を発揮しないという問題を修正しました。
- Android&iOS：UGSVレコーディングクリップを削除した後、BGMの再生進捗がおかしくなる問題を修正しました。

### オーディオビデオ通話機能モジュール

#### 機能の最適化

- すべてのプラットフォーム：脆弱なネットワーク体験を向上させるため、qosポリシーを最適化しました。
- iOS&Android：フルリンクの遅延を低減させ、インイヤーモニタリング体験を最適化しました。
- Android：メモリヒープの発生を防止するために、ビデオデコードのメモリ管理を最適化しました。
- Windows：内蔵マイクのノイズ低減効果を最適化し、中でもミュージックモードでのパフォーマンスをより改善しました。
- Mac：マイクキャプチャをオンにした際、高確率で発生するノイズの問題を最適化しました。

#### バグの修正
すべてのプラットフォーム：頻繁に異なるルームに入室する際のコールバックイベント：[OnUserVideoAvailable](https://liteav.sdk.qcloud.com/doc/api/zh-cn/group__TRTCCloudListener__android.html#ac1a0222f5b3e56176151eefe851deb05)および[OnUserAudioAvailable](https://liteav.sdk.qcloud.com/doc/api/zh-cn/group__TRTCCloudListener__android.html#ac1a0222f5b3e56176151eefe851deb05)で、異常が発生することがある問題を修正しました。

### プレーヤー機能モジュール

#### バグの修正
Android&iOS：ビデオフォーマットの拡張子がショートリンクでない場合、再生に失敗する異常を修正しました。

## 全機能版10.4 @ 2022.07.25
### ライブストリーミング機能モジュール
#### 新機能
iOS&Android：V2TXLivePlayerでは、再生終了時に最後のフレームを保持できるようになりました。

#### 機能の最適化
- すべてのプラットフォーム：TXLivePlayer\V2TXLivePlayerがFLVでプルする際に、メモリが占有される問題を最適化しました。
- Android：TXLivePlayer\V2TXLivePlayerがプルする際に、ラグが発生することがある問題を修正しました。
- Android：低遅延インイヤーモニタリングおよびダブルサウンドチャンネルキャプチャの互換性を最適化しました。
- Android：ハードウェアデコードとソフトウェアデコードの切り替えポリシーを最適化し、デコードのパフォーマンスを向上させました。
- iOS：iPadでのキャプチャ音量が小さい問題を改善しました。

#### バグの修正
Android：TXLivePlayer\V2TXLivePlayerがプルする際に、ソフトウェアデコードに切り替わることがあるという問題を修正しました。

### UGSV機能モジュール

#### 機能の最適化
Android：UGSV編集のためのsetBGMLoopインターフェースを追加しました。

#### バグの修正
- Android：ビデオsetWaterMarkが機能しないという問題を修正しました。
- Android：TXVideoEditorのプレビューのレンダリングモードがおかしくなる問題を修正しました。

### オーディオビデオ通話機能モジュール
#### 新機能
- iOS&Android：カスタムビデオキャプチャでRGBA32形式をサポートしました。詳細についてはsendCustomVideoDataをご覧ください。
- Windows&Mac：ウォーターマーク設定でローカルプレビューをサポートしました。詳細についてはsetWaterMarkをご参照ください。

#### 機能の最適化
- Android：低遅延インイヤーモニタリングおよびダブルサウンドチャンネルキャプチャの互換性を最適化しました。
- Android：ハードウェアデコードとソフトウェアデコードの切り替えポリシーを最適化し、デコードのパフォーマンスを向上させました。
- iOS：iPadでのキャプチャ音量が小さい問題を改善しました。

#### バグの修正
- すべてのプラットフォーム：入退室コールバックに異常が発生することがある問題を修正しました。
- Windows：共有ウィンドウに切り替えると、新しいウィンドウの内容がトリミングされる問題を修正しました。

### プレーヤー機能モジュール
#### 機能の最適化
Android&iOS：HLSライブストリーミングは、アダプティブ再生をサポートしています。

#### バグの修正
- Android：onNetStatusと進捗のコールバック間隔の異常を修正しました。
- Android：プレーヤーがsetConfigを呼び出さないことで発生するNULLポインタの異常を修正しました。
- iOS：一部のユースケースにおけるリプレイラグの問題を修正しました。

## 全機能版10.3 @ 2022.07.08

### ライブストリーミング機能モジュール

**新機能：**
すべてのプラットフォーム：TXLivePlayer\V2TXLivePlayerはHLS再生をサポートしています。

**機能の最適化：**
- すべてのプラットフォーム：Music音質下の音声効果を最適化しました。
- すべてのプラットフォーム：TXLivePlayer\V2TXLivePlayerのSEI解析ロジックを最適化し、一部の非標準SEIと互換性を持たせました。
- すべてのプラットフォーム：TXLivePlayer\V2TXLivePlayerがFLV、RTMPでプルする際に、タイムスタンプのロールバックによって発生する音声と映像が同期しないという問題を最適化しました。

**バグ修正：**
- すべてのプラットフォーム：TXLivePlayer\V2TXLivePlayerで一部のライブイベントストリーミングのAAC-HEv2ストリームを再生する際における、音声の異常の問題を修正しました。
- すべてのプラットフォーム：TXLivePlayerのビデオキャッシュの計算が不正確である問題を修正しました。

### UGSV機能モジュール

**バグ修正：**
- Android：ビデオレコーディングのsetZoomが機能しないという問題を修正しました。
- Android：Samsung s22のレコーディングの失敗の問題を修正しました。
- iOS：カスタムビデオの前処理がコールバックされないという問題を修正しました。

### オーディオビデオ通話機能モジュール

**新機能：**
- Windows：レコーディングにローカルレコーディング機能を追加し、インタラクティブライブストリーミングやオーディオビデオ通話の完全な内容をローカルでレコーディングできるようになりました。詳細についてはITXLiteAVLocalRecordをご参照ください。
-  Windows&Mac：startMicDeviceTestインターフェース内でマイクチェック時にマイクがキャプチャした音声の再生オン/オフをサポートするパラメータを追加しました。詳細についてはstartMicDeviceTestをご参照ください。

**機能の最適化：** 
すべてのプラットフォーム：Music音質下の音声効果を最適化しました。

**バグ修正：**
- すべてのプラットフォーム：ルームユーザーリストでコールバックにエラーが発生することがある問題を修正しました。
- Windows：ビデオ再生中に画面がフリーズすることがある問題を修正しました。
- Windows：ビデオ再生中に再生が失敗することがある問題を修正しました。
- Windows：オーディオのユーザー定義キャプチャのシーンでエコーが発生する問題を修正しました。

### プレーヤー機能モジュール

**新機能：**
iOS：ビデオ再生はピクチャーインピクチャーモードをサポートしています。

**バグ修正：**
- Android：ハードウェアデコードのバックエンドで連続再生されるビデオリストが中断する問題を修正しました。
- Android&iOS：Seek完了イベントがコールバックされないという問題を修正しました。

## 全機能版10.2 @ 2022.06.26

### ライブストリーミング機能モジュール

**新機能：**

- すべてのプラットフォーム：TXLivePlayer\V2TXLivePlayerがプルする際に、Licenseチェックを追加しました。
- すべてのプラットフォーム：V2TXLivePlayerがFLVでプルする際に、HTTP Headersの設定をサポートしています。
- すべてのプラットフォーム：TXLivePusher\V2TXLivePusherがRTMPプッシュする際に、オーディオコーデックパラメータを途中で変更できるようになりました。

**機能の最適化：** 

- すべてのプラットフォーム：V2TXLivePlayerがライブイベントストリーミングでプルする際、アダプティブビットレートのインターフェースを最適化しました。
- すべてのプラットフォーム：V2TXLivePlayerがライブイベントストリーミングでプルする際、再接続に時間がかかりすぎる問題を最適化しました。
- すべてのプラットフォーム：TXLivePlayer\V2TXLivePlayerがFLV、RTMPでプルする際、ローカルキャッシュが少ないという問題を改善しました。
- Android：TXLivePlayer\V2TXLivePlayerがプルする際に、最初のフレームの秒速開始速度を最適化しました。
- iOS：iOS SDKのボリュームを最適化しました。
- iOS：LiteaVSDK Live版にTXLiveBase.hをパッケージしました。

**バグ修正：** 

- すべてのプラットフォーム：TXLivePlayerのラグ閾値の設定が機能しない問題を修正しました。
- すべてのプラットフォーム：V2TXLivePusherがRTCプッシュする際に、オーディオビデオの最初のフレームのコールバックタイミングに異常がある問題を修正しました。
- Android：TXLivePlayer\V2TXLivePlayerがプルする際に、クイックstop、startをした場合、ブラックスクリーンが発生することがある問題を修正しました。

### UGSV機能モジュール

**新機能：**

Android：オーディオトラックなしのビデオ編集をサポートしています。

**機能の最適化：** 

Android：UGSVの編集・再生の初動速度を最適化しました。

**バグ修正：** 

- Android：レコーディングトリミング領域がおかしくなる問題を修正しました。
- Android：H265ビデオのハードウェアデコードにおいて、フレームの幅と高さがおかしくなる問題を修正しました。
- iOS：UGSVのトリミング時間が不正確な問題を修正しました。
- iOS：iOS 14以降のモデルで発生する可能性のあるレコーディングのノイズの問題を修正しました。
- iOS：ビデオ撮影の完了後に、レコーディングに戻るとクラッシュすることがある問題を修正しました。

### オーディオビデオ通話機能モジュール

**新機能：**
- すべてのプラットフォーム：よりフレキシブルで強力な機能のミクスストリーミングリレーAPIを新たにリリースしました。詳細についてはstartPublishMediaStreamをご参照ください。
- すべてのプラットフォーム：3Dオーディオエフェクト機能を追加しました。詳細についてはenable3DSpatialAudioEffectをご参照ください。
- すべてのプラットフォーム：人の声の検出機能を追加しました。muteLoalAudioとsetAudioCaptureVolume が0の場合は人の声の検出結果に影響を与えません。詳細についてはenableAudioVolumeEvaluationをご参照ください。Tips：ユーザーのマイクオンの表示に便利です。
- すべてのプラットフォーム：ロールの切り替え時の権限チェックサポート機能を追加しました。詳細については`switchRole(TRTCRoleType role, const char* privateMapKey)`をご参照ください。
- iOS&Mac：前処理をカスタマイズしたC++インターフェースで、テクスチャ方式によるビデオのドッキング処理をサポートしました。

**機能の最適化：** 
- Android：インイヤーモニタリング効果を最適化し、遅延を低減しました。
- Android：オーディオのキャプチャリンクを最適化し、一部モデルに存在するノイズの問題を解決しました。
- iOS：アップストリームのMPSリンクを最適化し、CPU、GPUの占有率を低減しました。
- Windows&Mac：ウィンドウ共有時のエンコード性能を最適化し、エンコードの幅と高さがキャプチャウィンドウのサイズの影響を受けないようにしました。
- Windows：パフォーマンスを最適化し、メモリフラグメントおよびその割り当ての際に発生するパフォーマンスオーバーヘッドを減少させました。

**バグ修正：** 
- すべてのプラットフォーム：ネットワークタイプの切り替えの際に、アップストリームが失敗することがある問題を修正しました。
- iOS：一部のiOS14システムでローカルレコーディングファイルに存在するノイズの問題を修正しました。

### プレーヤー機能モジュール

**機能の最適化：** 
Android&iOS：再生プロセスにおけるcachedBytes、IPアドレスなどのパラメータのコールバックを最適化しました。

**バグ修正：** 
- Android&iOS：H265形式ビデオのハードウェアデコード再生に失敗する問題を修正しました。
- Android&iOS：HLSライブストリーミングを再生する際の異常を修正しました。
- iOS：特定のユースケースにおけるsupportedBitratesを取得する際の異常を修正しました。