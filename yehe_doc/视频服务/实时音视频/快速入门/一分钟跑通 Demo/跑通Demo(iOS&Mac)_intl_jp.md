ここでは、主にTRTC-API-Example（iOS&Mac）を素早く実行する方法をご紹介します。

## 環境要件
- Xcode 11.0およびそれ以降のバージョン。
- プロジェクトが有効な開発者による署名を設定済みであることを確認してください。
- Qt Creator 4.13.3（Mac）およびそれ以降のバージョン。

## 前提条件
[Tencent Cloudアカウントの登録](https://intl.cloud.tencent.com/document/product/378/17985)を行い、[実名認証](https://intl.cloud.tencent.com/document/product/378/3629)が完了済みであること。

## 操作手順
[](id:step1)
### ステップ1：新規アプリケーションの作成
1．TRTCコンソールにログインし、【開発支援】>【[Demoのクイック実行](https://console.cloud.tencent.com/trtc/quickstart)】を選択します。
2.【アプリケーションの作成】をクリックして、 `TestTRTC`などのアプリケーション名を入力します。すでにアプリケーションがある場合は、【既存のアプリケーションを選択】をクリックします。

3. ビジネスのニーズに合わせてタグを追加または編集し、【作成する】をクリックします。
![](https://qcloudimg.tencent-cloud.cn/raw/7d1d1940f02ee954c369b5f749e0c663.png)
>?
>- アプリケーション名には、数字、中国語と英語の文字、アンダーラインのみを含めることができ、15文字以内とします。
>- タグは、Tencent Cloudのさまざまなリソースを識別および整理するのに役立ちます。例えば：企業に複数の事業部門があり、各部門に1つ以上のTRTCアプリケーションがある場合、TRTCアプリケーションにタグを追加することで部門情報にマークを付けることができます。タグは必須ではありません。実際のビジネスニーズに合わせてタグを追加または編集できます。

[](id:step2)
### ステップ2：SDKおよびTRTC-API-Exampleのソースコードのダウンロード
1. 実際のビジネスニーズに合わせてSDKおよびTRTC-API-Exampleのソースコードをダウンロードします。
2. ダウンロード完了後、【ダウンロード済み。次へ】をクリックします。

[](id:step3)
### ステップ3： TRTC-API-Example プログラムファイルの設定
1. 設定変更画面に進み、ダウンロードしたソースコードパッケージに基づき、対応する開発環境を選択します。
2. `LiteAVSDK_TRTC_iOS_バージョンナンバ/TRTC-API-Example/Debug/GenerateTestUserSig.h` ファイルを見つけて開きます。
3. `GenerateTestUserSig.h` のファイルの関連するパラメータを設定します。
  <ul><li>SDKAPPID：デフォルトは0、実際のSDKAppIDを設定してください。</li>
  <li>SECRETKEY：デフォルトは空文字列。実際のキー情報を設定してください。</li></ul> 

4. 貼り付け完了後、【貼り付けました。次へ】をクリックすれば、作成が完了します。
5. コンパイル完了後、【コンソールの概要ページに戻る】をクリックすればOKです。

>!
>- ここで言及したUserSigの作成法は、クライアントコードにSECRETKEYを設定しますが、この手法のSECRETKEYは逆コンパイルによって逆クラッキングされやすく、キーがいったん漏洩すると、攻撃者はTencent Cloudトラフィックを盗用できるようになります。そのため**この手法は、ローカルのTRTC-API-Exampleクイックスタートおよび機能デバッグにのみ適しています**。
>- UserSigの正しい発行方法は、UserSigの計算コードをサーバーに統合し、Appのインターフェース向けに提供します。 UserSigが必要なときは、Appから業務サーバーにリクエストを発出しダイナミックUserSigを取得します。詳細は[サーバーでのUserSig新規作成](https://intl.cloud.tencent.com/document/product/647/35166)をご参照ください。

[](id:step4)
### ステップ4：コンパイルと実行
XCode（11.0およびそれ以降のバージョン）を使用してソースディレクトリ配下の TRTC-API-Example-OC.xcworkspace プロジェクトを開き、 TRTC-API-Exampleプロジェクトをコンパイルして実行します。


## よくあるご質問
### 1. キーをクエリーするとき、パブリックキーとプライベートキーの情報しか取得できませんが、キーはどうしたら取得できますか。
TRTC SDK 6.6バージョン（2019年08月）では、新しい署名アルゴリズムのHMAC-SHA256の使用を開始しました。それ以前に作成されたアプリケーションの場合、新しい暗号化鍵を取得するために、署名アルゴリズムをアップグレードする必要があります。アップグレードしない場合でも、[旧バージョンアルゴリズム ECDSA-SHA256](https://intl.cloud.tencent.com/document/product/647/35166)は引き続き使用できます。アップグレード済みなら、必要に応じて新旧アルゴリズムを切り替えます。

アップグレード/切替の操作：
 1. [Tencent Real-Time Communicationコンソール](https://console.cloud.tencent.com/trtc)にログインします。
 2. 左側ナビゲーションバーで【アプリケーション管理】を選択し、ターゲットアプリケーションのある行の【アプリケーション情報】をクリックします。
 3．【クイックスタート】タブを選択して【ステップ2 UserSigを発行するためのキーを取得】エリアの【ここをクリックしてアップグレード】、【非対称暗号化】または【HMAC-SHA256】をクリックします。
  - アップグレード：
  - 旧バージョンアルゴリズムのECDSA-SHA256に切り替えます。
      ![](https://main.qcloudimg.com/raw/02a17c4c68682fd9d0da349b31d71a38.png)
  - 新バージョンアルゴリズムのHMAC-SHA256に切り替えます。
      ![](https://main.qcloudimg.com/raw/a14fb9a73b294f0c78c0b10e2694d4c9.png)

### 2. 2台の携帯電話で同時にプロジェクトを実行しているのに、お互いの画面が表示されないのはなぜですか。
2台の携帯電話でプロジェクトを実行するとき、UserIDが異なるものを使用してください。TRTCでは、同一のUserID（SDKAppIDが異なる場合を除く）が2つの端末で同時に使用することをサポートしていません。

### 3. ファイアウォールにはどのような制限がありますか。
SDK が UDP プロトコルを使用してオーディオビデオ伝送を行っていることから、 UDPに対してブロックがあるオフィスネットワークでは使用することができません。類似した問題がおありの際は、 [企業ファイアウォール制限の対応](https://intl.cloud.tencent.com/document/product/647/35164)をご参照の上、問題及び原因解決にお役立てください。
