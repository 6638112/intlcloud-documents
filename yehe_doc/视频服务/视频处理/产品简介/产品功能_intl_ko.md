비디오 처리는 다양한 네트워크 대역폭 및 단말 디바이스에 대한 사용자의 요구 사항을 충족하기 위해 멀티미디어 파일의 다양한 비트 레이트 및 해상도 포맷의 트랜스 코딩을 지원합니다. 지원 기능은 다음과 같습니다.

## 멀티미디어 트랜스 코딩
트랜스 코딩은 멀티미디어 코드 스트림을 다른 멀티미디어 코드 스트림으로 변환하는 오프라인 작업입니다. 트랜스 코딩을 통해 원본 코드 스트림의 인코딩 포맷, 해상도, 비트 레이트 등의 매개변수를 변경하여 단말과 네트워크 환경에 맞게 재생할 수 있습니다. 트랜스 코딩 기능의 효과는 다음과 같습니다.
- 호환 가능 단말 확대: 더 강력한 단말 호환 성능을 갖춘 포맷(예: MP4)으로 원본 비디오를 트랜스 코딩하여 더 많은 디바이스에서 비디오 리소스를 재생할 수 있습니다.
- 호환 가능 대역폭 확대: 비디오를 FLU, SD, HD, FHD 출력으로 변환하여 네트워크 환경에 따라 적합한 비트 레이트의 비디오를 재생할 수 있습니다.
- 재생 효율 개선: 트랜스 코딩으로 MP4의 끝부분에 있는 메타정보 MOOV를 헤더로 옮기면, 플레이어에서 비디오 전체를 다운로드하지 않아도 즉시 재생할 수 있습니다.
- 대역폭 절약: 더 우수한 인코딩 방식(예: H.265)으로 트랜스 코딩하면 원본 화질을 유지하면서도 비트 레이트를 현저하게 낮춰 재생 대역폭을 절약합니다.


트랜스 코딩의 타깃 사양은 인코딩 포맷, 해상도, 비트 레이트 등의 매개변수를 포함합니다. 다음과 같은 트랜스 코딩 관련 매개변수를 사용자 정의할 수 있습니다.

<table>
   <tr>
      <th width="0px" style="text-align:center">매개변수</td>
      <th width="0px" style="text-align:center">유형</td>
      <th width="0px"  style="text-align:center">상세 설명</td>
   </tr>
   <tr>
      <td rowspan='3' style="text-align:center">입력 포맷</td>
      <td style="text-align:center">캡슐화 포맷</td>
      <td>3GP, AVI, FLV, MP4, M3U8, MPG, ASF, WMV, MKV, MOV, TS, WebM, MXF</td>
   </tr>
   <tr>
      <td style="text-align:center">비디오 인코딩 포맷</td>
      <td>AV1, AVS2, H.264/AVC, H.263, H.263+, H.265, MPEG-1, MPEG-2, MPEG-4, MJPEG, VP8, VP9, RealVideo, Windows Media Video</td>
   </tr>
	    <tr>
      <td style="text-align:center">오디오 인코딩 포맷</td>
      <td>AAC, ADPCM, AMR, DSD, MP1, MP2, MP3, PCM, RealAudio, Windows Media Audio, VORBIS</td>
   </tr>
   <tr>
      <td rowspan='5' style="text-align:center">출력 포맷</td>
      <td rowspan='3' style="text-align:center">캡슐화 포맷</td>
      <td>비디오: FLV, MP4, HLS(m3u8+ts), MXF</td>
   </tr>
	    <tr>
      <td>오디오: MP3, MP4, OGG, FLAC, m4a</td>
   </tr>
	 	    <tr>
      <td>이미지: GIF, WEBP</td>
   </tr>
   <tr>
      <td style="text-align:center">비디오 인코딩 포맷</td>
      <td>H.264/AVC, H.265/HEVC, AV1</td>
   </tr>
	    <tr>
      <td style="text-align:center">오디오 인코딩 포맷</td>
      <td>MP3, AAC, FLAC, MP2</td>
   </tr>
	 	   <tr>
			 <td rowspan='2'  style="text-align:center">캡슐화</td>
      <td style="text-align:center">비디오 스트림 삭제</td>
      <td>'비디오 스트림 삭제'를 활성화하면 트랜스 코딩된 비디오는 비디오 스트림을 포함하지 않습니다(오디오 스트림만 보관).</td>
   </tr>
	 	 	   <tr>
      <td style="text-align:center">오디오 인코딩 포맷</td>
      <td>'오디오 스트림 삭제'를 활성화하면 트랜스 코딩된 비디오는 오디오 스트림을 포함하지 않습니다(비디오 스트림만 보관).</td>
</table>



## 워터마크
워터마크 추가는 비디오 트랜스 코딩 또는 화면 캡처 시 특정 이미지를 화면의 지정 위치에 추가하는 오프라인 작업입니다. 비디오 처리에서 지원하는 워터마크 유형은 다음과 같습니다.
- 정적 이미지 워터마크: PNG 포맷의 이미지 워터마크로, 저작권 소유자의 LOGO, 방송국 마크 등 비디오의 저작권 속성을 나타내는 데 자주 쓰입니다.
- 동적 이미지 워터마크: APNG 포맷의 동적 이미지 워터마크로, 워터마크 이미지의 동적 변화 효과를 구현할 수 있습니다.

비디오 처리는 비디오 또는 화면 캡처에 대한 여러 개의 워터마크 추가를 지원합니다. 각 워터마크의 화면 내 크기 및 위치를 지정할 수 있습니다.


워터마크의 타깃 사양은 워터마크 유형, 폭, 높이, 위치 등의 매개변수를 포함합니다. 다음과 같은 워터마크 관련 매개변수를 사용자 정의할 수 있습니다.

| 매개변수                     | 설명                                                         |
| ------------------------ | ------------------------------------------------------------ |
| 워터마크 유형(Type)         | 정적 이미지 워터마크 및 동적 이미지 워터마크 지원                           |
| 워터마크 위치(Position)     | 비디오 화면 내 워터마크의 위치                                 |
| 이미지 크기(ImageSize)    | 비디오 화면 내 이미지 워터마크가 차지하는 크기                                |
| 이미지 콘텐츠(ImageContent) | 이미지 워터마크 내 이미지의 바이너리 콘텐츠                                 |




## 비디오 화면 캡처

화면 캡처는 비디오의 특정 위치 화면을 캡처하여 이미지를 생성하는 오프라인 작업입니다. 비디오 처리에서 제공하는 화면 캡처 유형은 다음과 같습니다.
- 지정 시점 화면 캡처: 일정 시점을 지정하면 비디오의 해당 시점 화면을 캡처합니다.
- 샘플링 화면 캡처: 동일한 시간 간격으로 비디오의 여러 화면을 캡처합니다.
- 스프라이트 이미지 캡처: 동일한 시간 간격으로 비디오의 여러 화면을 작은 이미지로 캡처한 후, 큰 이미지([스프라이트 이미지](https://intl.cloud.tencent.com/document/product/1041/33504))로 조립합니다.


화면 캡처의 타깃 사양은 화면 캡처 파일의 포맷, 폭, 높이 등의 매개변수를 포함합니다. 다음과 같은 워터마크 관련 매개변수를 사용자 정의할 수 있습니다.

### 시점 화면 캡처


| 매개변수&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     | 설명                                                         |
| -------------------- | ------------------------------------------------------------ |
| 포맷(Format)       | 화면 캡처 파일의 출력 포맷으로 현재 JPG만 지원                         |
| 폭(Width)        | 캡처 화면의 폭으로 128px~4096px까지 지원                             |
| 높이(Height)     | 캡처 화면의 높이로 128px~4096px까지 지원                             |
| 채우기 방식(FillType) | 캡처 화면의 폭/높이 비율이 원본 비디오와 불일치할 경우, 캡처 화면을 '채우기' 방식으로 처리합니다. 일반적으로 다음과 같은 채우기 방식이 있습니다. <li>늘이기: 이미지를 늘려 이미지 전체를 채웁니다. 이미지가 '찌그러지거나' '길게 늘어날' 수 있습니다.</li><li>검은 테두리 남기기: 이미지의 폭/높이 비율을 유지하고 테두리의 남는 부분을 검은색으로 채웁니다. </li><li>흰 테두리 남기기: 이미지의 폭/높이 비율을 유지하고 테두리의 남는 부분을 흰색으로 채웁니다. </li><li>가우시안 블러: 이미지의 폭/높이 비율을 유지하고 테두리의 남는 부분을 가우시안 블러로 채웁니다.</li> |


### 샘플링 화면 캡처


| 매개변수                   | 설명                                                         |
| ---------------------- | ------------------------------------------------------------ |
| 포맷(Format)         | 화면 캡처 파일의 출력 포맷으로 현재 JPG만 지원                         |
| 폭(Width)          | 캡처 화면의 폭으로 128px~4096px까지 지원                             |
| 높이(Height)       | 캡처 화면의 높이로 128px~4096px까지 지원                             |
| 샘플링 방식(SampleType) | 샘플링 방식은 두 가지로 나뉩니다. <li>백분율로 샘플링: 5% 간격으로 샘플링할 경우 캡처 화면 20장 생성</li><li>시간 간격으로 샘플링: 10s 간격으로 샘플링할 경우 캡처되는 화면 수는 비디오 길이에 따라 달라짐</li> |
| 샘플링 간격(Interval)   | 샘플링 간격 길이: <li>백분율로 샘플링할 경우 간격은 백분율 </li><li>시간 간격으로 샘플링할 경우 간격은 초</li> |
| 채우기 방식(FillType)   | 캡처 화면의 폭/높이 비율이 원본 비디오와 불일치할 경우, 캡처 화면을 '채우기' 방식으로 처리합니다. 일반적으로 다음과 같은 채우기 방식이 있습니다. <li>늘이기: 이미지를 늘려 이미지 전체를 채웁니다. 이미지가 '찌그러지거나' '길게 늘어날' 수 있습니다.</li><li>검은 테두리 남기기: 이미지의 폭/높이 비율을 유지하고 테두리의 남는 부분을 검은색으로 채웁니다. </li><li>흰 테두리 남기기: 이미지의 폭/높이 비율을 유지하고 테두리의 남는 부분을 흰색으로 채웁니다. </li><li>가우시안 블러: 이미지의 폭/높이 비율을 유지하고 테두리의 남는 부분을 가우시안 블러로 채웁니다.</li> |


### 스프라이트 이미지

| 매개변수                   | 설명                                       |
| ---------------------- | ------------------------------------------ |
| 포맷(Format)         | 스프라이트 이미지 파일의 출력 포맷으로 현재 JPG만 지원     |
| 작은 이미지의 폭(Width)      | 스프라이트 이미지 내 작은 이미지의 폭                       |
| 작은 이미지의 높이(Height)   | 스프라이트 이미지 내 작은 이미지의 높이                       |
| 작은 이미지의 행 수(Rows)       | 큰 이미지 내 작은 이미지의 행 수                 |
| 작은 이미지의 열 수(Columns)    | 큰 이미지 내 작은 이미지의 열 수                  |
| 샘플링 방식(SampleType) | 작은 이미지의 샘플링 방식은 현재 시간 간격만 지원 |
| 샘플링 간격(Interval)   | 작은 이미지의 샘플링 간격은 작은 이미지를 샘플링하는 시간 간격을 의미     |

>!
>- Width × Columns는 128px~4096px 사이여야 합니다(큰 이미지의 폭은 128px~4096px 사이).
>- Height × Rows는 128px~4096px 사이여야 합니다(큰 이미지의 높이는 128px~4096px 사이).



## 비디오 gif
gif는 비디오의 일정 부분을 선택해 움직이는 이미지(GIF, WEBP 등)를 생성하는 오프라인 작업입니다. gif는 연속 프레임의 매끄러운 순환이며, 적은 용량으로 애니메이션 효과를 구현합니다.


gif의 타깃 사양은 gif 포맷, 폭, 높이, 프레임 레이트 등의 매개변수를 포함합니다. 다음과 같은 gif 관련 매개변수를 사용자 정의할 수 있습니다.

| 매개변수             | 설명                                         |
| ---------------- | -------------------------------------------- |
| 포맷(Format)   | gif 파일의 출력 포맷으로 현재 GIF와 WEBP만 지원 |
| 폭(Width)    | gif의 폭으로 128px~4096px까지 지원              |
| 높이(Height) | gif의 높이로 128px~4096px까지 지원              |
| 프레임 레이트(FPS)      | 프레임 레이트는 1fps~60fps까지 지원                  |


v
