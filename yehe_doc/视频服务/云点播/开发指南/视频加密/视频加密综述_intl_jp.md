ビデオコンテンツを安全に保護し、ビデオのホットリンク 、ダウンロードおよび違法な配信を防ぐために、VODはビデオコンテンツのセキュリティに複数の保護メカニズムを提供し、ビデオの著作権をさまざまな面で侵害行為から保護します。

<table class="table auto-table">
  <tr>
	  <td>タイプ</td>
	  <td>機能</td>
		<td>特徴</td>
		<td>セキュリティレベル</td>
	</tr>
	<tr>
	  <td rowspan="2">ホットリンク防止</td>
	  <td>Refererホットリンク防止</td>
		<td>再生リクエストのHeaderにあるRefererフィールドでリクエストのソースを識別し、ブラックリストまたはホワイトリストでソースリクエストを制御します</td>
		<td>やや低</td>
	</tr>
	<tr>
	  <td>Keyホットリンク防止</td>
		<td>再生リンクに制御パラメータを追加し、Keyを使用して署名を行うと、リンクの有効時間、プレビュー時間、再生が許可されるIP数などを制御することができます</td>
		<td>中</td>
	</tr>
	<tr>
	  <td rowspan="2">ビデオの暗号化</td>
	  <td>HLS共通暗号化</td>
		<td>HLSが提供する<a href=https://tools.ietf.org/html/draft-pantos-http-live-streaming-23?spm=a2c4g.11186623.2.31.409c6a6aYf9Rn8>AES encryption </a>スキームに基づいて、キーを使用してビデオデータを暗号化します</td>
		<td>やや高</td>
	</tr>
	<tr>
	  <td>商用DRM（未リリース）</td>
		<td>Widevine、FairPlay、PlayReadyといった商用DRMスキームに基づくビデオの暗号化と復号</td>
		<td>高</td>
	</tr>
</table>

* [ホットリンク防止](https://intl.cloud.tencent.com/document/product/266/33984) は、主にビデオ再生リクエストのソースの合法性をコントロールするために使用されますが、ホットリンク防止はビデオコンテンツの暗号化は行いません。ユーザーはダウンロード後に2次配布することができ、著作権保護のセキュリティレベルは低めです。
* ビデオ暗号化は、キーを使用してコンテンツ自体を暗号化する手段であり、他人が取得してもそのまま再生することはできません。端末がビジネスバックエンドの認証にパスし、復号キーを取得した場合にのみ、端末で再生が行えるようになります。

VODのビデオ暗号化によって、HLS共通暗号化機能が提供されます。これはホットリンク防止よりも高いセキュリティレベルを備えています。

## 原理とアーキテクチャ

VODの暗号化および復号再生の全体的なアーキテクチャフローは次のとおりです。

1. <b>サーバーからのアップロード</b>：ビジネスバックエンドでは、コンソールやサーバーAPIといった形式により、ビデオをVODにアップロードします。
2. <b>ビデオ処理のトリガー</b>：ビデオをアップロードすると同時に、暗号化されたアダプティブビットレートストリーミングが指定されます。アップロード後、ビデオは暗号化プロセスが開始されます。
3. <b>キーの取得</b>：アダプティブビットレートストリーミングにトランスコードされ暗号化されます。VODは、KMSモジュールからビデオ暗号化中に使用されるキーを取得します。
4. <b>暗号化、ストレージへの書き込み</b>：ビデオがアダプティブビットレートストリーミングにトランスコードされて暗号化された後、出力ビデオコンテンツがVODのストレージに書き込まれます。
5. <b>メディア資産の更新</b>：暗号化されたビデオ情報は、メディア資産管理モジュールに書き込まれます。
6. <b>プレーヤー署名の取得</b>：ビジネス端末はVODのSuper Playerと統合され、プレーヤーはビジネスサーバーにプレーヤーの署名をリクエストします。
7. <b>ダウンロードアドレスのリクエスト</b>：Super Playerは、VOD再生サービスからビデオのダウンロードアドレスを取得します。
8. <b>コンテンツのダウンロード</b>：Super Playerは、ダウンロードアドレスを介してVOD CDNからコンテンツをダウンロードします。
9. <b>キーの取得</b>：Super Playerは、プレーヤーの署名付きの復号キーをリクエストします。
10. <b>復号と再生</b>：Super Playerは復号キーを使用して復号して再生します。

<img src="https://main.qcloudimg.com/raw/35a43c169f71ffd56142188784f2a915.png" width="700" />

## アクセスの参考

VODの暗号化機能にすばやくアクセスできるよう、例を挙げてアクセス手順を解説したビデオ暗号化[アクセスガイド]を提供しています。

## よくあるご質問

1. アップロードされたビデオを暗号化するには？
VODの[アダプティブビットレートストリーミングへのトランスコード](https://intl.cloud.tencent.com/document/product/266/33942)機能は、ビデオを複数の解像度にトランスコードして暗号化することができます。具体的な実践方法については、 [アクセスガイド](https://intl.cloud.tencent.com/document/product/266/38294)をご参照ください。
2. 暗号化されたビデオは端末でどのように再生されますか？
VODで暗号化されたビデオを再生するには、端末にSuper Player SDKを統合すると同時に、署名配布サービスも構築する必要があります。具体的な実践方法については、[アクセスガイド](https://intl.cloud.tencent.com/document/product/266/38294)をご参照ください。

