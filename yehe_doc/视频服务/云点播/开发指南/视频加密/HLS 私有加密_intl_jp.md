HLSプライベート暗号化は、VOD独自のビデオコンテンツ暗号化スキームであり、プライベートプロトコルを使用してコンテンツキーを保護します。これにより、多くのブラウザプラグインや灰色生成ツールのクラッキングを効果的に防ぐことができます。

## 原理とアーキテクチャ

HLSプライベート暗号化と復号化再生の全体的なアーキテクチャプロセスは次のとおりです：
<img src="https://qcloudimg.tencent-cloud.cn/raw/9b9c03936ca3730d33da09243728b1cf.png" width="700" />
1. <b>サーバーからのアップロード</b>：ビジネスバックグラウンドは、コンソールやサーバーAPIなどの形式により、ビデオをVODにアップロードします。
2. <b>メディアプロセッシングのトリガー</b>：ビデオをアップロードすると同時に、暗号化されたアダプティブストリームトランスコーディングが指定されます。アップロード後、ビデオは暗号化プロセスが開始されます。
3. <b>キーの取得</b>：アダプティブストリームがトランスコーディングされて暗号化されます。VODは、KMSモジュールからビデオ暗号化に使用されるキーを取得します。
4. <b>暗号化、ストレージへの書き込み</b>：ビデオがアダプティブストリームにトランスコーディングされて暗号化された後、出力したビデオコンテンツがVODのストレージに書き込まれます。
5. <b>メディア情報の更新</b>：暗号化されたビデオ情報は、メディア情報管理モジュールに書き込まれます。
6. <b>プレーヤー署名の取得</b>：サービス端末はVODのSuper Playerと統合され、プレーヤーはサービスサーバーにプレーヤーの署名をリクエストします。
7. <b>ダウンロードアドレスのリクエスト</b>：Super Playerは、VOD再生サービスからビデオのダウンロードアドレスを取得します。
8. <b>コンテンツのダウンロード</b>：Super Playerは、ダウンロードアドレスを介してVOD CDNから暗号化されたコンテンツをダウンロードします。
9. <b>キーの取得</b>：Super Playerは、プレイヤーの署名を持ってコンテンツキーをリクエストします。この場合、コンテンツキー自体はVODのプライベートプロトコルにより保護され、キーの盗難を防止します。
10. <b>復号化と再生</b>：Super Playerは、プライベートプロトコルを使用してコンテンツキーを取得し、復号化して再生します。



## アクセスの参考

VODの暗号化機能をすばやく統合できるように、ビデオ暗号化の[アクセスガイド](https://intl.cloud.tencent.com/document/product/266/38294)を提供し、統合手順について例示して説明します。

## よくあるご質問

1. アップロードされたビデオのHLSプライベート暗号化はどのように行われますか？
VODの[アダプティブストリームトランスコーディング](https://intl.cloud.tencent.com/document/product/266/33942)機能は、ビデオを複数の解像度にトランスコードして暗号化することができます。具体的な実行方法については、[アクセスガイド](https://intl.cloud.tencent.com/document/product/266/38294)をご参照ください。
2. 暗号化されたビデオは端末でどのように再生されますか？
VODで暗号化されたビデオを再生するには、端末にSuper Player SDKを統合すると同時に、署名ディスパッチサービスも構築してください。具体的な実行方法については、[アクセスガイド](https://intl.cloud.tencent.com/document/product/266/38294)をご参照ください。
