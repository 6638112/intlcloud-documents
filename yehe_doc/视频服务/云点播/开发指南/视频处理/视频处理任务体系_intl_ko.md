비디오 처리 작업이 시작된 후 작업이 실행을 완료하고 결과를 출력하는 데 몇 분에서 몇 시간이 걸립니다. 비디오 처리는 기본적으로 오프라인 작업입니다. VOD는 영상 처리 작업의 특성을 고려하여 작업을 동기적으로 시작하고 작업 실행 결과 알림을 비동기적으로 받을 수 있는 작업 시스템을 제공합니다.
![](https://main.qcloudimg.com/raw/8941db2138127cc702ead3f856b5b074.png)

- 작업 시작: 비디오 처리 작업이 제출된 후 VOD는 즉시 작업 ID를 사용자에게 반환하고 작업 실행을 시작할 때까지 잠시 기다립니다.
- 결과 알림: 작업이 완료되면 VOD에서 작업 ID와 실행 결과가 포함된 결과 알림을 보냅니다.
- 작업 쿼리: 작업을 제출한 후 언제든지 작업 ID로 작업의 실행 상태 및 결과를 쿼리할 수 있습니다.

## 매개변수 템플릿

비디오 처리 매개변수는 일반적으로 매우 복잡합니다. 예를 들어, 비디오 트랜스코딩에는 컨테이너 형식, 코덱, 비트레이트, 해상도 및 프레임 속도와 같은 수십 가지 매개변수가 포함됩니다. 비디오 처리 작업의 매개변수를 단순화하기 위해 VOD는 템플릿 ID로 식별되는 다양한 통합 매개변수 템플릿(예: [트랜스코딩 템플릿](https://intl.cloud.tencent.com/document/product/266/33938))을 제공합니다.
- 사전 설정 매개변수 템플릿: 일반적인 비디오 처리 매개변수 세트와 마찬가지로 VOD는 사전 설정 매개변수 템플릿 배치를 제공합니다. 자세한 내용은 [사전 설정 매개변수 템플릿 목록](https://intl.cloud.tencent.com/document/product/266/33932)을 참고하십시오.
- 사용자 정의 매개변수 템플릿: VOD는 콘솔 또는 서버 API를 통한 매개변수 템플릿 사용자 정의를 지원합니다.

## 태스크 플로우
VOD에서 다음 비디오 처리 작업은 독립적인 작업입니다.
- MP4 LD 비디오로 트랜스코딩
- MP4 SD 비디오로 트랜스코딩
- 10초 간격으로 샘플링된 화면 캡처
- 스마트 인식
- 스마트 분류

여러 개의 독립적인 작업이 동시에 실행되는 경우 작업 ID가 여러 개이며 여러 작업 결과 알림을 수신하고 처리해야 합니다. VOD는 여러 작업의 시작 및 알림을 간단하게 하기 위해 태스크 플로우 방식을 제공합니다. 태스크 플로우는 기본적으로 여러 서브 작업으로 구성된 ‘주 작업’입니다. 태스크 플로우를 시작하는 것은 모든 서브 작업을 시작하는 것과 같습니다.
![](https://main.qcloudimg.com/raw/eb772f0b31003f3c3325312e3c1584a5.png)
그림과 같이 태스크 플로우는 3개의 서브 작업을 포함하며 마지막 서브 작업(서브 작업 3)이 완료되면 종료됩니다. 태스크 플로우 결과 알림은 태스크 플로우가 종료될 때와 각 서브 작업이 완료될 때 트리거되어 모든 서브 작업의 실행 결과를 실시간으로 인지할 수 있습니다.

VOD의 비디오 처리 업무는 대부분 태스크 플로우의 형태로 수행되는데, 이는 일종의 ‘태스크’라고 할 수 있습니다. VOD는 [태스크 플로우 템플릿 생성](https://intl.cloud.tencent.com/document/product/266/14058) 및 이름 설정을 지원합니다. 태스크 플로우를 시작할 때 태스크 플로우 템플릿 이름을 사용하여 원하는 작업을 표시할 수 있습니다.

<span id="OriginatingTask"></span>

## 작업 시작

비디오 처리 작업을 시작하는 방법에는 ‘서버 API로 시작’, ‘콘솔로 시작’, ‘업로드 시 실행할 작업 지정’의 세 가지가 있습니다.

#### 서버 API로 시작

서버 API를 통해 VOD의 동영상에 대한 작업을 직접 시작하거나 편집하고 생성된 새 동영상에 대해 실행할 작업을 지정할 수 있습니다.
- [비디오 처리](https://intl.cloud.tencent.com/document/product/266/34125)
- [URL로 미디어 처리](https://intl.cloud.tencent.com/document/product/266/34123)
- [비디오 편집](https://intl.cloud.tencent.com/document/product/266/34126)

#### 콘솔로 시작

콘솔을 통해 VOD의 비디오 작업을 시작할 수 있습니다. 자세한 내용은 [비디오 처리](https://intl.cloud.tencent.com/document/product/266/33892)를 참고하십시오.

#### 업로드 시 실행할 작업 지정

VOD는 클라이언트 업로드, 서버 업로드, 콘솔 업로드의 세 가지 방법으로 동영상을 업로드할 수 있습니다. 모두 업로드 시 실행할 작업 지정을 지원합니다.

- 클라이언트 업로드: [클라이언트 업로드 서명](https://intl.cloud.tencent.com/document/product/266/33922)의 `procedure` 매개변수를 통해 업로드 시 실행할 작업을 지정할 수 있습니다.
- 서버 업로드: [업로드 신청](https://intl.cloud.tencent.com/document/product/266/34120) API의 `procedure` 매개변수를 통해 업로드 시 실행할 작업을 지정할 수 있습니다.
- 콘솔 업로드: 콘솔을 통해 동영상을 업로드하고 [업로드 중 비디오 처리]를 선택하고 업로드 시 실행할 작업을 지정할 수 있습니다. 자세한 내용은 [비디오 업로드](https://intl.cloud.tencent.com/document/product/266/33890)를 참고하십시오.

<span id="ResultNotification"></span>

## 결과 알림

비디오 처리 작업을 시작한 후 ‘결과 알림’을 통해 작업 수행 결과를 비동기적으로 인식해야 합니다.
비디오 처리 결과 알림에는 주로 다음 유형이 포함됩니다.

- [태스크 플로우 상태 변경](https://intl.cloud.tencent.com/document/product/266/33953)
- [비디오 편집 완료](https://intl.cloud.tencent.com/document/product/266/33954)

비디오 처리 결과 알림은 VOD에서 일종의 ‘이벤트 알림’으로, ‘HTTP 일반 콜백’과 ‘신뢰할 수 있는 콜백’ 두 가지 모드로 수신할 수 있습니다. 자세한 내용은 [이벤트 알림](https://intl.cloud.tencent.com/document/product/266/33948)을 참고하십시오.



<span id="TaskQuery"></span>
## 작업 쿼리

결과 알림을 통해 작업 실행 결과를 인지하는 것 외에도, 작업 쿼리라고 하는 예약된 작업 ID별로 작업 실행 상태를 폴링할 수 있습니다. 현재 VOD는 작업 실행 상태 및 실행 결과를 조회하기 위한 [DescribeTasks](https://intl.cloud.tencent.com/document/product/266/37559) 및 [DescribeTaskDetail](https://intl.cloud.tencent.com/document/product/266/34129) 서버 API만 제공됩니다.
