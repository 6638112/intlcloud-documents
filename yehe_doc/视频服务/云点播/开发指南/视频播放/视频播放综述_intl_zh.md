云点播支持多种方式，播放上传及转码后的视频。其中，播放主要分为以下三类场景：

| 播放场景 | 特点 | 推荐播放方式 |
| -- | -- | -- |
| 短视频播放 | 通常指视频时长5分钟以内的视频 | 基础播放器 |
| 长视频播放 | 由专业机构制作，并通过视频网站发布的视频 | 超级播放器 |
| 视频加密播放 | 长视频场景下的一个细分场景，对版权视频有加密需求 | 超级播放器 |

下文将分别详细介绍三类场景的特点以及推荐的播放方式。

## 短视频播放

短视频，通常指视频时长5分钟以内的视频。主要有：

* 短视频社交平台（微视、快手、抖音）中分享的视频。
* 电商购物平台（京东、拼多多）中的商品宣传视频。
* 微信公众号、自媒体中分享的短片。

<img src="https://main.qcloudimg.com/raw/36d901de64420df8e7d49bae570eaeb3.png" width="800" />

### 播放架构
针对短视频播放场景，点播提供了**基础播放器 SDK**，使用 URL 作为参数，播放点播中的视频。

<img src="https://main.qcloudimg.com/raw/a9d4a24cefcdb3ccba1b316ea6be9ee0.png" width="700" />

使用基础播放器 SDK 播放的整体架构流程如下：
1. **服务端上传**：业务后台通过控制台、服务端 API 等方式，将视频上传到云点播。
2. **触发视频处理**：上传视频的同时，可以指定转码。上传后，视频开始转码过程。
3. **转码并写入存储**：视频转码后，输出的视频内容被写入到点播的存储中。
4. **下载内容**：基础播放器通过下载地址，从点播 CDN 下载内容。
5. **播放**：基础播放器开始播放。

### 集成基础播放器
基础播放器 SDK 支持的功能，请参见 [能力清单](#p1)。集成方式请参见 [下载与使用](#p2) 部分。

## 长视频播放

长视频通常是由专业机构制作，并通过视频网站发布的视频。主要有：

* 视频媒体平台（腾讯视频、优酷、爱奇艺）发布的独播剧、综艺节目。
* 在线教育网站（腾讯课堂、企鹅辅导）的课程视频。
* 网络电视平台（CNTV、芒果 TV）的电视节目回看视频。

<img src="https://main.qcloudimg.com/raw/261acb48f5d44c8170d34e60bb3947c2.png" width="800" />
<img src="https://main.qcloudimg.com/raw/382d1cece21cb857c71164e905ca02d8.png" width="800" />

### 播放架构

针对长视频播放场景，点播提供了**超级播放器 SDK**，使用 FileId 作为参数，播放点播中的视频。

<img src="https://main.qcloudimg.com/raw/f6b52d9429111812b0ee0e78654f2e34.png" width="700" />

使用超级播放器 SDK 播放的整体架构流程如下：
1. **服务端上传**：业务后台通过控制台、服务端 API 等方式，将视频上传到云点播。
2. **触发视频处理**：上传视频的同时，指定转自适应码流。上传后，视频开始视频处理。
3. **转自适应码流并写入存储**：视频转自适应码流后，输出的视频内容被写入到点播的存储中。
4. **更新媒资**：转自适应码流的视频信息，被写入到媒资管理模块。
5. **请求下载地址**：超级播放器指定要播放的视频 FileId 后，会从点播的播放服务获取视频的下载地址。
6. **下载内容**：超级播放器通过下载地址，从点播 CDN 下载内容。
7. **播放**：超级播放器开始播放自适应码流输出。

如果您要播放的视频开启了 [Key 防盗链](https://intl.cloud.tencent.com/document/product/266/33986)，则播放时需要指定 [超级播放器签名](https://intl.cloud.tencent.com/document/product/266/38099)。此时的架构流程如下：

1. 业务后台需要搭建“签名派发”服务，根据 [播放器签名计算规则](https://intl.cloud.tencent.com/document/product/266/38099#.E7.AD.BE.E5.90.8D.E8.AE.A1.E7.AE.97) 生成签名。
2. 超级播放器在播放视频前，需要获取播放器签名（如下图步骤5）。
3. 超级播放器在请求下载地址时（如下图步骤6），播放服务需要校验签名合法后，才返回下载地址。

<img src="https://main.qcloudimg.com/raw/e5ae52f1b5f15f289b6f54aa28917da4.png" width="700" />

### 集成超级播放器

超级播放器 SDK 支持的功能，请参见 [能力清单](#p1)。集成方式请参见 [下载与使用](#p2) 部分。
为了帮助您快速接入点播的超级播放器，我们为您提供了超级播放器 [接入指引](https://intl.cloud.tencent.com/document/product/266/38098)，以示例的方式为您讲解接入步骤。

## 视频加密播放
视频加密属于长视频场景下的一个细分场景。是视频平台自有的独播剧、网络课程等具有版权的视频，采取加密防止视频被非法下载和传播的措施。
云点播分别在 [视频加密综述](https://intl.cloud.tencent.com/document/product/266/38131) 和 [视频加密接入指引](https://intl.cloud.tencent.com/document/product/266/38294) 中详细介绍了视频加密的原理和接入方式。

## 播放器 SDK
### 下载与使用[](id:p2)

| 播放器类型 | SDK 下载地址 | 使用文档 |
| -- | -- | -- |
| 超级播放器 | <ul style="margin:0;"><li>[Android](https://intl.cloud.tencent.com/document/product/266/33975)</li><li>[iOS](https://intl.cloud.tencent.com/document/product/266/33976)</li><li>[Web](https://intl.cloud.tencent.com/document/product/266/33977)</li> <li>[Flutter](https://intl.cloud.tencent.com/document/product/266/42099)</li>| <ul style="margin:0;"><li>[Android](https://intl.cloud.tencent.com/document/product/266/33975)</li><li>[iOS](https://intl.cloud.tencent.com/document/product/266/33976)</li><li>[Web](https://intl.cloud.tencent.com/document/product/266/33977)</li><li>[Flutter](https://intl.cloud.tencent.com/document/product/266/42099)</li> |


### 内容清单[](id:p1)

| 功能点                 | 功能说明                                                     | iOS & Android | Web  | Flutter |
| ---------------------- | ------------------------------------------------------------ | ------------- | ---- | ------- |
| 多种格式               | 支持 RTMP、FLV、HLS、MP4、WebRTC 等丰富的音视频格式          | ✓             | ✓    | ✓       |
| URL 播放               | 支持网络视频的 URL 方式播放                                  | ✓             | ✓    | ✓       |
| DASH 协议              | 支持标准协议的 DASH 格式视频                                 | ×             | ✓    | ✓       |
| FileID 播放            | 支持使用云点播的 FileID 方式播放                             | ✓             | ✓    | ✓       |
| 首屏秒开预加载         | 支持视频内容预加载，视频首屏可达到秒开                       | ✓             | ✓    | ×       |
| 快速 seek              | 支持精准快速的 seek 到指定位置播放                           | ✓             | ✓    | ✓       |
| H.265 硬解             | 支持对 H.265 硬解码播放                                      | ✓             | ✓    | ✓       |
| 软硬解自动切换         | 当终端不支持硬件解码时自动切换到软解                         | ✓             | -    | ✓       |
| 自适应码流             | 播放 HLS 自适应码流时，支持手动指定或根据网络带宽自动选择清晰度流进行播放 | ✓             | ✓    | ×       |
| 清晰度切换             | 支持用户流畅无卡顿的切换多路清晰度流                         | ✓             | ✓    | ✓       |
| 清晰度命名             | 支持为不同清晰度流进行自定义命名                             | ✓             | ✓    | ×       |
| 播放控制               | 支持开始、结束、暂停、自动播放、循环播放、断点续播、重播等播放控制功能 | ✓             | ✓    | ✓       |
| 倍速播放               | 支持0.5倍 - 2倍的视频变速播放，可保证音频变速不变调          | ✓             | ✓    | ✓       |
| 自定义启播时间         | 支持自定义视频开启播放的时间                                 | ✓             | ✓    | ✓       |
| 试看功能               | 支持播放开启试看功能的视频                                   | ✓             | ✓    | ✓       |
| 进度条操作             | 拖拽进度条切换进度                                           | ✓             | ✓    | ✓       |
| 进度条标记及缩略图预览 | 支持在进度条上添加标记信息，并支持缩略图（雪碧图）预览       | ✓             | ✓    | ✓       |
| 播放器尺寸             | 支持自定义设置播放器尺寸                                     | ✓             | ✓    | ✓       |
| 屏幕填充适应           | 支持为视频画面选择不同填充模式，适应屏幕大小                 | ✓             | ✓    | ✓       |
| 小窗播放               | 支持切换到小窗播放                                           | ✓             | ✓    | ✓       |
| 视频镜像               | 支持水平、垂直等方向的镜像                                   | ✓             | ✓    | ✓       |
| 视频旋转               | 支持对视频画面按角度旋转，同时支持根据视频文件内部rotate参数自动旋转视频 | ✓             | -    | ×       |
| 亮度调节               | 支持播放视频时调节系统亮度                                   | ✓             | -    | ✓       |
| 音量调节               | 支持播放视频时调节系统音量和静音操作                         | ✓             | ✓    | ✓       |
| 双声道音频             | 支持播放双声道音频                                           | ✓             | ✓    | ✓       |
| 锁定屏幕               | 支持锁屏功能，包含锁定旋转和隐藏界面元素                     | ✓             | -    | ✓       |
| 弹幕                   | 支持在视频上方展示弹幕                                       | ✓             | ✓    | ✓       |
| 图片贴片               | 支持暂停时，增加图片贴片用于广告展示                         | ✓             | ✓    | ✓       |
| 视频截图               | 支持截取播放画面的任意一帧                                   | ✓             | -    | ✓       |
| 字幕导入               | 支持导入自定义字幕文件                                       | ✓             | ✓    | ✓       |
| 设置封面               | 支持设置播放视频的封面                                       | ✓             | ✓    | ✓       |
| 多实例                 | 支持在一个界面添加多个播放器同时播放                         | ✓             | ✓    | ✓       |
| 边下边播               | 支持视频播放的同时缓存下载后面的内容                         | ✓             | ✓    | ✓       |
| Referer 防盗链         | 支持通过播放请求中携带的 Referer 字段识别请求的来源，以黑名单或白名单方式对来源请求进行控制 | ✓             | ✓    | ✓       |
| Key 防盗链             | 支持在播放链接中加入控制参数，控制链接的有效时间、试看时长、允许播放的 IP 数等 | ✓             | ✓    | ✓       |
| HLS 加密               | 支持基于 HLS 提供的 AES encryption 方案，使用密钥对视频数据加密。 | ✓             | ✓    | ✓       |
| 私有协议加密           | 支持在云端通过私有协议对视频进行加密，且仅能通过播放器SDK对加密后的视频进行解密播放。 | ✓             | ✓    | ×       |
| 离线下载               | 支持离线下载加密视频后，仅可通过播放器SDK对视频进行解密播放。 | ✓             | -    | ×       |
| 播放回调               | 支持对播放状态回调、首帧回调、播放完成或失败回调             | ✓             | ✓    | ✓       |
| 支持 HTTPS             | 支持播放 HTTPS 的视频资源                                    | ✓             | ✓    | ✓       |
| 自定义 HTTP 头部       | 请求视频资源时，自定义 HTTP Headers 内容                     | ✓             | -    | ×       |
  
  >? 表中“-”表示该端无需具备相应功能或不存在相关概念。
