VODは、アップロードおよびトランスコードされたビデオを再生するための複数の形式をサポートしています。再生は主に次の3つのシーンに区分されます。

| 再生シーン | 特徴 | 推奨する再生方法 |
| -- | -- | -- |
| 短編ビデオの再生 | 通常は視聴時間が5分以内のビデオ | 基本的なプレーヤー |
| 長編ビデオの再生 | 専門機関が制作し、ビデオWebサイトを介して公開されるビデオ | Super Player |
|暗号化されたビデオの再生 | 著作権保護のために暗号化を必要とする長編ビデオシーンのセグメント化されたシーン  | Super Player |

3種類のシーンの特徴と推奨する再生方法について以下に詳しく紹介します。

## 短編ビデオの再生

短編ビデオとは、通常は次のような視聴時間が5分以内のビデオです。

* UGSVソーシャルプラットフォーム（微視（WeSee）、快手（Kuaishou）、抖音 （Douyin））で共有されるビデオ。
* eコマースショッピングプラットフォーム（京東（JD.com）、拼多多 （Pinduoduo））の商品PRビデオ。
* WeChat公式アカウント、メディア で共有されるショートムービー。

<img src="https://main.qcloudimg.com/raw/36d901de64420df8e7d49bae570eaeb3.png" width="800" />

### 再生アーキテクチャ
短編ビデオの再生シーンでは、VODでは**基本的なプレーヤーSDK**を提供し、URLをパラメータとして、VODのビデオを再生します。

<img src="https://main.qcloudimg.com/raw/a9d4a24cefcdb3ccba1b316ea6be9ee0.png" width="700" />

基本的なプレーヤーSDKを使用して再生する全体的なアーキテクチャフローは次のとおりです。
1. **サーバーからのアップロード**：ビジネスバックエンドでは、コンソールやサーバーAPIといった形式により、ビデオをVODにアップロードします。
2. **ビデオ処理の有効化**：ビデオをアップロードするときに、トランスコードを指定できます。アップロード後、ビデオのトランスコード処理が開始されます。
3. **トランスコードとストレージへの書き込み**：ビデオがトランスコードされた後、出力されたビデオコンテンツはVODのストレージに書き込まれます。
4. **コンテンツのダウンロード**：基本的なプレーヤーは、ダウンロードアドレスを介してVOD CDNからコンテンツをダウンロードします。
5. **再生**：基本的なプレーヤーが再生を開始します。

### 基本的なプレーヤーの統合
基本的なプレーヤーSDKがサポートする機能については、 [機能リスト](#p1) をご参照ください。統合方法については、 [ダウンロードと使用](#p2) の部分をご参照ください。

## 長編ビデオの再生

長編ビデオは、通常、次のような専門機関によって制作され、ビデオWebサイトを介して公開されるビデオのことです。

* ビデオメディアプラットフォーム（Tencent Video、優酷（Youku）、愛奇芸（iQIYI））で公開される独占放送のドラマ、バラエティ番組。
* eラーニングWebサイト（Tencent Class、Penguin Tutoring ）の学習ビデオ。
* ネットワークTVプラットフォーム（CNTV、Mango TV）のテレビ番組ビデオの再生。 

<img src="https://main.qcloudimg.com/raw/261acb48f5d44c8170d34e60bb3947c2.png" width="800" />
<img src="https://main.qcloudimg.com/raw/382d1cece21cb857c71164e905ca02d8.png" width="800" />

### 再生アーキテクチャ

長編ビデオの再生シーンでは、VODは**Super Player SDK**を提供し、FileIdをパラメータとして、VODのビデオを再生します。

<img src="https://main.qcloudimg.com/raw/f6b52d9429111812b0ee0e78654f2e34.png" width="700" />

Super Player SDKを使用して再生する全体的なアーキテクチャフローは次のとおりです。
1. **サーバーからのアップロード**：ビジネスバックエンドでは、コンソールやサーバーAPIといった形式により、ビデオをVODにアップロードします。
2. **ビデオ処理のトリガー**：ビデオをアップロードすると同時に、アダプティブビットレートストリーミングが指定されます。アップロード後、ビデオ処理が開始されます。
3. **アダプティブビットレートストリーミングとストレージへの書き込み**：ビデオがアダプティブビットレートストリーミングに変換された後、出力されたビデオコンテンツはVODのストレージに書き込まれます。
4. **メディア資産の更新**：アダプティブビットレートストリーミングに変換されたビデオ情報は、メディア資産管理モジュールに書き込まれます。
5. **ダウンロードアドレスのリクエスト**：Super Playerは、再生するビデオの FileIdを指定した後、VODの再生サービスからビデオのダウンロードアドレスを取得します。
6. **コンテンツのダウンロード**：Super Playerは、ダウンロードアドレスを介してVOD CDNからコンテンツをダウンロードします。
7. **再生**：Super Playerは、出力されたアダプティブビットレートストリーミングの再生を開始します。

再生するビデオの [Keyリンク不正アクセス防止](https://intl.cloud.tencent.com/document/product/266/33986)が有効になっている場合は、再生時に [Super Player署名](https://intl.cloud.tencent.com/document/product/266/38099)を指定する必要があります。この時のアーキテクチャフローは次のとおりです。

1. ビジネスバックエンドに「署名配付」サービスを構築し、署名は [プレーヤー署名計算ルール](https://intl.cloud.tencent.com/document/product/266/38099#.E7.AD.BE.E5.90.8D.E8.AE.A1.E7.AE.97) に基づいて生成される必要があります。
2. Super Playerは、ビデオ再生前にプレーヤー署名を取得する必要があります（下図手順5をご参照ください）。
3. Super Playerがダウンロード アドレスをリクエストする時（下図手順6）、再生サービスはアドレスを返す前に署名が有効であることを確認する必要があります。

<img src="https://main.qcloudimg.com/raw/e5ae52f1b5f15f289b6f54aa28917da4.png" width="700" />

### Super Playerの統合

Super Player SDKがサポートする機能については、 [機能リスト](#p1) をご参照ください。統合方法については、 [ダウンロードと使用](#p2) の部分をご参照ください。
VODのSuper Playerをすばやく統合できるように、Super Playerの[アクセスガイド]( https://intl.cloud.tencent.com/document/product/266/38098) を提供し、統合手順について例示して説明しています。 

## 暗号化されたビデオの再生
ビデオの暗号化は、長編ビデオのシーンでは特定のシーンに該当します。ビデオプラットフォームの独占ドラマ、オンライン学習などの著作権で保護されたビデオに対し、ビデオが違法にダウンロードや配布されるのを防止するために暗号化を採用しています。
VODは [ビデオ暗号化の概要](https://intl.cloud.tencent.com/document/product/266/38131) と [ビデオ暗号化の統合ガイド](https://intl.cloud.tencent.com/document/product/266/38294) でそれぞれビデオ暗号化の原理と統合方法について説明しています。

## Player+
### ダウンロードと使用[](id:p2)

| プレーヤーのタイプ| SDKダウンロードアドレス | 使用するドキュメント |
| -- | -- | -- |
| Super Player | <ul style="margin:0;"><li>[Android](https://intl.cloud.tencent.com/document/product/266/33975)</li><li>[iOS](https://intl.cloud.tencent.com/document/product/266/33976)</li><li>[Web](https://intl.cloud.tencent.com/document/product/266/33977)</li> <li>[Flutter](https://intl.cloud.tencent.com/document/product/266/42099)</li>| <ul style="margin:0;"><li>[Android](https://intl.cloud.tencent.com/document/product/266/33975)</li><li>[iOS](https://intl.cloud.tencent.com/document/product/266/33976)</li><li>[Web](https://intl.cloud.tencent.com/document/product/266/33977)</li><li>[Flutter](https://intl.cloud.tencent.com/document/product/266/42099)</li> |


### コンテンツリスト[](id:p1)

| 機能ポイント                 | 機能説明                                                     | iOS & Android | Web  | Flutter |
| ---------------------- | ------------------------------------------------------------ | ------------- | ---- | ------- |
| 複数の形式               | RTMP、FLV、HLS、MP4、WebRTCなど豊富なオーディオビデオ形式をサポート          | ✓             | ✓    | ✓       |
| URL再生               | ネットワークビデオのURL方式による再生をサポート                                  | ✓             | ✓    | ✓       |
| DASHプロトコル              | 標準プロトコルのDASH形式のビデオをサポート                                 | ×             | ✓    | ✓       |
| FileID再生            | VODのFileID方式による再生をサポート                             | ✓             | ✓    | ✓       |
| 最初の画面の秒速開始のプリロード        | ビデオコンテンツのプリロードをサポートし、最初の画面が秒速開始                       | ✓             | ✓    | ×       |
| 高速seek              | 指定位置への正確かつ高速なseek再生をサポート                           | ✓             | ✓    | ✓       |
| H.265ハードウェアデコード | H.265ハードウェアデコードと再生をサポート                                      | ✓             | ✓    | ✓       |
| ソフトウェアとハードウェアデコード自動切り替え         | 端末がハードウェアデコードをサポートしていない場合、自動的にソフトウェアデコードに切り替えます                         | ✓             | -    | ✓       |
| アダプティブビットレートストリーミング             | HLSアダプティブビットストリームを再生する場合、手動による指定またはネットワーク帯域幅に応じた解像度ストリームの自動選択をサポートします | ✓             | ✓    | ×       |
| 解像度の切り替え             | ユーザーによる複数の解像度ストリームのスムーズかつラグのない切り替えをサポート                         | ✓             | ✓    | ✓       |
| 解像度の命名             | さまざまな解像度ストリームのカスタム命名をサポート                             | ✓             | ✓    | ×       |
| 再生制御               | 開始・終了・一時停止・自動再生・ループ再生・ブレークポイント再生・リプレイなどの再生制御機能をサポート | ✓             | ✓    | ✓       |
| 倍速再生               | 0.5倍～2倍のビデオ可変速度再生をサポートして、オーディオ可変速度が変化しないようにできます          | ✓             | ✓    | ✓       |
| カスタム再生開始時間         | カスタムビデオ再生開始時間をサポート                                 | ✓             | ✓    | ✓       |
| プレビュー機能               | プレビュー機能を有効にしたビデオ再生をサポート                                   | ✓             | ✓    | ✓       |
| プログレスバー操作             | プログレスバーをドラッグして進捗状況を切り替えます                                           | ✓             | ✓    | ✓       |
| プログレスバーマークとサムネイルプレビュー | プログレスバーへのマーク情報の追加とサムネイル（スプライトイメージ）プレビューをサポート       | ✓             | ✓    | ✓       |
| プレーヤーサイズ             | プレーヤーサイズのカスタム設定をサポート                                     | ✓             | ✓    | ✓       |
| スクリーン塗りつぶしの適応 | 画面サイズに合わせてビデオ画面の各種塗りつぶしモードの選択をサポート                 | ✓             | ✓    | ✓       |
| スモールウィンドウ再生               | スモールウィンドウ再生への切り替えをサポート                                           | ✓             | ✓    | ✓       |
| ビデオミラーリング               | 水平、垂直方向などのミラーリングをサポート                                   | ✓             | ✓    | ✓       |
| ビデオ回転               | 角度に応じたビデオ画面の回転をサポートするとともに、ビデオファイルの内部rotateパラメータに基づいたビデオの自動回転をサポート | ✓             | -    | ×       |
| 明るさ調節               | ビデオ再生時のシステムの明るさ調節をサポート                                   | ✓             | -    | ✓       |
| 音量調節               | ビデオ再生時のシステムの音量とミュート操作の調節をサポート                        | ✓             | ✓    | ✓       |
| ダブルサウンドチャンネル             | ダブルサウンドチャンネルオーディオの再生をサポート                                           | ✓             | ✓    | ✓       |
| 画面のロック               | ロックの回転やインターフェース要素の非表示など、画面のロック機能をサポート                     | ✓             | -    | ✓       |
| 弾幕                   | ビデオ上方での弾幕表示をサポート                                       | ✓             | ✓    | ✓       |
| ピクチャロール画像               | 一時停止した際の広告表示用のピクチャロール画像の追加をサポート                         | ✓             | ✓    | ✓       |
| ビデオスクリーンキャプチャ               | 再生画面の任意のフレームのキャプチャをサポート                                   | ✓             | -    | ✓       |
| 字幕のインポート               | カスタム字幕ファイルのインポートをサポート                                       | ✓             | ✓    | ✓       |
| カバーの設定               | ビデオ再生時のカバーの設定をサポート                                       | ✓             | ✓    | ✓       |
| マルチインスタンス                 | 1つのインターフェースに複数のプレーヤーを追加した同時再生をサポート             | ✓             | ✓    | ✓       |
| ダウンロードしながらの同時再生               | ビデオを再生しながらそれ以降のコンテンツの同時キャッシュ・ダウンロードをサポート                         | ✓             | ✓    | ✓       |
| Refererホットリンク防止         | 再生リクエストに含まれるRefererフィールドを介してリクエストのソースを識別し、ブラックリストまたはホワイトリストによるソースリクエストの制御をサポート | ✓             | ✓    | ✓       |
| Keyホットリンク防止             | 再生リンクへの制御パラメータの追加、リンクの有効時間、プレビュー時間、再生が許可されるIP数などの制御をサポート | ✓             | ✓    | ✓       |
| HLS暗号化               | HLSに基づいて提供されるAES encryptionスキームをサポートし、キーペアを使用してビデオデータを暗号化します。 | ✓             | ✓    | ✓       |
| プライベートプロトコルの暗号化           | クラウドのプライベートプロトコルを介したビデオの暗号化をサポートします。暗号化されたビデオは、プレーヤーSDKを介してのみ復号と再生ができます。 | ✓             | ✓    | ×       |
| オフラインダウンロード               | 暗号化されたビデオのオフラインダウンロードをサポートした後は、ビデオはプレーヤーSDKを介してのみ復号と再生ができます。 | ✓             | -    | ×       |
| 再生コールバック               | 再生ステータスコールバック、最初のフレームコールバック、再生完了または失敗コールバックをサポート             | ✓             | ✓    | ✓       |
| HTTPSをサポート | HTTPSビデオリソースの再生をサポート                                    | ✓             | ✓    | ✓       |
| HTTPヘッダーのカスタマイズ | ビデオリソースをリクエストする際、HTTP Headersコンテンツをカスタマイズ                     | ✓             | -    | ×       |
  
  >? 表の「-」は、端末が対応する機能を備える必要がないか、関連する概念がないことを意味します。
