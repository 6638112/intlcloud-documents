## 現象の説明[](id:FaultPhenomenon1)
**現象**：Web Super Playerアクセスエラー「Error Code：4」。下図のとおりです。
![](https://main.qcloudimg.com/raw/002f3e422a7fc06170496e3a0ca1c2b0.png)

## 考えられる原因

- [ビデオリソースを取得できません](#video)
- [ビデオフォーマットはサポートされていません](#format)
- [現在の再生環境はサポートされていません](#enviroment)
- [Js順序のロードに失敗しました](#js)

## 処理手順

### ビデオリソースを取得できません[](id:video)
1. 対応するビデオリソースが削除されているかどうか、ローカルネットワーク環境が良好かどうかチェックする必要があります。ffplay、VLCといった他のプレーヤーを使用して対応するビデオを再生し、ビデオリソースとネットワーク環境が正常かどうか判断することができます。
 - 「はい」の場合、[手順2](#A_step2)を実行してください。
 - 「いいえ」の場合、ビデオリソースを復元し、ネットワーク環境を修復してください。それでも正常に再生できない場合は、[手順2](#A_step2)を実行してください。
2. [](id:A_step2)対応するappidがKeyホットリンク防止などの設定をアクティブ化しているかどうかチェックします。そのため、再生プロセスで対応するフィールドを置き換えて、再生情報を取得する必要があります。下図に、psignの付いた再生事例を示します。
![](https://main.qcloudimg.com/raw/7f3c3086664c8ecd5f0ddb74d8907399.png)
>?Super Playerは、ページコードのappidとfileidに基づいて、VODバックエンドにリクエストを送信します。バックエンドはappidとfileidに応じて対応するビデオ情報を返し、プレーヤーはビデオ情報を受信した後、ビデオをリクエストします。

### ビデオフォーマットはサポートされていません[](id:format)
1. プレーヤーは、ブラウザ独自のデコード機能に依存してビデオを解析し、再生します。アップロードされたビデオがトランスコードされていない場合、またはビデオ自体のファイルエンコード情報が現在の再生環境と互換性がない場合、再生異常が発生します。
 - 「はい」の場合、ビデオのトランスコード操作を実行します。[ビデオのトランスコード方法](https://intl.cloud.tencent.com/document/product/266/33938)をご参照ください。
 「いいえ」の場合、[手順2](#B_step2)を実行してください。
2. [](id:B_step2)Demoと比較して、正常に再生されているかどうか確認します。[Demo体験の使用](https://intl.cloud.tencent.com/document/product/266/38098)をご参照ください。
![](https://main.qcloudimg.com/raw/0f7c57a5ac2c59e8991e9e9706a664f1.png)

### 現在の再生環境はサポートされていません[](id:enviroment)
シミュレーション環境で再生テストを行うことができます。PC端末のChromeブラウザは、MSEによりカプセル化形式の変換を行ってm3u8形式を再生しており、またiOSはm3u8を直接再生する機能を備えているため、PC端末でiOSの環境をシミュレーションします。プレーヤーの取得環境がiOSの場合、他のPC端末でのようにMSEを呼び出してm3u8を再生するのではなく、m3u8を直接再生します。

ただし、シミュレーションされた環境は実際のiOSではなく、m3u8を直接再生する機能がないため、シミュレーションされたiOS環境を使用して対応するビデオを再生すると、ここでエラーが発生する可能性があります。下図にChromeのシミュレーションを示します。
![](https://main.qcloudimg.com/raw/34b5386618c9984af39ad1449a653c77.png)

### Js順序のロードに失敗しました[](id:js)
tcplayer.jsの前にhls.jsが導入されているかどうかチェックします。tcplayer.jsの前にhls.jsが確実に引用されている必要があります。tcplayer.jsがプレーヤーをロードして初期化した後、hls.jsを介してhlsビデオを再生する必要があります。

tcplayer.jsの後にhls.jsが導入され、プレーヤーの初期化に成功し、hls.jsが呼び出されてビデオプレーヤーを再生した場合、hls.jsのロードが成功せず、再生に失敗する可能性があります。このように、ユーザーの再生の失敗は、Jsの順序が適切に調整されていないことによるものです。
>?場合によっては、jsを動的ロードすることでhls.jsがtcplayer.jsの前にあったとしても、動的ロードによって対応する順序でロードされることを保証するものではありません。hls.jsはtcplayer.jsの後にロードされる場合もあり、エラーcode4が報告されることもあります。
>
**エラーの例**：
![](https://main.qcloudimg.com/raw/121531f464d1498ce2286125ac67e3ad.png)

**正しい例**：
![](https://main.qcloudimg.com/raw/792463eff0787fb119b442b55c7848d8.png)

上記の方法でSuper Playerから報告されたError Code：4の問題を解決していない場合は、[チケットを提出](https://console.cloud.tencent.com/workorder/category)してフィードバックすることができます。
