## Overview

This document describes how to encrypt a video and use the player to play back the encrypted video.

Before reading this document, make sure that you have read [Stage 1. Play back a video with Player](https://intl.cloud.tencent.com/document/product/266/38098) and [Stage 2. Play back a video with hotlink protection enabled](https://intl.cloud.tencent.com/document/product/266/38292) in the Player Guide. This document uses the account activated and the video uploaded in [stage 1](https://intl.cloud.tencent.com/document/product/266/38098), and hotlink protection needs to be enabled as instructed in [stage 2](https://intl.cloud.tencent.com/document/product/266/38292).

[](id:step1)
## Step 1. Encrypt a video
1. In the VOD console, select **Media Assets** > **[Video Management](https://console.cloud.tencent.com/vod/media)**, select the target video (file ID: 528xxx3757278095), and click **Process Video**.
2. On the video processing page:
 - Select **Task Flow** as the **Processing Type**.
 * Select **SimpleAesEncryptPreset** for **Task Flow Template**.
<img src="https://qcloudimg.tencent-cloud.cn/raw/810b84b193ad96be992810e3877b1ac7.png" width="" style="zoom:80%;" /><span>
>?
>- **SimpleAesEncryptPreset** is a preset task flow, which uses template 12 for adaptive bitrate streaming, template 10 for thumbnail generating, and template 10 for image sprite capturing.
>- Adaptive bitrate streaming with template 12 is to output an encrypted multi-bitrate stream.
3. Click **Confirm** and wait until the **Task Status** in the list on the [Process](https://console.cloud.tencent.com/vod/task) tab changes from **Processing** to **Completed**, which indicates that video processing is completed.
![](https://qcloudimg.tencent-cloud.cn/raw/da5e02a95cf19cae9146e009874ccf55.png)
4. Click **Manage** in the **Operation** column of the video.
 - Under the **Basic Info** tab, you can view the thumbnail generated and outputs of encrypted adaptive bitrate streaming (template ID: 12).
 - Under the **Screenshot Info** tab, you can view the image sprite generated (template ID: 10).

[](id:step2)
## Step 2. Preview video playback

In the previous step, you uploaded and processed the video. Now, you can use the player for web, iOS, and Android to quickly preview video playback.

1. Select **Video/Audio Management** > **[Video Management](https://console.cloud.tencent.com/vod/media)**, find the video uploaded and processed in **step 1**, click **Manage** in the **Operation** column, and select **Player Preview**.
2. Select **basicDrmPreset** for **Player Configuration**.
<img src="https://qcloudimg.tencent-cloud.cn/raw/60418fcab52a70fc2fbcf7056f7929f2.png" width="622" />
>? **basicDrmPreset** is a preset player configuration, which is used to output the adaptive bitstream with template 12 and the image sprite with template 10.
3. As hotlink protection is enabled for the default distribution domain name, you can set the hotlink protection expiration time and the preview duration on the **Playback Control** tab. You can use the default parameter settings here (the default expiration time of playback hotlink protection is one day, and the preview duration and maximum number of IPs allowed for playback are left empty).
 <img src="https://qcloudimg.tencent-cloud.cn/raw/5968a5d6428bff9c3e3e0e1d4ce7431e.png" width="622" />
4. In **Web Player**, click the button in the middle of the player to play back the video on web.
<img src="https://main.qcloudimg.com/raw/976ec23a988bcb494c4b225e635a5dba.png" width="522" />
5. In **Mobile Player**, click **Scan code to download** and install "Tencent Cloud Toolkit".
<img src="https://qcloudimg.tencent-cloud.cn/raw/f0e72b414ee3dc8084dda39d8a5d5c91.png" width="522" />
6. Open Tencent Cloud Toolkit on your mobile phone, select **Player**, click the top-right corner to scan the QR code, and you can play back the video on your phone.
 <img src="https://qcloudimg.tencent-cloud.cn/raw/06e77f14c2e1020e8936ce1ab30a6ca3.png" width="422" />

[](id:step3)
## Step 3. Use a demo for verification

The player requires a signature within its validity period to play back the encrypted video. You can use the signature tool to quickly generate a signature as detailed below.

1. Go to the [Player - Signature Generation Tool](https://vods.cloud.tencent.com/signature/super-player-sign.html) page and enter the following parameters:
 - **User appId**: `appId` of video `1400xxx357`(if a subapplication is used, enter the subapplication's `appId`).
 - **Video fileId**: Video `FileId`, which is `528xxx3757278095`.
 - **Current Unix Timestamp**: Current Unix time automatically generated by the tool, which does not need to be entered manually and is `1591756516` here.
 - **Player Configuration**: The preset player configuration name: **basicDrmPreset**.
 - **Signature Expiration Unix Timestamp**: Signature expiration time, which can be left empty. The signature will expire in one day by default.
 - **URL Expiration Time**: Expiration time of key hotlink protection, which can be set to the hexadecimal Unix time after six hours: `5ee09b44`.
 - **Hotlink Protection Key**: Previously obtained hotlink protection key, which is `2WExxx48eW`.
>! **basicDrmPreset** is a preset player configuration, which is used to output the adaptive bitstream with template 12 and the image sprite with template 10.
2. Click **Generate Signature**, and the generated signature will be displayed in the **Signature Generation Result** text box.

After getting the player signature, you can use the player demos for [web](https://imgcache.qq.com/open/qcloud/video/tcplayer/examples/vod/tcplayer-vod-base.html), [Android](https://github.com/LiteAVSDK/Player_Android), and [iOS](https://github.com/LiteAVSDK/Player_iOS) for verification. For more information, see the demo source code.
>? In **Video/Audio Management** > **[Video Management](https://console.cloud.tencent.com/vod/media)** > **Player Preview** in the console, you can get the web player source code for video preview for your reference.
<img src="https://main.qcloudimg.com/raw/c5756910c7958aae198804c91b76a89e.png" width="500" />

## Summary

At this point, you have learned how to encrypt a video and use the player to play back the encrypted video.
