MPS는 오디오/비디오 파일을 다른 비트레이트 및 해상도로 변환하여 각종 대역폭과 다양한 장치에서 원활하게 재생될 수 있도록 합니다. 다음과 같은 기능이 있습니다.

## 오디오/비디오 트랜스코딩
트랜스코딩은 다양한 재생 장치 및 네트워크 조건에 맞게 오디오/비디오 스트림의 코덱, 해상도, 비트레이트 등을 변경하는 오프라인 작업입니다. 트랜스코딩의 효과는 다음과 같습니다.
<table>
<tr><th width=19%>효과</th><th>설명</th></tr>
<tr>
<td>호환성 향상</td>
<td>원본 비디오를 더 많은 장치와 호환되는 형식(예: MP4)으로 트랜스코딩하여 원활하게 재생되도록 합니다.</td>
</tr>
<tr>
<td>대역폭 적응성 향상</td>
<td>원본 비디오를 저화질, SD, HD 및 FHD와 같은 다양한 선명도 수준에서 재생하기 위해 트랜스코딩합니다. 최종 사용자는 네트워크 조건에 가장 적합한 비트레이트을 선택할 수 있습니다.</td>
</tr>
<tr>
<td>재생 효율성 개선</td>
<td>MOOV 아톰은 MP4 파일의 끝에서 처음으로 이동할 수 있으므로, 비디오가 완전히 다운로드되기 전에 재생할 수 있습니다.</td>
</tr>
<tr>
<td>대역폭 절감</td>
<td>고급 코덱 기술(예: H.265)을 사용하면 품질을 유지하면서 비디오의 비트레이트을 크게 줄일 수 있으므로 대역폭 소비를 줄이는 데 도움이 됩니다.</td>
</tr>
</table>


트랜스 코딩의 타깃 사양은 인코딩 포맷, 해상도, 비트레이트 등의 매개변수를 포함합니다. 다음과 같은 트랜스 코딩 관련 매개변수를 사용자 정의할 수 있습니다.

<table>
   <tr>
      <th width="15%" style="text-align:center">매개변수</td>
      <th width="17%" style="text-align:center">유형</td>
      <th  style="text-align:center">상세 설명</td>
   </tr>
   <tr>
      <td rowspan='3' style="text-align:center">입력 형식</td>
      <td style="text-align:center">컨테이너 형식</td>
      <td>3GP, AVI, FLV, MP4, M3U8, MPG, ASF, WMV, MKV, MOV, TS, WebM, MXF</td>
   </tr>
   <tr>
      <td style="text-align:center">비디오 코덱</td>
      <td>AV1, AVS2, H.264/AVC, H.263, H.263+, H.265, MPEG-1, MPEG-2, MPEG-4, MJPEG, VP8, VP9, RealVideo, Windows Media Video, Quicktime</td>
   </tr><tr>
      <td style="text-align:center">오디오 코덱</td>
      <td>AAC, ADPCM, AMR, DSD, MP1, MP2, MP3, PCM, RealAudio, Windows Media Audio, VORBIS, AC-3</td>
   </tr>
   <tr>
      <td rowspan='5' style="text-align:center">출력 형식</td>
      <td rowspan='3' style="text-align:center">컨테이너 형식</td>
      <td>비디오: FLV, MP4, HLS(m3u8+ts), MXF</td>
   </tr><tr>
      <td>오디오: MP3, MP4, OGG, FLAC, m4a</td>
   </tr><tr>
      <td>이미지: GIF, WEBP</td>
   </tr>
   <tr>
      <td style="text-align:center">비디오 코덱</td>
      <td>H.264/AVC, H.265/HEVC, AV1</td>
   </tr><tr>
      <td style="text-align:center">오디오 코덱</td>
      <td>MP3, AAC, FLAC, MP2, VORBIS</td>
   </tr><tr>
			 <td rowspan='2'  style="text-align:center">패키징</td>
      <td style="text-align:center">비디오 스트림 삭제</td>
      <td>활성화 후 트랜스코딩 결과에는 오디오 스트림만 포함됩니다.</td>
   </tr>
	 	 	   <tr>
      <td style="text-align:center">오디오 스트림 삭제</td>
      <td>활성화 후 트랜스코딩 결과에는 비디오 스트림만 포함됩니다.</td>
</table>


## 워터마크
워터마킹은 지정된 위치에서 트랜스코딩된 비디오 또는 스크린샷에 이미지를 추가하는 오프라인 작업입니다. MPS는 다음 유형의 워터마크를 지원합니다.
- **정적 이미지 워터마크**: PNG 포맷의 이미지 워터마크로, 저작권 소유자의 LOGO, 방송국 마크 등 비디오의 저작권 속성을 나타내는 데 자주 쓰입니다.
- **애니메이션 이미지 워터마크**: APNG 포맷의 애니메이션 이미지 워터마크로, 워터마크 이미지의 동적 변화 효과를 구현할 수 있습니다.

비디오 또는 스크린샷의 다른 위치에 크기가 다른 여러 워터마크를 추가할 수 있습니다.

워터마킹에 지정할 수 있는 매개변수에는 워터마크 유형, 화면비, 위치 등이 있습니다.

| 매개변수                     | 설명                                                         |
| ------------------------ | ------------------------------------------------------------ |
| 워터마크 유형(Type)         | 정적 또는 애니메이션 워터마크 지원                           |
| 워터마크 위치(Position)     | 비디오에서 워터마크의 상대적 위치                                 |
| 이미지 크기(ImageSize)    | 워터마크의 크기                                |
| 이미지 콘텐츠(ImageContent) | 워터마크의 이진법 데이터                                 |




## 스크린샷 찍기

스크린샷은 지정된 시간에 비디오의 스크린샷을 찍는 오프라인 작업입니다. MPS는 다음 유형의 스크린샷을 지원합니다.
- **시점 스크린샷**: 지정 시점 스크린샷.
- **샘플 스크린샷**: 일정 간격의 스크린샷.
- **스프라이트 스크린샷**: 일정한 간격으로 스크린샷을 찍어 하나의 큰 [스프라이트 이미지](https://intl.cloud.tencent.com/document/product/1041/33504)로 결합합니다.

스크린샷을 위해 지정할 수 있는 매개변수에는 스크린샷 형식, 화면비 등이 포함됩니다.

### 시점 스크린샷

| 매개변수     | 설명 |
| -------------------- | ------------------------------------------------------------ |
| 포맷(Format)       | 스크린샷 형식, 현재 JPG만 지원됨                         |
| 폭(Width)        | 스크린샷 너비, 값 범위: 128px - 4096px                             |
| 높이(Height)     | 스크린샷 높이, 값 범위: 128px - 4096px                             |
| 채우기 모드(FillType) | 채우기 모드는 종횡비가 스크린샷의 지정된 종횡비와 일치하지 않을 때 원본 비디오 이미지가 처리되는 방식을 지정합니다. 다음 채우기 모드가 지원됩니다.<li>늘이기: 원본 비디오 이미지가 스크린샷의 종횡비와 일치하도록 늘어납니다. 이미지가 왜곡될 수 있습니다.</li><li>검은색 막대: 원본 비디오 이미지의 종횡비는 유지되고 빈 공간은 검은색으로 채워집니다.</li><li>흰색 막대: 원본 비디오 이미지의 종횡비는 유지되고 빈 공간은 흰색으로 채워집니다.</li><li>가우시안 블러: 원본 비디오 이미지의 종횡비는 유지되고 빈 공간에는 가우시안 블러가 적용됩니다.</li> |


### 샘플링 스크린샷


| 매개변수                   | 설명                                                         |
| ---------------------- | ------------------------------------------------------------ |
| 포맷(Format)         | 스크린샷 형식, 현재 JPG만 지원됨                         |
| 폭(Width)          | 스크린샷 너비, 값 범위: 128px - 4096px                             |
| 높이(Height)       | 스크린샷 높이, 값 범위: 128px - 4096px                             |
| 샘플링 방식(SampleType) | 샘플링 방식은 두 가지로 나뉩니다.<li>백분율 간격 샘플링: 5% 간격으로 샘플링할 경우, 스크린샷 20장 생성</li><li>시간 간격 샘플링: 10s 간격으로 샘플링할 경우 스크린샷 장수는 비디오 길이에 따라 달라짐</li> |
| 샘플링 간격(Interval)   | 샘플링 간격:<li>백분율 간격 샘플링인 경우 이 매개변수는 퍼센트 값입니다.</li><li>시간 간격 샘플링인 경우 이 매개변수는 시간 값(초)입니다.</li> |
| 채우기 모드(FillType) | 채우기 모드는 종횡비가 스크린샷의 지정된 종횡비와 일치하지 않을 때 원본 비디오 이미지가 처리되는 방식을 지정합니다. 다음 채우기 모드가 지원됩니다.<li>늘이기: 원본 비디오 이미지가 스크린샷의 종횡비와 일치하도록 늘어납니다. 이미지가 왜곡될 수 있습니다.</li><li>검은색 막대: 원본 비디오 이미지의 종횡비는 유지되고 빈 공간은 검은색으로 채워집니다.</li><li>흰색 막대: 원본 비디오 이미지의 종횡비는 유지되고 빈 공간은 흰색으로 채워집니다.</li><li>가우시안 블러: 원본 비디오 이미지의 종횡비는 유지되고 빈 공간에는 가우시안 블러가 적용됩니다.</li> |


### 스프라이트 이미지

| 매개변수                   | 설명                                       |
| ---------------------- | ------------------------------------------ |
| 포맷(Format)         | 이미지 스프라이트 형식. 현재 JPG만 지원됨     |
| 작은 이미지의 폭(Width)      | 스프라이트의 작은 이미지 너비                       |
| 작은 이미지의 높이(Height)   | 스프라이트의 작은 이미지 높이                       |
| 작은 이미지의 행 수(Rows)       | 스프라이트의 이미지 행 수                 |
| 작은 이미지의 열 수(Columns)    | 스프라이트의 이미지 열 수                  |
| 샘플링 방식(SampleType) | 샘플링 방식. 현재 시간별 샘플링만 지원됩니다. |
| 샘플링 간격(Interval)   | 이미지 샘플링 시간 간격     |

>!
>- Width × Columns는 128px - 4096px 사이여야 합니다(큰 이미지의 폭은 128px- 4096px 사이).
>- Height × Rows는 128px - 4096px 사이여야 합니다(큰 이미지의 높이는 128px - 4096px 사이).



## 애니메이션 이미지 생성
애니메이션 이미지는 비디오의 일정 부분을 선택해 움직이는 이미지(GIF, WEBP 등)를 생성하는 오프라인 작업입니다. 애니메이션 이미지는 연속 프레임의 매끄러운 순환이며, 적은 용량으로 애니메이션 효과를 구현합니다.


애니메이션 이미지 생성을 위해 설정할 수 있는 매개변수에는 형식, 너비, 높이, 프레임 속도 등이 있습니다.

| 매개변수             | 설명                                         |
| ---------------- | -------------------------------------------- |
| 포맷(Format)   | 애니메이션 이미지 형식. 현재 GIF 및 WEBP만 지원 |
| 폭(Width)    | 애니메이션 이미지 너비. 값 범위 128px - 4096px              |
| 높이(Height) | 애니메이션 이미지 높이. 값 범위: 128px - 4096px              |
| 프레임 레이트(FPS)      | 값 범위: 1fps - 60fps                  |

