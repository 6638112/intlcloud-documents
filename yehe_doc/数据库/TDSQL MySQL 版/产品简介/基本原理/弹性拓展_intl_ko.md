## 개요
TDSQL for MySQL은 온라인 실시간 확장을 지원합니다. 확장 방법은 새로운 샤드와 기존 샤드의 두 가지 방법으로 나뉩니다. 전체 확장 프로세스는 비즈니스에 완전히 투명하며 비즈니스 중단이 없습니다. 확장하는 동안 일부 샤드만 읽기 전용이거나 몇 초 만 중단됩니다. 전체 클러스터는 영향을 받지 않습니다.

## 확장 프로세스
TDSQL for MySQL은 주로 자체 개발한 자동 재조정 기술을 채택하여 자동 확장 및 안정성을 보장합니다.

### 샤드 확장 추가
1. [TDSQL for MySQL 콘솔](https://console.cloud.tencent.com/dcdb)에서 확장이 필요한 A 노드의 용량을 확장합니다.
2. 새로 추가된 G 노드 설정에 따라 A 노드의 데이터 일부(대기 머신에서)를 G 노드로 재배치합니다.
3. 데이터 동기화가 완료된 후 노드 A와 G는 데이터베이스를 확인하고 읽기 전용 기간이 1초에서 수십초 정도 있지만 전체 서비스가 중지되지는 않습니다.
4. 스케줄러는 라우팅을 전환하도록 proxy에 알립니다.
![](https://main.qcloudimg.com/raw/50299d47e5a0ee8760e9bde16701148a.png)

### 기존 샤드 확장
기존 샤드를 기반으로 확장하는 것은 물리적 샤드를 더 큰 용량으로 교체하는 것과 같습니다.
>?기존 샤드 기반 확장은 샤드를 추가하지 않으며, 샤드 분할 및 샤드 개수에 대한 논리적 규칙을 변경하지 않습니다.

1. 업그레이드할 구성에 따라 새로운 물리적 샤드(이하 새 샤드라고 함)를 할당합니다.
2. 업그레이드할 물리적 샤드(이후 이전 샤드라고 함)의 데이터 및 구성을 신규 샤드에 동기화합니다.
3. 데이터를 동기화한 후 Tencent Cloud 게이트웨이에서 경로를 전환하고 신규 샤드로 전환하여 계속 사용합니다.
![](https://main.qcloudimg.com/raw/7f29be1908e9452fbaf5264293cbe59c.png)


## 관련 작업
분산 데이터베이스는 여러 개의 샤드로 구성되며 기존 TDSQL for MySQL 인스턴스를 더 높은 사양으로 업그레이드해야 하는 경우 [인스턴스 업그레이드](https://intl.cloud.tencent.com/document/product/1042/33333)를 참고하십시오.
