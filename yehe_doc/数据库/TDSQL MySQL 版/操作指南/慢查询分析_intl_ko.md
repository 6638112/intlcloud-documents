
## 기능 설명
지정 시간을 초과한 SQL 명령 쿼리를 **슬로우 쿼리**라고 하며, 그와 상응하는 명령을 **슬로우 쿼리 명령**이라고 합니다. Database Administrator(DBA)가 슬로우 쿼리 명령에 대해 분석하고 슬로우 쿼리가 발생한 원인을 찾는 과정을 '슬로우 쿼리 분석'이라고 합니다.

[TDSQL for MySQL 콘솔](https://console.cloud.tencent.com/dcdb)에 로그인하고 인스턴스 목록에서 인스턴스 ID를 클릭하여 관리 페이지로 들어간 후 **성능 최적화**>**슬로우 쿼리 분석** 탭을 선택하면 슬로우 쿼리 분석을 수행할 수 있습니다.
![](https://main.qcloudimg.com/raw/ea4506813533ff1905223dfd58b4bff3.png)

>?
>- 현재 슬로우 쿼리 분석은 각 샤드에서 개별적으로만 수행하고 볼 수 있습니다.
>- 슬로우 로그를 다운로드하려면 다운로드 주소를 복사하고 [TencentDB 인스턴스와 동일한 VPC의 CVM 인스턴스(Linux)에 로그인](https://intl.cloud.tencent.com/zh/document/product/213/10517)한 다음 사설 네트워크를 통한 다운로드를 위해 wget 명령을 실행해야 합니다.

## 주요 매개변수
### 주요 기본 설정
-   슬로우 쿼리 기능: 기본적으로 활성화되어 있습니다.
-   슬로우 쿼리 임계값(long_query_time): 기본적으로 1초, 즉 1초 이상 실행된 쿼리 명령만 기록됩니다.
-   분석 데이터 출력 지연: 1분 - 5분.
-   로깅 기간: 백업 및 로그 설정에 따라 30일.

### 분석 목록 필드
-   체크섬(checksum): 슬로우 쿼리 문(기본값은 64bit)을 식별하는 데 사용되는 일련의 숫자.
-   추상화된 SQL 문(fingerprint): 사용자 데이터가 숨겨진 슬로우 쿼리 문.
-   데이터베이스: 슬로우 쿼리 문이 실행된 데이터베이스.
-   계정: 슬로우 쿼리 문이 발생하는 계정.
-   마지막 실행 시간(last_seen): 지정된 시간 범위 내에서 슬로우 쿼리 문이 마지막으로 실행된 시간.
-   첫 번째 실행 시간(first_seen): 지정된 시간 범위 내에서 슬로우 쿼리 문이 처음 실행된 시간.
-   Total(ts_cnt): 지정된 시간 범위 내에서 슬로우 쿼리 문의 실행 횟수.
-   실행 비율(%): 지정된 시간 범위 내 모든 슬로우 쿼리 문의 총 실행에 대한 슬로우 쿼리 문의 총 실행 비율.
-   총 시간(query_time_sum): 지정된 시간 범위 내에서 슬로우 쿼리 문이 소비한 총 시간.
-   총 시간(%): 지정된 시간 범위 내에서 모든 슬로우 쿼리 명령문이 소비한 총 시간에 대한 슬로우 쿼리 명령문이 소비한 총 시간의 비율.
-   평균 시간(query_time_avg): 평균 시간은 슬로우 쿼리 문에서 소비한 총 시간을 슬로우 쿼리 문의 총 실행 횟수로 나누어 계산.
-   최소 시간(query_time_min): 슬로우 쿼리 문의 전체 실행 시간 중 최소값.
-   Max Time(query_time_max): 슬로우 쿼리문의 전체 실행 시간 중 최대값.
-   총 잠금 시간(lock_time_sum): 슬로우 쿼리 문의 총 잠금 시간.
-   전체 잠금 시간 비율: 모든 슬로우 쿼리 문의 총 잠금 시간에 대한 슬로우 쿼리 문의 총 잠금 시간의 비율(퍼센트).
-   평균 잠금 시간(lock_time_avg): 슬로우 쿼리문의 총 잠금 시간을 슬로우 쿼리문의 총 잠금 횟수로 나누어 계산한 평균 시간.
-   최소 잠금 시간(lock_time_min): 슬로우 쿼리 문의 전체 잠금 시간 중 최소값.
-   Max Lock Time(lock_time_max): 슬로우 쿼리문의 전체 잠금 시간 중 최대값.
-   보낸 행(Rows_sent_sum): 슬로우 쿼리 문에서 보낸 데이터 행의 총 수.
-   스캔된 행(Rows_examined_sum): 슬로우 쿼리 문으로 스캔한 데이터 행의 총 수.
