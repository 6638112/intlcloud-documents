## 일반적인 문제
### DTS를 사용하여 데이터 마이그레이션을 할 경우, 원본 데이터베이스의 데이터는 마이그레이션 후에 삭제됩니까?
그렇지 않습니다. DTS가 데이터 마이그레이션을 진행할 때 실제로는 원본 데이터베이스의 데이터를 복사하게 되며, 원본 데이터베이스의 데이터에 영향을 주지 않습니다.

### 데이터 마이그레이션에 DTS를 사용하면 타깃 데이터베이스에 어떤 영향이 있습니까?
데이터가 타깃 데이터베이스로 마이그레이션될 때 시스템은 원본 데이터베이스와 타깃 데이터베이스에 동일한 이름의 DB 테이블이 있는지 검증합니다. 있는 경우 확인에 실패하고 마이그레이션 작업을 진행하기 전에 수정하라는 메시지가 표시됩니다.

### DTS는 양단 모두 오프라인인 데이터베이스의 마이그레이션을 지원합니까?
지원하지 않습니다. DTS는 클라우드로의 마이그레이션만 지원하며 타깃은 Tencent Cloud 데이터베이스여야 하며 원본은 자체 구축한 타사 클라우드 벤더 또는 Tencent Cloud 데이터베이스일 수 있습니다.

### DTS는 두 개의 다른 Tencent Cloud 계정에서 TencentDB 인스턴스 간의 데이터 마이그레이션을 지원합니까?
지원합니다. 교차 Tencent Cloud 계정에서 TencentDB 인스턴스 간에 마이그레이션하려면 타깃 TencentDB 인스턴스가 속한 Tencent Cloud 계정으로 DTS에 로그인해야 합니다. 자세한 내용은 [TencentDB 교차 계정 인스턴스 마이그레이션](https://intl.cloud.tencent.com/document/product/571/42646)을 참고하십시오.

### 동일한 원본 데이터베이스에서 TencentDB 인스턴스로 마이그레이션하는 여러 DTS 작업 설정을 지원합니까?
지원합니다. 동일한 원본을 여러 타깃으로 마이그레이션하는 것을 지원하고 여러 원본을 동일한 타깃으로 마이그레이션하는 것도 지원하지만, 여러 작업을 병렬로 수행하면 원본 또는 타깃에 대한 액세스 압력이 증가하고 마이그레이션 속도에 영향을 미칠 수 있습니다. 동일한 원본 데이터베이스에 대해 여러 작업을 생성해야 하는 경우 첫 번째 마이그레이션 작업을 만든 후 **작업** 열 **더 보기** > **유사 작업 생성**으로 이동하여 동일한 작업을 빠르게 생성할 수 있습니다.

### DTS는 예약 자동 마이그레이션을 지원합니까?
지원합니다. DTS를 생성한 후 설정을 수정할 때 예약 실행 옵션을 선택하고 예약 마이그레이션 시간을 설정할 수 있습니다.

### 마이그레이션 프로세스 중 작업 진행 상황을 모니터링할 수 있습니까?
모니터링할 수 있습니다. Tencent Cloud [DTS 콘솔](https://console.cloud.tencent.com/dtsnew/migrate/page) 데이터 마이그레이션 페이지에서 마이그레이션 작업 진행 상황을 조회할 수 있습니다.

### 데이터 증분 마이그레이션 서비스 설정에 15일이 소요되는 이유는 무엇입니까?
데이터 증분 마이그레이션 서비스는 현재 프록시 서버와 근접하여 액세스합니다. 내부 네트워크 전용선을 통해 공용 네트워크로 가는 지터 문제를 낮추어 데이터 전송의 질을 보장하였습니다. 15일로 설정한 이유는 프록시의 서버 접속 로드를 효과적으로 낮추기 위한 것입니다. 15일을 초과한다고 해서 기존 단계에서 강제 중단이 발생하는 것은 아니지만 마이그레이션 리소스를 합리적으로 사용하는 차원에서 시간이 설정되었습니다.

### 데이터 마이그레이션 중 데이터 정확성을 보장하는 방법은 무엇입니까?
DTS는 Tencent Cloud의 자체 개발 데이터 마이그레이션 아키텍처를 사용하여 전송 링크에서 실시간 데이터 정확성 인증을 수행하고 전송 데이터를 신속하게 검색 및 수정하며 전송 데이터의 신뢰성을 보장합니다.

### 데이터 검증에서 원본 데이터베이스 인스턴스가 읽기 전용이 아니어야 하는 이유는 무엇입니까?
데이터 검증은 원본 인스턴스에 새로운 라이브러리 `__tencentdb__`를 생성하고 이 라이브러리 아래에 CheckSum 테이블을 작성해야 합니다. 인스턴스가 읽기 전용인 경우 데이터 검증 단계를 건너뜁니다.

### DTS 데이터 마이그레이션이 마이그레이션을 위한 DB 테이블을 지정할 수 있습니까?
지정할 수 있습니다. 마이그레이션 객체가 전체 인스턴스를 선택하거나 지정한 DB 테이블 객체를 선택할 수 있습니다.

### 데이터 마이그레이션은 언제 종료되나요?
사용자가 증분 마이그레이션을 선택하면 작업이 오랫동안 종료되지 않고 사용자가 직접 종료 작업을 수행해야 할 수도 있습니다.
- 마이그레이션 유형으로 **구조 마이그레이션** 또는 **전체 마이그레이션**을 선택하면 완료 후 작업이 자동 종료되며 사용자가 수동으로 종료할 필요가 없습니다.
- 마이그레이션 유형으로 **전체 + 증분 마이그레이션**을 선택하면 전체 마이그레이션이 완료된 후 마이그레이션 작업은 자동으로 중지되지 않는 증분 데이터 동기화 단계에 자동으로 들어갑니다. 증분 데이터 동기화를 수동으로 중지하려면 완료를 클릭해야 합니다.
  - 적절한 시기에 증분 데이터 동기화 및 비즈니스 전환을 수동으로 완료합니다.
  - 마이그레이션 작업이 증분 동기화 단계에 있고 지연 상태가 아닌지 확인합니다. 그렇다면 몇 분 동안 원본 데이터베이스에 데이터 쓰기를 중지하십시오.
  - 타깃-원본 데이터베이스 데이터 간격이 0MB이고 타깃-원본 데이터베이스 시간 지연이 0초인 경우 증분 동기화를 수동으로 완료합니다.

### 전체 마이그레이션 전후에 데이터 크기가 일치하지 않는 이유는 무엇입니까?
원본 데이터베이스와 타깃 데이터베이스의 조각 공간이 다르기 때문에 원본 데이터베이스에 빈 데이터가 있을 수 있으므로 전체 마이그레이션이 완료된 후 타깃 데이터베이스의 테이블 저장 공간이 원본 데이터베이스보다 작을 수 있습니다. [데이터 일관성 인증](https://intl.cloud.tencent.com/document/product/571/42724)을 사용하여 마이그레이션 완료 후 원본 데이터베이스와 타깃 데이터베이스의 내용이 일치하는지 확인할 것을 권장합니다.

### 데이터 마이그레이션 중에 이중 쓰기가 지원됩니까?
지원되지 않습니다. 마이그레이션 중 원본 데이터베이스와 타깃 데이터베이스에 동시에 쓰기를 수행하면 데이터 불일치가 발생할 수 있습니다.

### DTS는 국가 간 데이터베이스 마이그레이션을 지원합니까?
지원합니다. 액세스 방법으로 공중망을 선택하면 국가 간 데이터 전송을 실현할 수 있습니다.

## MySQL FAQ
### MySQL 마이그레이션 과정에서 잠금이 발생합니까?
MySQL/MariaDB/TDSQL-C간 데이터 마이그레이션 및 TDSQL MySQL > TDSQL MySQL/MySQL/MariaDB 데이터 마이그레이션의 경우, 기본적으로 잠금 없는 마이그레이션이 사용됩니다. 잠금 없는 마이그레이션은 완전히 잠금이 없는 것은 아니지만 전역 잠금(FTWRL)을 추가하지 않습니다.

MySQL/MariaDB > TDSQL MySQL은 기본적으로 잠금 마이그레이션을 사용합니다.
- 잠금 없는 마이그레이션: 테이블 잠금은 기본 키가 없는 테이블에만 추가되고 나머지는 NOLOCK입니다.
- 잠금 마이그레이션: 단기(몇 초안에) 전역 잠금(FTWRL)이 추가되며, 일관성 위치를 얻은 후 잠금이 해제됩니다.

### Tencent Cloud MySQL 단일 노드(원본 기본 버전) 인스턴스의 마이그레이션을 지원합니까?
- Tencent Cloud MySQL 단일 노드(원본 기본 버전)는 원본으로 공중망 모드를 사용하여 마이그레이션할 수 있지만 내부 네트워크 모드는 사용할 수 없습니다.
- 현재 Tencent Cloud MySQL 단일 노드(원본 기본 버전)를 마이그레이션의 객체 인스턴스로 지원하지 않습니다.

### binlog_format을 원본 데이터베이스의 row로 설정한 후 원본 데이터베이스의 binlog_format 형식이 즉시 적용되도록 하는 방법은 무엇입니까?
binlog_format을 row로 설정한 후 현재 데이터베이스의 모든 비즈니스 연결을 재설정해야(원본 데이터베이스가 복제본 서버에 있는 경우 원본/복제본 동기화 SQL 스레드를 재설정해야 함), 현재 비즈니스 연결이 계속해서 이전 형식을 사용하여 쓰기를 방지할 수 있습니다.

데이터 불일치를 방지하려면 상기 작업이 완료될 때까지 마이그레이션 작업을 생성하거나 실행하지 마십시오.

### 마이그레이션할 원본 인스턴스에 Toku 엔진이 있는 경우 마이그레이션 시 주의해야 할 사항은 무엇인가요?
원본 인스턴스가 Toku 엔진과 관련된 경우 기본적으로 마이그레이션 시 InnoDB로 전환합니다. 그리고 Cluster Index와 TokuDB의 압축 특성 테이블을 사전에 처리해야 합니다. 현재 마이그레이션은 지원하지 않으며 Toku 엔진의 DDL 작업도 지원하지 않습니다.

### MySQL 데이터 마이그레이션은 사용자 권한을 마이그레이션할 수 있습니까?
네, DTS의 새 버전은 사용자 권한 마이그레이션을 지원합니다. 자세한 내용은 [계정 마이그레이션](https://intl.cloud.tencent.com/document/product/571/48483)을 참고하십시오.

