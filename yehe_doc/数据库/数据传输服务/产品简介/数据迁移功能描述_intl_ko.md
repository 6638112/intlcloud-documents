## 기능 개요
데이터 마이그레이션 기능은 서로 다른 데이터 소스 간의 데이터 복제를 의미합니다. 전체 데이터베이스를 마이그레이션하는 단기 일회성 작업입니다. 마이그레이션 후 새 데이터베이스에서 작업을 계속하기 위해 컷오버가 수행됩니다. DTS는 데이터베이스 중단 시간이 비즈니스에 미치는 영향을 최소화하기 위해 잠금 없이 논스톱 데이터 마이그레이션을 지원합니다.

DTS는 자체 구축한 TencentDB 및 타사 클라우드 원본 데이터베이스의 마이그레이션을 지원합니다.

- 자체 구축 데이터베이스를 클라우드로 마이그레이션: 로컬 IDC 자체 구축 데이터베이스, CVM의 자체 구축 데이터베이스, 경량 애플리케이션 서버의 경량 데이터베이스 등을 Tencent Cloud 데이터베이스로 마이그레이션합니다.
- Tencent Cloud 데이터베이스의 인스턴스 간 마이그레이션: 데이터베이스 버전 업그레이드, 리전 간 마이그레이션(중국 내/외 리전 간 포함), 서로 다른 Tencent Cloud 계정에 있는 데이터베이스 인스턴스 마이그레이션 등.
- 타사 데이터베이스 마이그레이션: Alibaba Cloud 또는 AWS와 같은 다른 클라우드의 데이터베이스에서 Tencent Cloud로 데이터를 마이그레이션하는 것을 의미합니다.

## 구현 원리
 다음은 데이터 마이그레이션 프로세스를 설명하기 위해 MySQL을 예로 들어 설명합니다.
- 원본 데이터베이스 내보내기: 원본 데이터베이스의 모든 기존 데이터를 내보냅니다.
- 데이터 가져오기: 기존 데이터를 타깃 데이터베이스로 가져옵니다.
- 증분 데이터 동기화 및 데이터 검사: 마이그레이션 작업이 시작되면 Binlog 인계가 시작됩니다. 마이그레이션하는 동안 원본 데이터베이스의 SQL 작업이 Binlog에 기록되며, DTS는 이를 구문 분석하여 기존 데이터 마이그레이션 중에 생성된 증분 데이터를 타깃 데이터베이스에 기록합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/2b7a50c41be8d18a389b6bb5ffcba791.jpg)

## 일반적인 사용 사례
#### 클라우드 데이터 마이그레이션
DTS는 몇 단계만 거치면 복잡한 설정 없이 Tencent Cloud로 데이터 마이그레이션을 설정할 수 있습니다. 마이그레이션 프로세스는 원본 데이터베이스에서 제공하는 서비스를 중단하지 않으므로 비즈니스에 미치는 영향을 최소화합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/491739f110738c80e2a8d7406c8ef7cd.png)

## 제한  
- 기본 테이블과 뷰만 마이그레이션할 수 있으며, 함수, 트리거, 저장 프로시저와 같은 객체는 현재 지원되지 않습니다(향후 점진적으로 지원될 예정입니다).
- 연결된 데이터 객체는 함께 마이그레이션해야 합니다. 그렇지 않으면 마이그레이션이 실패합니다. 일반적인 연결 관계에는 뷰-테이블 참조, 뷰-뷰 참조, 저장 프로시저/함수/트리거 뷰/테이블 참조, 기본/외래 키 연결 테이블이 포함됩니다.

## 지원되는 마이그레이션 유형
DTS는 다음 세 가지 마이그레이션 유형을 지원합니다.
- 구조화된 마이그레이션: 원본 데이터베이스의 마이그레이션 객체 구조가 타깃 데이터베이스로 마이그레이션됩니다.
- 전체 마이그레이션: 원본 데이터베이스의 시스템 테이블을 제외한 모든 데이터를 타깃 데이터베이스로 한 번에 마이그레이션합니다. 전체 마이그레이션은 원본 인스턴스에 데이터가 기록되지 않는 시나리오에 적용할 수 있는 일회성 마이그레이션입니다.
- 전체 + 증분 마이그레이션: 먼저 전체 마이그레이션을 수행하여 타깃 데이터베이스를 초기화한 다음 증분 데이터를 마이그레이션합니다. 로그 구문 분석과 같은 기술적 방법은 원본 데이터베이스와 타깃 데이터베이스 간의 데이터를 일관되게 유지하는 데 사용됩니다. 전체 + 증분 마이그레이션은 원본 데이터베이스에 데이터 쓰기가 있는 시나리오에 적용할 수 있습니다.
>?전체 데이터 마이그레이션을 선택한 경우 마이그레이션 중에 원본 데이터베이스에 새 데이터를 쓰지 마십시오. 그렇지 않으면 원본 및 타깃 데이터베이스의 데이터가 일치하지 않습니다. 데이터 쓰기가 있는 시나리오에서 실시간으로 데이터 일관성을 보장하려면 전체 + 증분 마이그레이션을 선택하는 것이 좋습니다.

## 지원되는 데이터베이스 유형
데이터 마이그레이션에 지원되는 원본 및 타깃 데이터베이스 유형, 버전 및 마이그레이션 유형에 대한 자세한 내용은 [데이터 마이그레이션이 지원되는 데이터베이스](https://intl.cloud.tencent.com/document/product/571/42647)를 참고하십시오.

## 지원되는 고급 기능

| **특징**          | **기능 설명**                        | **관련 문서**                           |
| ------------------------- | ----------------------------------- | -------------------------------------- |
| 타사 클라우드 데이터베이스에서 이종 마이그레이션 및 마이그레이션 | MySQL에서 TDSQL-C로의 마이그레이션과 같이 서로 다른 유형의 데이터베이스 간의 데이터 마이그레이션이 지원됩니다. 현재 지원되는 타사 클라우드 데이터베이스에는 Alibaba Cloud 및 AWS 데이터베이스가 있습니다. | [데이터 마이그레이션에 지원되는 데이터베이스](https://intl.cloud.tencent.com/document/product/571/42647)                                     |
| 교차 계정 마이그레이션 지원                           | 다른 Tencent Cloud 계정 인스턴스 간의 데이터 마이그레이션을 지원합니다.                             | [TencentDB 교차 계정 인스턴스 간 마이그레이션](https://intl.cloud.tencent.com/document/product/571/42646) |
| 대부분의 데이터베이스 버전 간 마이그레이션              | 타깃 데이터베이스 버전은 원본 데이터베이스 버전 이상이어야 합니다. 예를 들어 v5.5.x의 데이터를 v5.5.x, v5.6.x 이상으로 마이그레이션할 수 있습니다. 버전 번호의 마지막 숫자는 제한되지 않는 보조 버전 번호입니다. | [데이터 마이그레이션이 지원되는 데이터베이스](https://intl.cloud.tencent.com/document/product/571/42647)                                     |
| 사용자 정보, 뷰 및 고급 객체 마이그레이션 지원 | 사용자 정보, 뷰, 저장 프로시저, 함수, 트리거 및 이벤트의 마이그레이션을 지원합니다. | - |
| 데이터 일관성 검증 지원 | 원본 데이터베이스 및 타깃 데이터베이스의 데이터 콘텐츠에 대한 일관성 조회를 지원합니다. | [데이터 일관성 검증 생성](https://intl.cloud.tencent.com/document/product/571/42724) |
| 작업 진행 시각화                    | 마이그레이션 단계 및 진행 상황과 같은 정보를 표시할 수 있습니다.                         | [작업 조회](https://intl.cloud.tencent.com/document/product/571/42637) |
| 지표 모니터링 및 기본 알람 정책          | <li>데이터 마이그레이션 메트릭을 모니터링할 수 있습니다.<li>데이터 마이그레이션 이벤트 모니터링 기본 설정이 지원되어 예외 이벤트를 자동으로 알려줍니다. | [지원되는 이벤트 및 메트릭](https://intl.cloud.tencent.com/document/product/571/42611)                   |
| 잠금 없는 마이그레이션 지원                             | 잠금 없는 마이그레이션은 전역 잠금(FTWRL)이 추가되지 않음을 의미합니다. 기본 키가 없는 테이블에는 테이블 잠금만 추가되고 나머지는 잠기지 않습니다. | -    |
| 테이블 매핑                       | 원본 데이터베이스에서 타깃 데이터베이스로 마이그레이션된 테이블 객체 이름을 변경할 수 있습니다.                      | [테이블 매핑](https://intl.cloud.tencent.com/document/product/571/48482)                                                |
| 인스턴스 재시작 또는 업그레이드                | 증분 데이터 마이그레이션 중에 인스턴스를 다시 시작하거나 업그레이드할 수 있습니다.                 | -                   |
| HA 스위치                           | 원본 데이터베이스(GTID 활성화 전제)에서 타깃 데이터베이스로의 HA 전환이 지원됩니다.     | -             |
| Super 권한에 대한 요구 사항 없음                   | 운영자는 원본 데이터베이스 계정의 Super 권한을 가질 필요가 없습니다(현재 특정 데이터베이스에만 해당). | -         |

