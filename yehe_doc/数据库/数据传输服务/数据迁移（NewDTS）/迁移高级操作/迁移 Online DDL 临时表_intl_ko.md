
## 작업 시나리오
gh-ost, pt-online-schema-change(이하 pt-osc) 툴을 사용하여 소스 라이브러리의 테이블에 대해 Online DDL 작업을 수행하며, Online DDL 변경으로 인해 생성된 임시 테이블을 객체 라이브러리로 마이그레이션해야 합니다.
DTS는 마이그레이션 객체를 선택할 때 미리 객체 테이블의 임시 테이블 이름을 연결하고, 후속 소스 라이브러리에서 임시 테이블이 생성될 때 함께 마이그레이션하도록 지원합니다.  
- gh-ost 툴을 사용하여 `테이블 이름` 테이블에서 Online DDL을 수행합니다. DTS는 객체 라이브러리로 임시 테이블 `_테이블 이름_ghc`, `_테이블 이름_gho`, `_테이블 이름_del`의 마이그레이션을 지원합니다. 
- pt-osc 툴을 사용하여 `테이블 이름` 테이블에서 Online DDL을 수행합니다. DTS는 객체 라이브러리로 임시 테이블 `_테이블 이름_new`, `_테이블 이름_old`의 마이그레이션을 지원합니다.

## 적용 범위
 MySQL, MariaDB, Percona, TDSQL-C MySQL 간의 데이터 마이그레이션.

## 작업 단계
1. [DTS 콘솔](https://console.cloud.tencent.com/dts/migration)에 로그인하고 왼쪽 사이드바에서 **데이터 마이그레이션**을 선택하고 마이그레이션 작업을 생성합니다.
2. ‘마이그레이션 옵션 설정 및 마이그레이션 객체 선택’ 단계에서 오른쪽의 ‘선택한 객체’에서 수정할 객체 위로 마우스를 가져간 후 표시된 편집 아이콘을 클릭합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/23f80f12419ddbd7cefdc1cb558e4457.png)
3. 팝업된 대화 상자에서 **마이그레이션 임시 테이블**을 선택하고 마이그레이션할 테이블의 이름을 선택한 후 **확인**을 클릭합니다.
 - gh-ost 툴을 사용하여 Online DDL을 수행하고 임시 테이블 이름 `_테이블 이름_ghc`, `_테이블 이름_gho`, `_테이블 이름_del`을 선택합니다. 
 - pt-osc 툴을 사용하여 Online DDL을 수행하고 임시 테이블 이름 `_테이블 이름_new`, `_테이블 이름_old`를 선택합니다.
마이그레이션 임시 테이블 기능을 사용하면 선택한 객체의 테이블 이름 앞에 ![](https://qcloudimg.tencent-cloud.cn/raw/dfacb477b4cf9ba2d1046c5ccff9e463.png)가 표시되고 마우스를 가져가면 선택한 임시 테이블 이름이 표시됩니다.
>?
> - 임시 테이블 이름 `_테이블 이름_new` 및 `_테이블 이름_old`와 동일한 테이블 이름이 소스 라이브러리에 이미 존재하는 경우, pt-osc에서 다른 임시 테이블을 생성합니다. pt-osc에서 생성된 다른 임시 테이블 이름은 고정되어 있지 않으므로 DTS 다른 임시 테이블을 마이그레이션할 수 없습니다. 이 경우 **마이그레이션 객체**는 이 테이블만 선택할 수 없으며, 이 테이블이 위치한 전체 라이브러리(또는 전체 인스턴스)를 선택해야 합니다. 그렇지 않으면 Online DDL 변경으로 생성된 임시 테이블 데이터를 타깃 데이터베이스로 마이그레이션할 수 없습니다.
> - 테이블 매핑(테이블 이름 변경) 기능이 마이그레이션 임시 테이블 기능과 충돌하여 하나의 기능만 선택하여 사용할 수 있습니다.
> 

