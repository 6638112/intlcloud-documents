 본문은 DTS의 데이터 마이그레이션 기능을 사용하여 MongoDB에서 TencentDB for MongoDB로 데이터를 마이그레이션하는 방법을 설명합니다. 

MongoDB는 복제 세트와 샤딩 클러스터 간의 이종 마이그레이션, 즉 복제 세트-복제 세트, 복제 세트-샤딩 클러스터, 샤딩 클러스터-복제 세트, 샤딩 클러스터-샤딩 클러스터의 4가지 원본-타깃 아키텍처 시나리오를 지원합니다.

## 주의 사항
- 전체 데이터 마이그레이션 중에 DTS는 원본 데이터베이스 리소스를 사용하므로 원본 데이터베이스의 로드와 부담이 증가할 수 있습니다. 데이터베이스 설정이 낮으면 사용량이 적은 시간에 데이터를 마이그레이션하는 것이 좋습니다.
- 외부 네트워크 인스턴스 마이그레이션 시 외부 네트워크에서 원본 인스턴스를 액세스할 수 있는지 확인하십시오.

## 전제 조건
- [TencentDB for MongoDB](https://intl.cloud.tencent.com/document/product/240/3551) 인스턴스를 생성해야 합니다.
- 원본 및 타깃 데이터베이스는 [데이터 마이그레이션 지원 데이터베이스](https://intl.cloud.tencent.com/document/product/571/42647)에 설명된 대로 마이그레이션 기능 및 버전에 대한 요구 사항을 충족해야 합니다.
- 모든 [준비 작업](https://intl.cloud.tencent.com/document/product/571/42652)을 마쳐야 합니다.
- 원본 인스턴스에 마이그레이션에 사용할 읽기 전용 계정을 생성해야 합니다. 그러지 않을 시 마이그레이션 전 확인을 통과할 수 없습니다.
```
use admin
db.createUser({
    user: "username",
    pwd: "password",
    roles:
        [
            {role: "readAnyDatabase", db: "admin"},
            {role: "read", db: "local"}
        ]
})
```

## 제한
- 마이그레이션의 효율을 보장하기 위해 CVM 자체구축 인스턴스 마이그레이션은 리전 간 마이그레이션을 지원하지 않습니다.
- 단일 노드는 Oplog가 없으므로 자체 구축 인스턴스가 단일 노드일 때 증분 마이그레이션이 지원되지 않습니다.

## 작업 제한
- 마이그레이션하는 동안 다음 작업을 수행하지 마십시오. 그렇지 않으면 마이그레이션 작업이 실패합니다. 
  - 원본 및 타깃 데이터베이스와 포트 번호의 사용자 정보(사용자 이름, 암호 및 권한 포함)를 수정하거나 삭제하지 마십시오.
  - 원본 데이터베이스에서 oplog를 지우지 마십시오.
  - 데이터 마이그레이션 중에 대상 데이터베이스 TensetDTSData를 삭제하지 마십시오.
  - 데이터 마이그레이션 중에 대상 데이터베이스의 데이터를 주의해서 작업하십시오. 그렇지 않으면 데이터 불일치가 발생할 수 있습니다.
  - DTS는 샤딩된 클러스터의 DDL 작업을 필터링하므로 샤드 마이그레이션 중에 원본 데이터베이스에서 트랜잭션 이외의 DDL 작업을 수행하지 마십시오. 그렇지 않으면 데이터 불일치가 발생할 수 있습니다.
- 전체 데이터 마이그레이션만 수행하는 경우 마이그레이션 중에 원본 데이터베이스에 새 데이터를 쓰지 마십시오. 그렇지 않으면 원본 및 타깃 데이터베이스의 데이터가 일치하지 않습니다. 데이터 쓰기가 있는 시나리오에서 실시간으로 데이터 일관성을 보장하려면 전체+증분 데이터 마이그레이션을 선택하는 것이 좋습니다.

## 지원되는 SQL 작업
> ?복제 세트 마이그레이션만 DDL 작업을 지원하는 반면 샤드 마이그레이션은 DDL 작업(트랜잭션 제외)을 필터링합니다.

| **작업 유형** | **지원되는 SQL 작업**                                            |
| ------------ | ------------------------------------------------------------ |
| DML          | INSERT, UPDATE, DELETE                                       |
| DDL          | INDEX: createIndexes, createIndex, dropIndex, dropIndexes<br>COLLECTION: createCollection, drop, collMod, renameCollection, convertToCapped<br>DATABASE: dropDatabase, copyDatabase |

## 환경 요건

| **유형**       | **환경 요건**                                                 |
| -------------- | ------------------------------------------------------------ |
| 원본 데이터베이스 요구 사항   | <li>원본 데이터베이스가 있는 서버에는 아웃바운드 대역폭이 충분해야 합니다. 그렇지 않으면 마이그레이션 속도가 영향을 받습니다.<li>원본 데이터베이스에서 제공한 사용자 계정에는 데이터베이스를 읽을 수 있는 권한이 있어야 합니다.<li>원본 데이터베이스에는 TensetDTSData라는 데이터베이스가 있을 수 없습니다.<li>원본 데이터베이스가 클러스터 모드인 경우 증분 동기화 전에 balancer를 비활성화해야 합니다.<li>전체 + 증분 마이그레이션 중에 원본 데이터베이스에서 Oplog를 가져와야 합니다. |
| 타깃 데이터베이스 요구 사항 | <li>타깃 데이터베이스의 공간은 원본 데이터베이스에서 마이그레이션할 테이블 크기의 1.3배 이상이어야 합니다.<li>타깃 데이터베이스에서 제공한 사용자 계정에는 root 권한이 있어야 합니다.<li>타깃 데이터베이스는 TensetDTSData라는 데이터베이스를 가질 수 없습니다.<li>타깃 데이터베이스는 원본 데이터베이스의 테이블과 이름이 같은 테이블을 가질 수 없습니다.<br><li>원본 데이터베이스가 샤드인 경우 올바른 mongos, config server, mongod 노드 정보를 입력해야 합니다.<li>타깃 데이터베이스는 활성 비즈니스를 가질 수 없습니다. 그렇지 않으면 경고가 보고됩니다.<li>원본 및 타깃 데이터베이스의 샤드 키 정보는 동일해야 합니다. 그렇지 않으면 경고가 보고됩니다.</li> |

## 작업 단계
1. [DTS 콘솔](https://console.cloud.tencent.com/dts/)에 로그인하고 왼쪽 사이드바에서 **데이터 마이그레이션**을 선택한 다음 **마이그레이션 작업 생성**을 클릭하여 마이그레이션 작업 만들기 페이지로 들어갑니다.
2. 마이그레이션 작업 생성 페이지에서 원본 및 타깃 인스턴스의 유형, 리전 및 사양을 선택하고 **구매하기**를 클릭합니다.
<table>
<thead><tr><th>설정 항목</th><th>설명</th></tr></thead>
<tbody><tr>
<td>원본 인스턴스 유형</td>
<td>원본 데이터베이스 유형을 선택합니다. 구매 후 변경할 수 없습니다. 여기에서는 ‘MongoDB’를 선택합니다.</td></tr>
<tr>
<td>원본 인스턴스 리전</td>
<td>원본 데이터베이스 리전을 선택합니다. 원본 데이터베이스가 자체 구축된 데이터베이스인 경우 가장 가까운 리전을 선택하십시오.</td></tr>
<tr>
<td>타깃 인스턴스 유형</td>
<td>타깃 데이터베이스 유형을 선택합니다. 구매 후 변경할 수 없습니다. 여기에서는 ‘MongoDB’를 선택합니다.</td></tr>
<tr>
<td>타깃 인스턴스 리전</td>
<td>타깃 데이터베이스 리전을 선택합니다.</td></tr>
<tr>
<td>사양</td>
<td>귀하의 업무 여건에 따라 마이그레이션 연계 사양을 선택합니다. 다양한 사양의 성능 및 결제 세부 정보는 <a href="https://intl.cloud.tencent.com/document/product/571/35322">과금 개요</a>를 참고하십시오.</td></tr>
</tbody></table>

3. 원본 및 타깃 데이터베이스 설정 페이지에서 작업, 원본 데이터베이스 및 타깃 데이터베이스 설정을 구성합니다.  
>?마이그레이션을 위해 원본 데이터베이스에 읽기 전용 계정을 만듭니다. 그렇지 않으면 사전 확인에 실패합니다.
>
**원본 데이터베이스 배포 모드 및 액세스 유형의 교차 시나리오가 많기 때문에 다양한 시나리오에 대한 마이그레이션 단계는 유사합니다. 다음은 일반적인 시나리오에 대한 구성 예만 제공합니다. 다른 시나리오의 경우 예시를 참고하여 구성하십시오.**
**예시1**: Direct Connect를 통해 로컬 자체 구축 MongoDB 인스턴스(분할된 클러스터)를 TencentDB 인스턴스로 마이그레이션합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/c867347ff1dff2dc8643a13013c0f47f.png)
<table>
<thead><tr><th width="10%">설정 유형</th><th width="15%">설정 항목</th><th width="75%">설명</th></tr></thead>
<tbody>
<tr>
<td rowspan=2>작업 설정</td>
<td>작업 이름</td>
<td>쉬운 작업 식별을 위해 의미 있는 이름을 설정합니다.</td></tr>
<tr>
<td>실행 모드</td>
<td><ul><li>즉시 실행: 작업 확인 통과 직후 작업이 시작됩니다.</li><li>예약 실행: 작업 실행 시간을 설정하면 작업이 자동으로 시작됩니다.</li></ul></td></tr>
<tr>
<td rowspan=13>소스 라이브러리 설정</td>
<td>원본 데이터베이스 유형</td><td>구매 시 선택한 원본 데이터베이스 유형으로, 변경할 수 없습니다.</td></tr>
<tr>
<td>리전</td><td>구매 시 선택한 원본 데이터베이스 리전으로, 변경할 수 없습니다.</td></tr>
<tr>
<td>액세스 유형</td><td>시나리오에 따라 유형을 선택하십시오. 이 시나리오에서는 ‘Direct Connect’를 예로 듭니다. 다양한 액세스 유형에 대한 준비 작업은 <a href="https://intl.cloud.tencent.com/document/product/571/42652">준비 작업 개요</a>를 참고하십시오.
<ul><li>공용 네트워크: 원본 데이터베이스는 공용 IP를 통해 액세스할 수 있습니다.</li>
<li>CVM에서 자체 구축: 원본 데이터베이스가 <a href="https://intl.cloud.tencent.com/document/product/213">CVM 인스턴스</a>에 배포됩니다.</li>
<li>DC: 원본 데이터베이스는 <a href="https://intl.cloud.tencent.com/document/product/216">DC</a>를 통해 VPC와 상호 연결될 수 있습니다.</li>
<li>VPN 액세스: 원본 데이터베이스는 <a href="https://intl.cloud.tencent.com/document/product/1037">VPN 연결</a>을 통해 VPC와 상호 연결될 수 있습니다.</li>
<li>데이터베이스: 원본 데이터베이스는 TencentDB 데이터베이스입니다.</li>
<li>CCN: 원본 데이터베이스는 <a href="https://intl.cloud.tencent.com/document/product/1003">CCN</a>을 통해 VPC와 상호 연결할 수 있습니다.</li><li>VPC: 원본 및 타깃 데이터베이스 모두 Tencent Cloud에 배포되고 <a hrref="https://intl.cloud.tencent.com/document/product/215">VPC</a>가 있습니다.</li></ul></td></tr>
<tr>
<td>아키텍처</td><td>원본 데이터베이스의 아키텍처를 선택합니다. 여기서는 ‘클러스터 마이그레이션’을 예로 들어 설명합니다.</td></tr>
<tr>
<td>VPC 기반 전용 게이트웨이</td><td>VPC 기반 전용 게이트웨이만 지원됩니다. 게이트웨이와 연결된 네트워크 유형을 확인하십시오.</tr>
<tr>
<td>VPC</td><td>VPC 기반 전용 게이트웨이의 VPC 및 서브넷을 선택합니다.</td></tr>
<tr>
<td>노드 - mongod</td><td>mongod 노드의 IP와 포트를 입력하고 186.3.55.77:6379와 같이 줄 바꿈으로 여러 노드를 구분합니다.</td></tr>
<tr>
<td>노드 - mongos</td><td>mongos 노드의 IP와 포트를 입력합니다.</td></tr>
<tr>
<td>노드 - Config Server</td><td>Config Server 노드의 IP와 포트를 입력합니다.</td></tr>
<tr>
<td>인증 필요</td><td>원본 데이터베이스의 사용자 이름과 비밀번호 보안성 인증 여부를 선택합니다.</td></tr>
<tr>
<td>인증 데이터베이스</td><td>인증할 데이터베이스의 이름, 즉 admin과 같이 마이그레이션 작업을 실행하는 계정의 데이터베이스 이름입니다.</td></tr>
<tr>
<td>인증 메커니즘</td><td>현재 SCRAM-SHA-1이 지원됩니다.</td></tr>
<tr>
<td>계정 및 비밀번호 선택</td><td>원본 데이터베이스에 있는 mongod, mongos 및 Config Server의 세 노드가 동일한 계정 및 비밀번호를 가지고 있는 경우 ‘동일한 계정 및 비밀번호’를 선택하십시오. 그렇지 않으면 ‘다른 계정 및 비밀번호’를 선택하고 해당 계정과 비밀번호를 입력하십시오.</td></tr>
<tr>
<td rowspan=6>타깃 라이브러리 설정</td>
<td>타깃 데이터베이스 유형</td><td>타깃 데이터베이스 유형을 선택합니다. 설정 후에는 변경할 수 없습니다.</td></tr>
<tr>
<td>리전</td><td>구매 시 선택한 타깃 데이터베이스 리전으로, 변경할 수 없습니다.</td></tr>
<tr>
<td>액세스 유형</td><td>이 시나리오에서는 ‘데이터베이스’를 선택합니다.</td></tr>
<tr>
<td>데이터베이스 인스턴스</td><td>타깃 데이터베이스의 인스턴스 ID를 선택합니다.</td></tr>
<tr>
<td>계정</td><td>특정 권한이 있어야 하는 타깃 데이터베이스 계정입니다.</td></tr>
<tr>
<td>비밀번호</td><td>타깃 데이터베이스의 암호입니다.</td></tr>
</tbody></table>
<b>예시2</b>: 두 TencentDB 인스턴스 간에 마이그레이션합니다.
<img src="https://qcloudimg.tencent-cloud.cn/raw/7b7d3b493950ac63761a7389e42b8fac.png" >

<table>
<thead><tr><th width="10%">설정 유형</th><th width="15%">설정 항목</th><th width="75%">설명</th></tr></thead>
<tbody>
<tr>
<td rowspan=3>작업 설정</td>
<td>작업 이름</td>
<td>쉬운 작업 식별을 위해 의미 있는 이름을 설정합니다.</td></tr>
<tr>
<td>실행 모드</td>
<td><ul><li>즉시 실행: 작업 확인 통과 직후 작업이 시작됩니다.</li><li>예약 실행: 작업 실행 시간을 설정하면 작업이 자동으로 시작됩니다.</li></ul></td></tr>
<tr>
<td>태그</td>
<td>태그는 다양한 차원의 범주별로 리소스를 관리하는 데 사용됩니다. 기존 태그가 요구 사항을 충족하지 않는 경우 콘솔로 이동하여 추가로 생성하십시오.</td></tr>
<tr>
<td rowspan=7>원본 데이터베이스 설정</td>
<td>원본 데이터베이스 유형</td><td>구매 시 선택한 원본 데이터베이스 유형으로, 변경할 수 없습니다.</td></tr>
<tr>
<td>리전</td><td>구매 시 선택한 원본 데이터베이스 리전으로, 변경할 수 없습니다.</td></tr>
<tr>
<td>액세스 유형</td><td>원본 데이터베이스가 TencentDB 인스턴스인 경우 ‘데이터베이스’를 선택합니다. 다양한 액세스 유형에 대한 준비는 <a href="https://intl.cloud.tencent.com/document/product/571/42652">준비 작업 개요</a>를 참고하십시오.
<ul><li>공중망: 원본 데이터베이스는 공용 IP를 통해 액세스할 수 있습니다.</li>
<li>CVM에서 자체 구축: 원본 데이터베이스가 <a href="https://intl.cloud.tencent.com/document/product/213">CVM 인스턴스</a>에 배포됩니다.</li>
<li>DC: 원본 데이터베이스는 <a href="https://intl.cloud.tencent.com/document/product/216">DC</a>를 통해 VPC와 상호 연결될 수 있습니다.</li>
<li>VPN 액세스: 원본 데이터베이스는 <a href="https://intl.cloud.tencent.com/document/product/1037">VPN 연결</a>을 통해 VPC와 상호 연결될 수 있습니다.</li>
<li>데이터베이스: 원본 데이터베이스는 TencentDB 데이터베이스입니다.</li>
<li>CCN: 원본 데이터베이스는 <a href="https://intl.cloud.tencent.com/document/product/1003">CCN</a>을 통해 VPC와 상호 연결할 수 있습니다.</li><li>VPC: 원본 및 타깃 데이터베이스 모두 Tencent Cloud에 배포되고 <a hrref="https://intl.cloud.tencent.com/document/product/215">VPC</a>가 있습니다.</li></ul></td></tr>
<tr>
<td>교차/내부 계정</td><td>이 매개변수는 ‘TencentDB’가 액세스 유형으로 선택된 경우 구성해야 합니다. <ul><li>계정 내: 원본 및 타깃 데이터베이스 인스턴스는 동일한 Tencent Cloud 루트 계정에 속합니다. </li><li>교차 계정: 원본 및 타깃 데이터베이스 인스턴스가 서로 다른 Tencent Cloud 루트 계정에 속합니다.</li></ul></td></tr>
<tr>
<td>데이터베이스 인스턴스</td><td>원본 데이터베이스의 인스턴스 ID를 선택합니다.</td></tr>
<tr>
<td>계정</td><td>특정 권한이 있어야 하는 원본 MongoDB 데이터베이스의 계정입니다.</td></tr>
<tr>
<td>비밀번호</td><td>원본 MongoDB 데이터베이스의 비밀번호입니다.</td></tr>
<tr>
<td rowspan=6>타깃 라이브러리 설정</td>
<td>타깃 데이터베이스 유형</td><td>구매 시 선택한 타깃 데이터베이스 유형으로, 변경할 수 없습니다.</td></tr>
<tr>
<td>리전</td><td>구매 시 선택한 타깃 데이터베이스 리전으로, 변경할 수 없습니다.</td></tr>
<tr>
<td>액세스 유형</td><td>이 시나리오에서는 ‘데이터베이스’를 선택합니다.</td></tr>
<tr>
<td>데이터베이스 인스턴스</td><td>타깃 데이터베이스의 인스턴스 ID를 선택합니다.</td></tr>
<tr>
<td>계정</td><td>특정 권한이 있어야 하는 타깃 데이터베이스 계정입니다.</td></tr>
<tr>
<td>비밀번호</td><td>타깃 데이터베이스의 암호입니다.</td></tr>
</tbody></table>

<b>예시3</b>: ApsaraDB for MongoDB 인스턴스(분할된 클러스터)를 TencentDB 인스턴스로 마이그레이션합니다.
<table>
<thead><tr><th width="10%">설정 유형</th><th width="15%">설정 항목</th><th width="75%">설명</th></tr></thead>
<tbody>
<tr>
<td rowspan=2>작업 설정</td>
<td>작업 이름</td>
<td>쉬운 작업 식별을 위해 의미 있는 이름을 설정합니다.</td></tr>
<tr>
<td>실행 모드</td>
<td><ul><li>즉시 실행: 작업 확인 통과 직후 작업이 시작됩니다.</li><li>예약 실행: 작업 실행 시간을 설정하면 작업이 자동으로 시작됩니다.</li></ul></td></tr>
<tr>
<td rowspan=11>원본 라이브러리 설정</td>
<td>원본 데이터베이스 유형</td><td>구매 시 선택한 원본 데이터베이스 유형으로, 변경할 수 없습니다.</td></tr>
<tr>
<td>리전</td><td>구매 시 선택한 원본 데이터베이스 리전으로, 변경할 수 없습니다.</td></tr>
<tr>
<td>액세스 유형</td><td>타사 클라우드 데이터베이스의 경우 일반적으로 공중망를 선택하거나 VPN 액세스, 직접 연결 또는 CCN을 선택할 수 있습니다. 실제 네트워크 상태를 기준으로 선택합니다. 이 시나리오에서는 ‘공중망’을 예로 들어 설명합니다. 다양한 액세스 유형에 대한 준비는 <a href="https://intl.cloud.tencent.com/document/product/571/42652">준비 작업 개요</a>를 참고하십시오.
<ul><li>공용 네트워크: 원본 데이터베이스는 공용 IP를 통해 액세스할 수 있습니다.</li>
<li>CVM에서 자체 구축: 원본 데이터베이스가 <a href="https://intl.cloud.tencent.com/document/product/213">CVM 인스턴스</a>에 배포됩니다.</li>
<li>DC: 원본 데이터베이스는 <a href="https://intl.cloud.tencent.com/document/product/216">DC</a>를 통해 VPC와 상호 연결될 수 있습니다.</li>
<li>VPN 액세스: 원본 데이터베이스는 <a href="https://intl.cloud.tencent.com/document/product/1037">VPN 연결</a>을 통해 VPC와 상호 연결될 수 있습니다.</li>
<li>데이터베이스: 원본 데이터베이스는 TencentDB 데이터베이스입니다.</li>
<li>CCN: 원본 데이터베이스는 <a href="https://intl.cloud.tencent.com/document/product/1003">CCN</a>을 통해 VPC와 상호 연결할 수 있습니다.</li><li>VPC: 원본 및 타깃 데이터베이스 모두 Tencent Cloud에 배포되고 <a hrref="https://intl.cloud.tencent.com/document/product/215">VPC</a>가 있습니다.</li></ul></td></tr>
<tr>
<td>아키텍처</td><td>원본 데이터베이스의 아키텍처를 선택합니다. 여기서는 ‘클러스터 마이그레이션’을 예로 들어 설명합니다.</td></tr>
<tr>
<td>노드 - mongod</td><td>mongod 노드의 IP와 포트를 입력하고 186.3.55.77:6379와 같이 줄 바꿈으로 여러 노드를 구분합니다.</td></tr>
<tr>
<td>노드 - mongos</td><td>mongos 노드의 IP와 포트를 입력합니다.</td></tr>
<tr>
<td>노드 - Config Server</td><td>Config Server 노드의 IP와 포트를 입력합니다.</td></tr>
<tr>
<td>인증 필요 여부</td><td>원본 데이터베이스의 사용자 이름과 비밀번호 보안성 인증 여부를 선택합니다.</td></tr>
<tr>
<td>인증 데이터베이스</td><td>인증할 데이터베이스의 이름, 즉 admin과 같이 마이그레이션 작업을 실행하는 계정의 데이터베이스 이름입니다.</td></tr>
<tr>
<td>인증 메커니즘</td><td>현재 SCRAM-SHA-1이 지원됩니다.</td></tr>
<tr>
<td>계정 및 비밀번호 선택</td><td>원본 데이터베이스에 있는 mongod, mongos 및 config Server의 세 노드가 동일한 계정 및 비밀번호를 가지고 있는 경우 ‘동일한 계정 및 비밀번호’를 선택하십시오. 그렇지 않으면 ‘다른 계정 및 비밀번호’를 선택하고 해당 계정과 비밀번호를 입력하십시오.</td></tr>
<tr>
<td rowspan=6>타깃 라이브러리 설정</td>
<td>타깃 데이터베이스 유형</td><td>구매 시 선택한 타깃 데이터베이스 유형으로, 변경할 수 없습니다.</td></tr>
<tr>
<td>리전</td><td>구매 시 선택한 타깃 데이터베이스 리전으로, 변경할 수 없습니다.</td></tr>
<tr>
<td>액세스 유형</td><td>이 시나리오에서는 ‘데이터베이스’를 선택합니다.</td></tr>
<tr>
<td>데이터베이스 인스턴스</td><td>타깃 데이터베이스의 인스턴스 ID를 선택합니다.</td></tr>
<tr>
<td>계정</td><td>특정 권한이 있어야 하는 타깃 데이터베이스 계정입니다.</td></tr>
<tr>
<td>비밀번호</td><td>타깃 데이터베이스의 암호입니다.</td></tr>
</tbody></table>

4. 원본 인스턴스와 객체 인스턴스의 연결성을 테스트합니다.
연결 테스트가 실패하면 [Failed Connectivity Test](https://intl.cloud.tencent.com/document/product/571/47306)의 안내에 따라 문제를 해결합니다.
5. 마이그레이션 옵션 설정 및 마이그레이션 객체 페이지에서 마이그레이션 옵션과 마이그레이션 객체를 설정합니다(일부 샤딩 선택 가능).
<table>
<thead><tr><th>설정 항목</th><th>설명</th></tr></thead>
<tbody><tr>
<td>마이그레이션 유형</td>
<td>시나리오에 따라 유형을 선택하십시오. <ul><li>전체 마이그레이션: 전체 데이터베이스가 마이그레이션됩니다. 마이그레이션된 데이터는 작업이 시작될 때만 원본 데이터베이스의 기존 콘텐츠가 되지만 작업이 시작된 후 원본 데이터베이스에 기록된 증분 데이터는 포함되지 않습니다. </li><li>전체 + 증분 마이그레이션: 마이그레이션된 데이터에는 작업이 시작될 때 원본 데이터베이스의 기존 콘텐츠와 작업이 시작된 후 원본 데이터베이스에 기록된 증분 데이터가 포함됩니다. 마이그레이션 중에 원본 데이터베이스에 데이터 쓰기가 있고 논스톱 방식으로 원활하게 데이터를 마이그레이션하려면 이 옵션을 선택하십시오.</li></ul></td></tr>
<tr>
<td>객체 마이그레이션</td>
<td><ul><li>전체 인스턴스: role 및 사용자의 메타데이터 정의를 포함하지만 postgres의 시스템 객체와 같은 시스템 데이터베이스는 제외하고 전체 데이터베이스 인스턴스를 마이그레이션합니다.</li>
<li>지정된 객체: 지정된 객체를 마이그레이션합니다.</li></ul> </td></tr>
<tr>
<td>객체 지정</td>
<td>원본 데이터베이스 객체에서 마이그레이션할 객체를 선택하고 선택한 객체 상자로 이동합니다.</td></tr>
</tbody></table>

6. 작업 확인 페이지에서 사전 확인을 완료하고 **작업 시작**을 클릭합니다.
확인이 실패한 경우 [확인 실패 수정](https://intl.cloud.tencent.com/document/product/571/42552) 설명 대로 문제를 수정하고 확인 작업을 다시 시작합니다.
 - 실패: 확인 항목 실패로 작업이 차단되었음을 나타냅니다. 문제를 수정하고 확인 작업을 다시 실행해야 합니다.
 - 알람: 확인 항목이 요구 사항을 완전히 충족하지 못함을 나타내며, 작업을 계속할 수 있지만 비즈니스에 영향을 미칩니다. 알람을 무시할지 아니면 문제를 해결하고 계속할지 선택합니다.
7. 마이그레이션 작업 리스트로 돌아가 증분 동기화가 100% 완료된 후, **작업** 열에서 **완료**를 클릭하여 마이그레이션 작업을 완료합니다.
 - **구조적 마이그레이션** 또는 **전체 마이그레이션**을 선택합니다. 완료되면 작업이 자동 중지됩니다.
 - **전체 + 증분 마이그레이션** 선택: 전체 마이그레이션 완료 후 자동으로 증분 데이터 동기화를 진행하며, 증분 데이터 동기화는 자동 종료되지 않으므로 수동으로 **완료**를 클릭해 종료해야 합니다.
   - 증분 데이터 동기화를 수동으로 완료하고 비즈니스 전환을 수행할 적절한 시간을 선택합니다.
    - 마이그레이션 작업이 증분 동기화 단계에 있고 대기 시간이 없음을 알 수 있습니다. 몇 분 동안 원본 데이터베이스 쓰기를 중지하십시오.
    - 원본-타깃 데이터베이스 데이터 간격이 0MB이고 원본-타깃 데이터베이스 시간 지연이 0초인 경우 증분 동기화를 수동으로 완료합니다.
8. (옵션) 작업 조회, 삭제 등 작업을 수행하려면 해당 작업을 클릭하고 **작업** 열에서 해당 작업을 선택합니다. 자세한 내용은 [작업 관리](https://intl.cloud.tencent.com/document/product/571/42637)를 참고하십시오.
9. 마이그레이션 작업 상태가 **작업 성공**이 되면 정식으로 컷오버 할 수 있습니다. 자세한 내용은 [컷오버 설명](https://intl.cloud.tencent.com/document/product/571/42612)을 참고하십시오.

