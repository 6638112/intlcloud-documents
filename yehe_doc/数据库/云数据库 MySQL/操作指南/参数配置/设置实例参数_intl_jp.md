
[TencentDB for MySQLコンソール](https://console.cloud.tencent.com/cdb)  でパラメータの一部を確認、変更でき、また、コンソールでパラメータ変更履歴を問い合わせることもできます。

## 注意事項
- インスタンスの安定性を確保するために、コンソールでパラメーターの一部だけを変更できます。コンソールの[パラメータ設定]ページに表示されるパラメータは、ユーザーが変更できるパラメータです。
- 変更されたパラメータを有効にするためにインスタンスを再起動する必要がある場合は、再起動するかを確認するメッセージが表示されます。サービスのオフピーク時間帯に操作すること、及びアプリケーションに再接続メカニズムがあることを確認することをお勧めします。
- デフォルトの式に戻したい場合は、入力したパラメータの内容を空にして適用します。

## パラメータリストのパラメータの変更
### [パラメータの一括変更](id:plxgcs)
1. [MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、インスタンスリストのインスタンスIDまたは**操作**列の**管理**をクリックして、インスタンス管理ページに進みます。
2. **データベース管理** > **パラメータ設定**ページを選択し、**パラメータの一括変更**をクリックします。
![](https://main.qcloudimg.com/raw/82c535bd50543645831988ca2e9b688e.png)
3. **パラメータ運用値**列で、変更したいパラメータを選択して変更し、間違いがないか確認した後**変更を確認**をクリックします。
![](https://main.qcloudimg.com/raw/5307fbeef4b1fccef478ab7fd57b3167.png)
4. ポップアップしたダイアログボックスで、パラメータタスクの**実行方式**を選択し、**OK**をクリックします。
>?
>- **今すぐ実行**を選択すると、選択したインスタンスのパラメータ変更タスクが直ちに実行され、有効になります。
>- **メンテナンス時間帯**を選択すると、選択したインスタンスのパラメータ変更タスクがインスタンスの[メンテナンス時間](https://intl.cloud.tencent.com/document/product/236/10929)帯に実行され、有効になります。
>

### [単一パラメータの変更](id:xgdgcs)
1. [TencentDB for MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、インスタンスリストでインスタンスIDをクリックして、インスタンス管理ページに進みます。
2. **データベース管理** > **パラメータ設定**ページを選択し、目的のパラメータが存在する行を選択し、**パラメータ運用値**列で、<img src="https://main.qcloudimg.com/raw/788902e3f8c335cf17de420f7181c2a8.png"  style="margin:0;">をクリックしてパラメータ値を変更します。
![](https://main.qcloudimg.com/raw/4687ed705274b76ec92c43b7f9d448ab.png)
3. **変更可能なパラメータ値**列の表示に基づき、目的のパラメータ値を入力し、<img src="https://main.qcloudimg.com/raw/1f4c7f2e0744bc601efb5d9fb04a7a04.png"  style="margin:0;">をクリックして保存します。<img src="https://main.qcloudimg.com/raw/2106cb4b9337a1a2fff5908581d2a908.png"  style="margin:0;">をクリックすると操作をキャンセルできます。
![](https://main.qcloudimg.com/raw/41c7d73d4c5d404a112f54c3a63da726.png)
4. ポップアップしたダイアログボックスで、パラメータタスクの**実行方式**を選択し、**OK**をクリックします。
>?
>- **今すぐ実行**を選択すると、選択したインスタンスのパラメータ変更タスクが直ちに実行され、有効になります。
>- **メンテナンス時間帯**を選択すると、選択したインスタンスのパラメータ変更タスクがインスタンスの[メンテナンス時間](https://intl.cloud.tencent.com/document/product/236/10929)帯に実行され、有効になります。
>

## パラメータテンプレートをインポートしてパラメータを変更する
### 方法1：パラメータ設定ページからインポートする
1. [TencentDB for MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、インスタンスリストでインスタンスIDをクリックして、インスタンス管理ページに進みます。
2. **データベース管理** > **パラメータ設定**ページを選択し、**カスタムテンプレート**（これまでに常に使用するカスタムテンプレートを設定していない場合は、MySQLコンソールで、左側のナビゲーションバーのパラメータテンプレートからカスタムテンプレートを見つけ、テンプレートの作成をクリックすると、パラメータテンプレートを事前に設定することができます。その後、ステップ2でカスタムテンプレートからインポートできます）。
![](https://main.qcloudimg.com/raw/bd7a2fd3dc89895f1a3bd779d0fe8bbc.png)
3. ポップアップしたダイアログボックスで、パラメータテンプレートを選択し、**インポートして元のパラメータを上書きする**をクリックします。
![](https://main.qcloudimg.com/raw/2f649840f16befabea6259f9b4c7f47c.png)
4. パラメータを確認後、**変更を確認**をクリックします。
![](https://main.qcloudimg.com/raw/1673166256bc4d122f5a72c3c703ffab.png)
5. ポップアップしたダイアログボックスで、パラメータタスクの**実行方式**を選択し、**OK**をクリックします。
>?
>- **今すぐ実行**を選択すると、選択したインスタンスのパラメータ変更タスクが直ちに実行され、有効になります。
>- **メンテナンス時間帯**を選択すると、選択したインスタンスのパラメータ変更タスクがインスタンスの[メンテナンス時間](https://intl.cloud.tencent.com/document/product/236/10929)帯に実行され、有効になります。
>

### 方法2：パラメータ設定ファイルをインポートしてパラメータを変更する
1. [TencentDB for MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、インスタンスリストでインスタンスIDをクリックして、インスタンス管理ページに進みます。
2. **データベース管理** >**パラメータ設定**ページを選択し、**パラメータのインポート**をクリックします。
![](https://main.qcloudimg.com/raw/52d6f069bbce29c933254593d59c0236.png)
3. **ファイルを選択**をクリックして必要なパラメータファイルを見つけた後、**インポートして元のパラメータを上書きする**をクリックします。
![](https://main.qcloudimg.com/raw/42fb6ef8936131a3bc776e492478e745.png)
4. パラメータを確認後、**変更を確認**をクリックします。
5. ポップアップしたダイアログボックスで、パラメータタスクの実行方式を選択し、**OK**をクリックします。
>?
>- **今すぐ実行**を選択すると、選択したインスタンスのパラメータ変更タスクが直ちに実行され、有効になります。
>- **メンテナンス時間帯**を選択すると、選択したインスタンスのパラメータ変更タスクがインスタンスの[メンテナンス時間](https://intl.cloud.tencent.com/document/product/236/10929)帯に実行され、有効になります。


### 方法3：パラメータテンプレートページからインポートする
[インスタンスへのパラメータテンプレートの適用](https://intl.cloud.tencent.com/document/product/236/31906)をご参照ください。

## デフォルトテンプレートに戻す
1. [TencentDB for MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、インスタンスリストでインスタンスIDをクリックして、インスタンス管理ページに進みます。
2. **データベース管理** > **パラメータ設定**を選択し、**デフォルトテンプレート**をクリックすると、**高安定性テンプレート**または**高性能テンプレート**を選択できます。その後、**インポートして元のパラメータを上書きする**をクリックします。
![](https://qcloudimg.tencent-cloud.cn/raw/030f986ea488796d5c084cb97aec5d6b.png)
3. **変更を確認**をクリックすると、パラメータ変更確認ウィンドウに移動します。
![](https://qcloudimg.tencent-cloud.cn/raw/5ba2e9ba71f33211db43637e0aed8f37.png)
4. ポップアップしたダイアログボックスで、パラメータタスクの実行方式を選択し、**再起動ルール**を読んでチェックを入れ、**OK**をクリックします。
>?
>- **今すぐ実行**を選択すると、選択したインスタンスのパラメータ変更タスクが直ちに実行され、有効になります。
>- **メンテナンス時間帯**を選択すると、選択したインスタンスのパラメータ変更タスクがインスタンスの[メンテナンス時間](https://intl.cloud.tencent.com/document/product/236/10929)帯に実行され、有効になります。
>

## パラメータの式
インスタンスのパラメータ設定における式の使用をサポートしています。インスタンス仕様に関連するパラメータを式として設定し、インスタンス仕様に変更が生じた場合、ここに設定したパラメータ値が動的に変化し、変更後の仕様を引き続き適用できます。これにより、インスタンスを常に業務の実行に必要な最適な状態に維持することができます。

参考として、パラメータinnodb_buffer_pool_sizeで{DBinitMemory\*786432}を設定した場合、インスタンス仕様中のDBinitMemoryを変更すると、この中のパラメータ設定を変更しなくても、innodb_buffer_pool_sizeの値は自動的に変更されます。
![](https://qcloudimg.tencent-cloud.cn/raw/696a0d3be52c058124f7c678a18e6b27.png)

式構文に関するサポートについては、下表をご参照ください。

| サポートカテゴリー | サポート説明                                                     | サンプル                  |
| -------- | ------------------------------------------------------------ | --------------------- |
| 変数     | <li>DBinitMemory：インスタンス仕様のメモリサイズ、整数型。例えば、インスタンス仕様のメモリサイズが4000MBの場合、DBinitMemoryの値は4000です。<li>DBInitCpu：インスタンス仕様のCPUコアの数、整数型。TencentDB for MySQLのinnodb_buffer_pool_sizeパラメータの設定は、必ずメモリサイズの50%～90%に保つようにしてください。設定値が90%より大きい場合、自動的に90%に設定されます。設定値が50%未満の場合、自動的に50%に設定されます。 | {DBinitMemory * 786432}<br>すなわち、メモリサイズ(DBinitMemory)* パーセンテージ（システムデフォルトは75%）* 1024 * 1024（単位変換）|
| 演算子   | 式構文：`{}`パッケージを使用します。<li>除算演算子（/）：被除数を除数で除し、整数型の商を返します。計算結果が小数の場合、整数部分は切り捨てられます。小数はサポートされていません。例えば、システムは{MIN(DBInitMemory/4+500,1000000)}をサポートし、{MIN(DBInitMemory\*0.25+500,1000000)}をサポートしていません。 <li>乗算演算子(*)：2つの乗数を互いに乗じて、整数型の積を返します。計算結果が小数の場合、整数部分は切り捨てられます。小数演算はサポートしていません。 |   -                    |
| 関数     | <li>関数 MAX()、整数またはパラメータ式リストの最大値を返します。<li>関数 MIN()は、整数型またはパラメータ式リストの最小値を返します。</li> | {MAX(DBInitCpu/2,4)}  |


## パラメータ設定をファイルとしてエクスポートする
1. [TencentDB for MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、インスタンスリストでインスタンスIDをクリックして、インスタンス管理ページに進みます。
2. **データベース管理** > **パラメータ設定**ページを選択し、**パラメータのエクスポート**をクリックし、パラメータ設定ファイルをエクスポートします。
![](https://main.qcloudimg.com/raw/6885ffbc45f3154ed203551a309e1848.png)

## パラメータ設定をテンプレートとしてエクスポートする
1. [TencentDB for MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、インスタンスリストでインスタンスIDをクリックして、インスタンス管理ページに進みます。
2. **データベース管理** > **パラメータ設定**ページを選択し、**テンプレートとして保存**をクリックすると、現在のパラメータ設定をパラメータテンプレートとして保存することができます。
![](https://main.qcloudimg.com/raw/fca4ec16b316948af812db9988d0c92c.png)

## カスタム時間ウィンドウでパラメータを変更する
パラメータ変更の最後のステップを実行するとき、ポップアップダイアログボックスで、パラメータの変更時間をカスタマイズできます。
>?**メンテナンス時間帯**を選択すると、選択したインスタンスのパラメータ変更タスクがインスタンスの[メンテナンス時間](https://intl.cloud.tencent.com/document/product/236/10929)帯に実行され、有効になります。
>
![](https://main.qcloudimg.com/raw/00d4892fb614dd285cdec91a4a74cf2d.png)

## パラメータ変更タスクをキャンセルする
**メンテナンス時間帯**を選択してパラメータ変更タスクを送信した後、パラメータの変更をキャンセルしたい場合は、タスク実行前（タスクのステータスが**実行待ち**の場合）に、左側ナビゲーションバーの[**タスクリスト**](https://console.cloud.tencent.com/mysql/task)ページで**操作**列の**元に戻す**をクリックすると、パラメータ変更タスクをキャンセルすることができます。
![](https://main.qcloudimg.com/raw/566fd9374d0d59b38ceb99d310b782a9.png)

## パラメータ変更履歴を確認する
1. [TencentDB for MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、インスタンスリストでインスタンスIDをクリックして、インスタンス管理ページに進みます。
2. **データベース管理** > **パラメータ設定**ページを選択し、右側の**最近の変更履歴**をクリックします。
![](https://main.qcloudimg.com/raw/93494ebb3b80a6547f1c6fe7bcbf9c8a.png)
3. パラメータの変更履歴ページでは、最近のパラメータ変更履歴を確認できます。

## 後続の操作
- データベースパラメータテンプレートを使用して、データベースのパラメータ設定を一括管理できます。詳細については、[パラメータテンプレートの使用](https://intl.cloud.tencent.com/document/product/236/31906)をご参照ください。
- 重要なパラメーターの設定に関する提案については、[パラメーター設定に関する提案](https://intl.cloud.tencent.com/document/product/236/38056)をご参照ください。

