## 概要
Tencent Cloudは、さまざまなシナリオに対応する[クラシックネットワークとVirtual Private Cloud](https://intl.cloud.tencent.com/document/product/215/31807)を提供します。これに基づき、お客様がネットワークを管理しやすいよう、当社では以下の更なる柔軟なサービスを提供します。
- **ネットワーク間の切り替え**
  - 基本ネットワークからVPCへの切り替え：単一のクラウドデータベースマスターインスタンスの基本ネットワークからVPCへの切り替えをサポートします。
  - VPC AからVPC Bへの切り替え：単一のクラウドデータベースマスターインスタンスのVPC AからVPC Bへの切り替えをサポートします。
- **IPポートのカスタム設定**
 - マスターインスタンスIPのカスタマイズ：インスタンスの詳細画面で、マスターインスタンスのIPとポートのカスタマイズをサポートします。
 - 読み取り専用インスタンスIPのカスタマイズ：インスタンスの詳細画面で、読み取り専用インスタンスのIPとポートのカスタマイズをサポートします。

## 注意事項
- ネットワークを切り替えると、このインスタンスのプライベートネットワークIPが変更される場合があります。旧IPアドレスの回収時間を超えると、旧アクセスIPが無効になります。クライアントプログラムを速やかに変更してください。
旧IPアドレスの保留時間はデフォルトで24時間、最長保留時間は168時間までサポートしています。旧IPアドレスの回収時間を0時間に設定すると、ネットワークの切り替え後にすぐに旧IPアドレスが回収されます。
- クラシックネットワークからVPCに切り替えた後は不可逆となり、TencentDBインスタンスがVPCに切り替わった後、他のVPC及びクラシックネットワークのTencent Cloudサービスと相互に接続されません。
- マスターインスタンスのネットワークを切り替えた後、マスターインスタンスにマウントされた読み取り専用インスタンスまたは災害復旧インスタンスのネットワークは自動的に切り替えられません。つまり、ネットワークの切り替えは手動で行わなければなりません。

## 操作手順
### ネットワークの切り替え
1. [MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、インスタンスリストのインスタンスIDまたは**操作**列の**管理**をクリックし、インスタンス詳細ページに進みます。
2. インスタンスの基本情報の**所属ネットワーク**の後、ネットワーク間の切り替えのタイプに基づき、**VPCネットワークへの切り替え**または**ネットワークの切り替え**をクリックします。
3. ポップアップしたダイアログボックスで、VPCおよび対応するサブネットワークを選択し、**OK**をクリックします。
>?
>- IPアドレスが指定されていない場合、システムによって自動的にIPアドレスを割り当てます。
>- 宛先VPCは、MySQLインスタンスが配置されているリージョンのVPCネットワークしか選択できませんが、サブネットアベイラビリティーゾーンの選択を制限せず、サブネットアドレス範囲を表示することができます。
>- CVMが配置されているリージョンのVPCを選択することをお勧めします。そうでない場合、CVMはプライベートネットワークを通じてMySQLにアクセスすることができません（2つのVPC間で[Peering Connection](https://intl.cloud.tencent.com/document/product/553/18827) または[CCN]](https://intl.cloud.tencent.com/document/product/1003/30049)）を構築した場合を除く）。
>
   - **クラシックネットワークからVPCへの切り替え**
![](https://main.qcloudimg.com/raw/ba78ed608b83c2f553cb72350b726491.png)
   - **VPC間の切り替え**
![](https://qcloudimg.tencent-cloud.cn/raw/82c30b3269695e6428de87d2c2c06cc0.png)
4. インスタンスの詳細ページに戻ると、インスタンスが属するネットワークを確認することができます。


### IPポートのカスタマイズ
1. [MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、インスタンスリストのインスタンスIDまたは**操作**列の**管理**をクリックし、インスタンス詳細ページに進みます。
2. インスタンスの基本情報の**プライベートネットワークアドレス**、**プライベートネットワークポート**の後、<img src="https://main.qcloudimg.com/raw/788902e3f8c335cf17de420f7181c2a8.png"  style="margin:0;">をクリックします。
>!プライベートアドレスとポートを変更すると、アクセス中のデータベース業務に影響が出る場合があります。
3.ポップアップ・ウィンドウでIP、ポートをカスタマイズし、エラーがないことを確認し、**OK**をクリックします。
