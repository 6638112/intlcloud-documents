## Ikhtisar
TencentDB for MySQL dilengkapi dengan fitur enkripsi data transparan (TDE). Enkripsi transparan berarti enkripsi dan dekripsi data transparan bagi pengguna. TDE mendukung enkripsi I/O real-time dan dekripsi file data. Fitur ini mengenkripsi data sebelum ditulis ke disk, dan mendekripsi data saat dibaca ke memori dari disk, yang memenuhi persyaratan kepatuhan enkripsi data statis.

## Batas
- Versi database harus MySQL 5.7 atau 8.0.
- Key Management Service (KMS) harus diaktifkan. Untuk melakukannya, ikuti instruksi yang diberikan selama proses aktivasi TDE.
- Izin kunci KMS harus diberikan. Untuk melakukannya, ikuti instruksi yang diberikan selama proses aktivasi TDE.
- Akun Anda memerlukan izin `QcloudAccessForMySQLRole`. Untuk melakukannya, ikuti instruksi yang diberikan selama proses aktivasi TDE.
>?Kunci yang digunakan untuk enkripsi dibuat dan dikelola oleh [KMS](https://intl.cloud.tencent.com/document/product/1030/32774). TencentDB for MySQL tidak menyediakan kunci atau sertifikat yang diperlukan untuk enkripsi.
- Jika akun memiliki pembayaran yang terlambat, Anda tidak bisa mendapatkan kunci dari KMS, yang dapat menyebabkan migrasi instans dan tugas peningkatan gagal. Untuk informasi selengkapnya, lihat [Pemberitahuan Kedaluwarsa](https://intl.cloud.tencent.com/document/product/1030/31968).

## Catatan
- Setelah otorisasi dicabut, database MySQL tidak akan dapat diakses setelah dimulai ulang.
- Setelah mengaktifkan TDE, Anda tidak dapat menonaktifkannya.
- Setelah TDE diaktifkan, Anda perlu mendekripsi data sebelum Anda dapat mengembalikannya ke database lokal.
- TDE meningkatkan keamanan data statis sambil mengabaikan performa baca-tulis database terenkripsi. Oleh karena itu, harap gunakan fitur tersebut berdasarkan kebutuhan aktual Anda.
- Jika node master dikaitkan dengan instans pemulihan bencana, TDE harus diaktifkan pada node pemulihan bencana. Jika tidak, sinkronisasi data contoh pemulihan bencana mungkin gagal.
- Setelah TDE diaktifkan, saldo akun Anda harus lebih besar atau sama dengan nol. Jika tidak, migrasi instans mungkin gagal karena KMS tidak dapat diakses.
- Setelah TDE diaktifkan, akan menghabiskan lebih banyak sumber daya CPU.


## Petunjuk
### Mengaktifkan TDE
1. Login ke [konsol TencentDB for MySQL](https://console.cloud.tencent.com/cdb). Dalam daftar instans, klik ID instans atau **Manage** (Kelola) di kolom **Operation** (Operasi) untuk masuk ke halaman manajemen instans.
2. Pada tab **Data Encryption** (Enkripsi Data), aktifkan tombol beralih **Encryption Status** (Status Enkripsi).
>!
>- Instans dengan TDE diaktifkan tidak dapat dipulihkan dari cadangan fisik ke database yang dibuat sendiri di server lain.
>- Setelah mengaktifkan TDE, Anda tidak dapat menonaktifkannya.
>
![](https://main.qcloudimg.com/raw/bc032cee3e68506b77c044622e8c029f.png)
3. Di kotak dialog pop-up, aktifkan KMS, berikan izin kunci KMS, pilih kunci, lalu klik **Encrypt** (Enkripsi).
  - Jika Anda memilih **Use key auto-generated by Tencent Cloud** (Gunakan kunci yang dibuat secara otomatis oleh Tencent Cloud), kunci tersebut akan dibuat secara otomatis oleh Tencent Cloud.
    ![](https://main.qcloudimg.com/raw/d54abe36c8e392c09b39045f0b7a5b95.png)
  - Jika Anda memilih **Use existing custom key** (Gunakan kunci kustom yang ada), Anda dapat memilih kunci yang dibuat sendiri.
>?Jika tidak ada kunci kustom, klik **go to create** (langsung buat) untuk membuat kunci di konsol KMS. Untuk informasi selengkapnya, lihat [Membuat Kunci](https://intl.cloud.tencent.com/document/product/1030/31971).
>
![](https://main.qcloudimg.com/raw/39d442d9620f36c1d57b55a409e6f9e2.png)


### Mengenkripsi tabel
Setelah mengaktifkan TDE, Anda dapat mengenkripsi tabel instans MySQL dengan menjalankan contoh pernyataan DDL pada tabel.
- Untuk mengenkripsi tabel saat dibuat, jalankan pernyataan berikut:
```
CREATE TABLE t1 (c1 INT) ENCRYPTION=’Y’;
```
- Untuk mengenkripsi tabel yang ada, jalankan pernyataan berikut:
```
ALTER TABLE t1 ENCRYPTION=’Y’;
```

### Mendekripsi tabel
Setelah mengaktifkan TDE, Anda dapat mendekripsi tabel instans MySQL dengan menjalankan contoh pernyataan DDL pada tabel.
Untuk mendekripsi tabel terenkripsi, jalankan pernyataan berikut:
```
ALTER TABLE t1 ENCRYPTION=’N’;
```
