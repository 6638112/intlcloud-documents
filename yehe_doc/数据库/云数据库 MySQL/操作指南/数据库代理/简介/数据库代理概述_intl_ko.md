본문은 TencentDB for MySQL 데이터베이스 프록시의 새 버전에 대해 설명합니다.

데이터베이스 프록시는 TencentDB 서비스와 애플리케이션 서비스 간의 네트워크 프록시 서비스입니다. 애플리케이션 서비스가 데이터베이스에 액세스할 때 모든 요청을 프록시하는 데 사용됩니다.
데이터베이스 프록시 액세스 주소는 원래 데이터베이스 액세스 주소와 독립적입니다. 프록시 주소에 도착하는 요청은 모두 프록시 클러스터를 통해 릴레이되어 데이터베이스의 소스 및 복제본 노드에 액세스합니다. 읽기/쓰기 요청이 분리되어 읽기 요청이 읽기 전용 인스턴스로 전달되어 소스 데이터베이스의 부하를 낮춥니다. 이는 고가용성, 고성능 및 운영 지원을 구현합니다.
TencentDB for MySQL 데이터베이스 프록시는 또한 자동 읽기/쓰기 분리, 트랜잭션 분할, 연결 풀, 교차 AZ 읽기 전용 인스턴스 마운팅, 다중 프록시 주소 활성화와 같은 고급 기능을 제공합니다.

## 요금 설명
데이터베이스 프록시는 현재 베타 테스트 중이며 무료로 사용할 수 있습니다.

## 적용 시나리오
- 비즈니스에 비영구 연결이 많아 성능이 저하됩니다.
- 읽기/쓰기가 분리된 여러 읽기 전용 인스턴스를 사용하는 비즈니스는 애플리케이션에서 수동으로 구현되므로 유지 관리 비용과 리스크가 높아집니다.
- 지나치게 많은 연결 수로 인해 인스턴스의 부하가 과도히 높습니다.
- 트랜잭션의 많은 요청으로 인해 소스 인스턴스 부하가 높습니다.
- 다양한 비즈니스에 액세스 주소를 통해 서로 다른 부하를 할당해야 합니다.
- 교차 AZ 배포에서 액세스 대기 시간을 줄이기 위해 근거리 액세스가 필요합니다.

## 읽기-쓰기 속성
각 데이터베이스 프록시 주소는 고유한 읽기-쓰기 특성을 가질 수 있습니다.
- **읽기/쓰기**: 선형 비즈니스 확장을 구현하기 위해 읽기/쓰기 분리를 지원합니다.
이 속성에는 하나 이상의 소스 인스턴스와 하나의 읽기 전용 인스턴스가 포함되며 쓰기 요청은 소스 인스턴스에만 전송됩니다. 지연된 RO 인스턴스 제거, 최소 RO 인스턴스 및 장애 조치와 같은 정책뿐만 아니라 트랜잭션 분할 및 연결 풀과 같은 읽기/쓰기 분리 기능을 지원합니다.
- **읽기 전용**: 보고서와 같은 읽기 전용 비즈니스를 지원합니다.
이 속성에는 하나 이상의 읽기 전용 인스턴스가 포함되어 있으며 소스 인스턴스는 라우팅에 관여하지 않습니다. 트랜잭션 분할 및 연결 풀과 같은 기능과 지연된 RO 인스턴스 제거 및 최소 RO 인스턴스와 같은 정책을 지원합니다.

## 데이터베이스 프록시 특성
- **높은 안정성**
데이터베이스 프록시는 원활한 장애 조치를 보장하는 여러 노드와 함께 클러스터 아키텍처에 배포됩니다.
- **고가용성**
데이터베이스 프록시는 가용성을 향상시키기 위해 교차 AZ 배포를 채택합니다.
- **강한 격리성**
데이터베이스 프록시는 독립된 리소스를 사용하여 현재의 인스턴스에 프록시 서비스를 제공합니다(각 프록시 리소스는 독립적이며, 리소스를 공유하지 않습니다).
- **초고성능**
각 프록시는 초당 최고 10만여 개의 요청을 처리할 수 있습니다. 
- **간편하고 빠른 확장**
1 - 60개의 프록시 노드를 동적으로 추가할 수 있으며 베타 테스트 중에는 6개의 노드만 지원됩니다.
- **종합적인 성능 모니터링**
성능 메트릭은 읽기/쓰기 요청 수, CPU 및 메모리와 같은 두 번째 수준에서 모니터링됩니다. 프록시 개수는 [데이터베이스 프록시 모니터링 확인하기](https://www.tencentcloud.com/document/product/236/42055)에서 설명한 모니터링 데이터와 사업 계획에 따라 조정할 수 있습니다.
- **핫 리로드**
소스 인스턴스가 전환되거나, 구성 조정이 있거나, 읽기 전용 인스턴스가 추가 또는 제거된 경우 데이터베이스 프록시는 네트워크 연결 끊김이나 재시작 없이 구성을 동적으로 핫 리로드할 수 있습니다.
- **자동 읽기/쓰기 분리**
데이터베이스 프록시 주소의 읽기/쓰기 속성을 활성화하면 소스 인스턴스의 읽기 부하를 효과적으로 줄일 수 있습니다. 읽기 전용 인스턴스를 추가하여 데이터베이스 클러스터를 수평으로 확장하고 읽기/쓰기 분리를 자동으로 구현하여 비즈니스의 읽기 및 쓰기 요청을 수동으로 분리하는 복잡성을 제거할 수 있습니다. 이는 읽기 부하가 높은 시나리오에 특히 적합합니다.
예를 들어 애플리케이션에서 하나의 프록시 연결 주소만 구성하면 되며(읽기-쓰기 특성이 읽기/쓰기 분리로 설정된 경우) 이 주소는 자동으로 읽기/쓰기 분리를 구현하고 읽기 전용 인스턴스에 읽기 요청을 보내고 소스 인스턴스에 쓰기 요청을 보냅니다. 읽기 전용 인스턴스를 추가하거나 제거하더라도 애플리케이션 설정을 조정할 필요가 없습니다.
- **연결 풀**
이 기능은 비지속적 연결 비즈니스에서 너무 많은 연결 또는 빈번한 새 연결로 인해 발생하는 과도하게 높은 인스턴스 부하를 완화할 수 있습니다.
- **트랜잭션 분할**
이 기능은 하나의 트랜잭션에서 읽기와 쓰기를 다른 인스턴스로 분리하여 실행하고 읽기 요청을 읽기 전용 인스턴스로 전달하여 소스 인스턴스의 부하를 줄입니다.

## 기능 페이지
![](https://staticintl.cloudcachetci.com/yehe/backend-news/QNE2634_8.png)

