본문은 프록시 사양, AZ 및 노드 수량을 포함하여 콘솔에서 데이터베이스 프록시 구성을 조정하는 방법을 설명합니다.

## 전제 조건
[데이터베이스 프록시 활성화](https://intl.cloud.tencent.com/document/product/236/42052)가 완료되어 있어야 합니다.

## 주의 사항
- 데이터베이스 프록시의 버전이 오래된 경우 구성 조정 중에 데이터베이스 프록시가 자동으로 최신 버전으로 업그레이드됩니다.
- 선택한 프록시와 원본 인스턴스가 동일한 AZ에 있지 않고 프록시를 통해 인스턴스에 액세스하면 쓰기 성능이 저하됩니다.
- 계산한 권장 프록시 노드 수가 최대 구매 가능 수량을 초과하는 경우 더 높은 프록시 노드 사양을 선택하십시오.
- 해당 리전의 리소스가 충분한 경우 최대 3개의 AZ를 선택할 수 있으며 최소 하나의 AZ(첫 번째 행에 있는 것)를 유지해야 합니다.

## 영향 설명
다른 구성 항목을 변경하면 다른 영향을 미치며, 그 중 일부는 일시적인 연결 해제를 일으키지 않지만 일부는 연결을 해제합니다. 구체적인 변경 항목과 영향은 다음과 같습니다.
**시나리오1: 프록시 사양을 변경하지만 AZ 또는 노드 수량은 변경하지 않습니다**.

<table>
<thead><tr><th>프록시 사양</th><th>AZ</th><th>노드 수량</th><th>로드 밸런싱 모드</th><th>전환 시간</th><th>영향</th></tr></thead>
<tbody>
<tr>
<td rowspan="4">업그레이드 또는 다운그레이드</td><td rowspan="4">변경되지 않음</td><td rowspan="4">변경되지 않음</td><td rowspan="2">자동</td><td>점검 시간 내</td><td rowspan="4">몇 초 동안 일시적인 연결 끊김이 발생합니다. 비즈니스에 재연결 메커니즘이 있는지 확인하십시오.</td></tr>
<td>업그레이드 완료 시</td></tr>
<td rowspan="2">수동</td><td>점검 시간 내</td></tr>
<td>업그레이드 완료 시</td></tr>
</tbody></table>	

**시나리오2: 노드 수량을 변경하지만 프록시 사양 또는 AZ는 변경하지 않습니다**.
<table>
<thead><tr><th>프록시 사양</th><th>AZ</th><th>노드 수량</th><th>로드 밸런싱 모드</th><th>전환 시간</th><th>영향</th></tr></thead>
<tbody>
<tr>
<td rowspan="7">변경되지 않음</td><td rowspan="7">변경되지 않음</td><td rowspan="3">증가됨</td><td rowspan="2">자동</ td><td>점검 시간 내</td><td rowspan="2">몇 초 동안 일시적인 연결 끊김이 발생합니다. 비즈니스에 재연결 메커니즘이 있는지 확인하십시오.</td></tr>
<td>업그레이드 완료 시</td></tr>
<td>수동</td><td>-</td><td>일시적인 연결 끊김이 없습니다.</td></tr>
<td rowspan="4">감소</td><td rowspan="2">자동</td><td>점검 시간 내</td><td rowspan="4">몇 초 동안 일시적인 연결 끊김이 발생합니다. 비즈니스에 재연결 메커니즘이 있는지 확인하십시오.</td></tr>
<td>업그레이드 완료 시</td></tr>
<td rowspan="2">수동</td><td>점검 시간 내</td></tr>
<td>업그레이드 완료 시</td></tr>
</tbody></table>

**시나리오3: AZ 및 노드 수량을 변경하지만 프록시 사양은 변경하지 않습니다**.
<table>
<thead><tr><th>프록시 사양</th><th>AZ</th><th>노드 수량</th><th>로드 밸런싱 모드</th><th>전환 시간</th><th>영향</th></tr></thead>
<tbody>
<tr>
<td rowspan="23">변경되지 않음</td><td rowspan="7">증가</td><td rowspan="3">증가</td><td rowspan="2">자동</td><td>점검 시간 내</td><td rowspan="2">몇 초 동안 일시적인 연결 끊김이 발생합니다. 비즈니스에 재연결 메커니즘이 있는지 확인하십시오.</td></tr>
<td>업그레이드 완료 시</td></tr>
<td>수동</td><td>-</td><td>일시적인 연결 끊김이 없습니다.</td></tr>
<td rowspan="4">감소</td><td rowspan="2">자동</td><td>점검 시간 내</td><td rowspan="20">몇 초 동안 일시적인 연결 끊김이 발생합니다. 비즈니스에 재연결 메커니즘이 있는지 확인하십시오.</td></tr>
<td>업그레이드 완료 시</td></tr>
<td rowspan="2">수동</td><td>점검 시간 내</td></tr>
<td>업그레이드 완료 시</td></tr>
<td rowspan="8">감소</td><td rowspan="4">증가</td><td rowspan="2">자동</td><td>점검 시간 내</td></tr>
<td>업그레이드 완료 시</td></tr>
<td rowspan="2">수동</td><td>점검 시간 내</td></tr>
<td>업그레이드 완료 시</td></tr>
<td rowspan="4">감소</td><td rowspan="2">자동</td><td>점검 시간 내</td></tr>
<td>업그레이드 완료 시</td></tr>
<td rowspan="2">수동</td><td>점검 시간 내</td></tr>
<td>업그레이드 완료 시</td></tr>
<td rowspan="8">변경</td><td rowspan="4">증가</td><td rowspan="2">자동</td><td>점검 시간 내</td></tr>
<td>업그레이드 완료 시</td></tr>
<td rowspan="2">수동</td><td>점검 시간 내</td></tr>
<td>업그레이드 완료 시</td></tr>
<td rowspan="4">감소</td><td rowspan="2">자동</td><td>점검 시간 내</td></tr>
<td>업그레이드 완료 시</td></tr>
<td rowspan="2">수동</td><td>점검 시간 내</td></tr>
<td>업그레이드 완료 시</td></tr>
</tbody></table>

## 작업 단계
1. [MySQL 콘솔](https://console.cloud.tencent.com/cdb)에 로그인한 후, 위의 리전을 선택하고 대상 인스턴스 ID를 클릭하여 인스턴스 관리 페이지로 이동합니다.
2. 인스턴스 관리 페이지에서 **데이터베이스 프록시** 탭을 선택합니다.
3. **데이터베이스 프록시** 탭의 **개요** 탭에서 **기본 정보** > **노드 수량**을 선택하고 **구성 조정**을 클릭합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/f558c0dfbaa3f7686f397751749319ed.png)
4. 팝업창에서 데이터베이스 프록시의 프록시 사양, AZ, 노드 수량을 필요에 따라 수정하고 **확인**을 클릭합니다.
![](https://qcloudimg.tencent-cloud.cn/raw/efe6bb6da5af0df4a90cf52a6ed4486e.png)
5. 데이터베이스 프록시 탭의 **기본 정보**에서 작업 상태가 **업그레이드 중**에서 **실행 중**으로 변경되면 구성 조정이 완료됩니다.
>?
>- 업그레이드 완료 시 전환을 선택하면 구성이 조정된 후 시스템이 자동으로 새 구성으로 전환됩니다.
>- 점검 시간 내 전환을 선택하면 구성 조정 후 지정된 점검 시간 내에 시스템이 구성을 전환합니다.
>- 점검 시간 내 전환을 선택했지만 업무상 필요에 따라 더 일찍 구성을 전환해야 하는 경우, 구성이 조정된 후 데이터베이스 프록시 페이지에서 **개요** > **기본 정보** > **상태 / 작업**으로 이동하여 전환 대기 후 **지금 완료**(업그레이드 후)를 클릭할 수 있습니다.
>- 구성 조정 후 수동 재조정을 선택한 경우 구성 조정 후 **데이터베이스 프록시** 탭의 **개요** > **연결 주소**에서 작업을 수행합니다.

