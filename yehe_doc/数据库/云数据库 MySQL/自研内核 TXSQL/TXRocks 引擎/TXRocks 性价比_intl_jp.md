TXRocksの性能はInnoDBに近いですが、LSM Treeストレージ構造により、InnoDBページの半分格納と断片化の無駄が削減され、InnoDBによりもTXRocksのほうがストレージ容量を節約できるため、優れたコストパフォーマンスを実現できます。

## 背景情報
TencentDB製品の中で、TXRocksはInnoDBの重要な補足で、性能が近いということを基礎として、TXRocksは部分的な最適化と改善が行われ、ストレージ空間について、InnoDBよりもさらに節約します。以下はスペース占有と性能面から2つのエンジンを比較します。

## TXRocksのスペース占有はInnoDBよりも少ない
![](https://qcloudimg.tencent-cloud.cn/raw/9a25d5d5f89ea06cd60790873d2c8eef.png)
**テストシナリオ**：どちらのストレージエンジンもデフォルトの設定を使用し、SysBenchのデフォルトのテーブル構造を使用します。各テーブルには80万レコードが含まれ、合計テーブル数は4から512に増加しています。
上の図はテスト条件でTXRocksとInnoDBストレージエンジンをそれぞれ使用した場合のスペース占有状況を示し、左側はInnoDBとTXRocksストレージエンジンを使用した場合のハードディスクの使用状況を示しています。
実測データによると、データ量が徐々に増加するにつれて、TXRocksエンジンのハードドライブの消費量はさらに緩やかになり、より多くのスペースを節約し、最大でInnoDBの42.71%しかありませんでした。プレフィックスの重複率が高いデータを記録する場合、TXRocksのほうは圧縮率が高く、ストレージ・コスト・パフォーマンスに優れています。

## TXRocksの性能がInnoDBとほぼ同じ
![](https://qcloudimg.tencent-cloud.cn/raw/edc342ca0973e20e4d96ef88a8477b89.png)
**テストシナリオ**：インスタンス8コア32GBシナリオ、6つのテーブル500万のデータ、各テストはリスタート後のコールドスタートテストであり、1caseあたり1200秒実行します。
上の図はテストシナリオ条件でTXRocksとInnoDBのストレージエンジンをそれぞれ使用した場合の性能比較であるが、比較するとTXRocksとInnoDBの性能が近いことが分かります。
**sysbenchコマンドのキーパラメータ**：
```
sysbench --table-size=5000000 --tables=6 --threads=32 --time=1200
```

## まとめ
TXRocksは、InnoDBと同様のパフォーマンスを発揮しますが、省スペースのTencentDB for MySQLストレージエンジン製品です。ビジネスパフォーマンスのニーズを保証するとともにストレージ・コストを削減することができます。TXRocksの詳細については、[TXRocksの概要](https://intl.cloud.tencent.com/document/product/236/47015)をご参照ください。
