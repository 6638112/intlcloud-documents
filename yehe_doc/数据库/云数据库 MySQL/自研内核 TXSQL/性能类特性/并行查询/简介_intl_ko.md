TencentDB for MySQL은 병렬 쿼리를 지원합니다. 이 기능이 활성화 된 후에는 큰 쿼리를 자동으로 식별 할 수 있습니다. 병렬 쿼리 기능은 다중 컴퓨팅 코어를 활용하여 큰 쿼리의 응답 시간을 크게 단축시킵니다.

## 개념
병렬 쿼리(Parallel Query, PQ)는 쿼리 작업을 완료하는 데 더 많은 컴퓨팅 리소스를 사용합니다. 기존의 쿼리 방법은 일반적으로 소량의 데이터(수백 GB)에 대해서는 상대적으로 친숙하지만, 비즈니스가 성장함에 따라 데이터 양은 많은 경우에 TB 수준에 이르러 전통적인 데이터베이스의 처리 능력을 초과합니다. 병렬 쿼리는 이러한 문제를 해결하기 위해 설계되었습니다. 병렬 쿼리 도중에 데이터는 스토리지 레이어에서 서로 다른 스레드로 분산되며, 단일 노드의 여러 스레드가 병렬로 데이터를 처리하고, 결과 파이프라인은 주 스레드로 집계되며, 주 스레드는 간단한 병합을 수행하고 결과를 반환합니다. 이는 쿼리 효율을 크게 향상시킵니다.

## 기능 배경
TencentDB for MySQL는 컴퓨팅, 저장, 재해 복구 및 탄력적인 확장 측면에서 기존 MySQL 데이터베이스를 뛰어넘지만, 아래와 같은 과제에 여전히 직면하고 있습니다.
- 인터넷이 발전함에 따라 데이터베이스는 데이터를 보다 많이 저장할 수 있게 되었고, 형식은 점점 더 많은 데이터를 운반하게 됩니다. 대용량 테이블 쿼리에 대해서는 기존의 기술적 병목 현상으로 인해 SQL 문이 느려지는 경향이 있어 비즈니스 프로세스에 부정적인 영향을 미칩니다.
- 현재 시장 환경에서는 보고서 통계 및 기타 분석적 쿼리가 점점 더 많아지고 있습니다. 이러한 쿼리들은 쿼리 시간에 민감하며, 수가 적더라도 대용량의 데이터가 포함되어 있습니다. 점차적으로 데이터 분석 능력, 특히 이질적인 데이터 처리는 필수적인 요구사항이 되었습니다.

상기 과제들은 MySQL 에코시스템에서 전통적인 기술 구현 방식 때문에 발생합니다. 특히, 오픈 소스 버전에서는 단일 스레드 쿼리 모드만 지원되며, 하나의 스레드(사용자 스레드라고 함)만 SQL 문의 구문 분석, 최적화 및 실행을 담당합니다. 이 모드는 최신 멀티코어 CPU 및 대용량 메모리 장치의 하드웨어 리소스를 충분히 활용할 수 없어 리소스 낭비를 초래합니다.

따라서 많은 양의 데이터 쿼리에서 멀티 코어 서비스를 사용하여 분석을 간소화하고 성능을 향상시키는 것이 중요하며, 이는 쿼리 가속, 비용 절감 및 효율성 개선의 핵심이기도 합니다.

## 기능 장점
- ** 추가 비용 없이 성능 향상**: 추가 비용 없이 커널 기능을 업그레이드하여 인스턴스 CPU 계산을 최대한 활용하여 더 빠른 명령 응답과 더 높은 컴퓨팅 성능을 얻을 수 있습니다.
- **일반적인 명령 지원**: 대부분의 일반 SQL 명령을 거의 모든 비즈니스 시나리오에서 사용할 수 있습니다. 이를 통해 비즈니스를 원활하게 가속화할 수 있습니다.
- **유연한 매개변수 설정**: 병렬 쿼리를 활성화하거나 비활성화할 조건을 제어하는 데 많은 매개변수를 사용할 수 있습니다. 이를 통해 비즈니스 시나리오에 적용할 수 있으며, 변환 없이 쿼리를 더 스마트하게 수행할 수 있습니다.
