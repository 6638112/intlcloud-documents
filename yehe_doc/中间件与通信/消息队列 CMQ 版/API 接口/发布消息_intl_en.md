## API Description

This API is used to publish a message to a specified topic.

The public/private domain names for API requests can be copied from **Topic Model** > **API Request Address** in the [TDMQ for CMQ console](https://console.intl.cloud.tencent.com/tdmq). A sample address is as follows:
- Public network address: `https://cmq-gz.publicXXX.tencenttdmq.com`
- Private network address: `http://gz.mqadapter.cmq.tencentyun.com`


>!
>- The API call URL varies by region.
>- Whenever downstream traffic is generated from using the public domain name, traffic fees will be charged (even during the beta test period). Therefore, we strongly recommend you use the **private** domain name to avoid traffic fees.


## Input Parameters

The list below contains only the API request parameters. Other parameters can be found in [Common Request Parameters](https://intl.cloud.tencent.com/document/product/1111/46459).

| Parameter | Required | Type | Description |
|---------|---------|---------|---------|
| topicName| Yes | String| Topic name, which must be unique in the same topic under the same account in the same region. It can contain up to 64 letters, digits, and hyphens and must begin with a letter. |
| msgBody | Yes | String | Message body, which must be 1 byte at least. The maximum length is subject to the configured max message size attribute. |
| msgTag.n | No | String | Message filter tag (used for message filtering). The number of tags cannot exceed five, and each tag can contain up to 16 characters. This parameter is used in conjunction with the `filterTag` parameter of the [Subscribe](https://intl.cloud.tencent.com/document/api/1110/45168) API. Rules: <br>(1) If `filterTag` is not configured, no matter whether `msgTag` is configured, the subscription will receive all messages published to the topic;<br>(2) If the `filterTag` array has a value, only when at least one of the values in the array also exists in the `msgTag` array (i.e., `filterTag` and `msgTag` have an intersection) can the subscription receive messages published to the topic; <br>(3) If the `filterTag` array has a value, but `msgTag` is not configured, then no messages published to the topic will be received, which can be considered as a special case of rule 2 because `filterTag` and `msgTag` do not intersect in this case. The overall design idea of rules is based on the intention of the subscriber. |
| routingKey | No | String | This parameter can contain up to 64 bytes to represent the route for message sending. It can have up to 15 dots (namely up to 16 segments). <br>When a message is sent to an exchange of the topic type, the specified `routingKey` must meet the format requirements as described above. A message with a `routingkey` specified by the subscriber will be pushed to all consumers that match the `BindingKey`. There are two matching relationships: <br>1. \* (asterisk) represents a word (a letter string); <br>2. # (hashtag) matches one or multiple characters. |


## Output Parameters

| Parameter | Type | Description |
|---------|---------|---------|
| code | Int | 0: Success. others: Error. For more information, see [Common Error Codes](https://intl.cloud.tencent.com/document/product/1111/46458). |
| message | String | Error message. |
| requestId | String| Request ID generated by the server, which can be submitted to the backend for troubleshooting when an internal server error occurs. |
| msgId | String | Unique ID of the message generated by the server. |

## Error Codes
For more information, see [Common Error Codes](https://intl.cloud.tencent.com/document/product/1111/46458).


## Samples

Input:

```
https://domain/v2/index.php?Action=PublishMessage
&topicName=test-topic-123
&msgBody=helloworld
&<Common request parameters>

```

Output:

```
{
"code" : 0,
"message" : "",
"requestId":"14534664555",
"msgId":"123345346"
}
```
