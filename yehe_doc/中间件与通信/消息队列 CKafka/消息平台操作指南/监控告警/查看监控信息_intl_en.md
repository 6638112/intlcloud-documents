## Overview

CKafka allows you to monitor the resources created under your account, such as instances, topics, and consumer groups, so that you can keep track of the status of your resources in real time and troubleshoot possible issues to ensure stable business operations.

This document describes how to view monitoring metrics and their descriptions in the CKafka console.

## Directions

1. Log in to the [CKafka console](https://console.cloud.tencent.com/ckafka).
2. In the instance list, click the **ID/Name** of the target instance to enter the instance details page.
3. At the top of the instance details page, Click **Monitor**, select resource tags, and set the time range to view the monitoring data about the instance.


### Monitoring information display

> ?You can click the following tabs to view the monitoring data of instances, topic, and consumer groups.

<dx-tabs>
::: Instance
![](https://main.qcloudimg.com/raw/d37b3b60346ad1c69533478109fb04d2.png)
:::
::: Topic
After selecting a partition, you can view its monitoring data.
![](https://main.qcloudimg.com/raw/8060fed44eb38eb2f0eb3b0fb9e9171d.png)

If you don't select a partition, the current monitoring data at the topic level will be displayed.
![](https://main.qcloudimg.com/raw/8060fed44eb38eb2f0eb3b0fb9e9171d.png)
:::
::: Consumer\sGroup
**Consumer group - topic monitoring**
![](https://main.qcloudimg.com/raw/377865e2102df5de14adcfcec0b3c5c0.png)
**Consumer group - partition monitoring:**
![](https://qcloudimg.tencent-cloud.cn/raw/f74040fbc37396d4fed8f9d2799be045.png)
:::
</dx-tabs>



### Descriptions of metrics

The following lists the CKafka monitoring metrics and their description. Based on user feedback and statistics, we recommend you configure monitoring and alarming policies for metrics marked with the word **recommended**. Configure policies properly as needed.
<dx-tabs>
::: Instance

| Monitoring Metric | Description |
| --------------------------------- | ------------------------------------------------------------ |
| Instance disk usage (MB)                     | Instance disk usage (including replicas), which is the latest value in the selected time period. |
| Disk Utilization (%) **(recommended)** | Ratio of the currently used disk capacity to the total disk capacity of the instance in percentages. |
| Number of connections (Count) **(recommended)** | Number of connections between clients and servers in the cluster. |
| Maximum production traffic in instance (MB) **(recommended)** | Instance message production bandwidth peak (excluding traffic generated by replicas). This is the basis for calculating the production bandwidth utilization in the instance.              |
| Maximum consumption traffic in instance (MB) **(recommended)** | Instance message consumption bandwidth peak (there is no concept of replica for consumption). This is the basis for calculating the consumption bandwidth utilization in the instance.              |
| Instance consumption bandwidth percentage (%)                  | Ratio of the instance consumption bandwidth to the quota.                                    |
| Instance consumption throttling occurrences (Count)                    | Number of instance consumption throttling occurrences. |
| Instance production bandwidth percentage (%)                  | Ratio of the instance production bandwidth to the quota.                                    |
| Instance production throttling occurrences (Count)              | Number of instance production throttling occurrences.                                           |
| Messages stored in instance (Count)          | Total number of stored messages in the instance (excluding those produced by replicas), which is the latest value in the selected time period. |
| Instance consumption traffic (MB)                       | Consumption traffic of the instance (excluding traffic generated by replicas), which is the total traffic in the selected time period. |
| Messages produced in instance (Count)              | Number of messages produced in the instance, which is the total number of messages in the selected time period.             |
| Instance production traffic (MB) | Production traffic of the instance (excluding traffic generated by replicas), which is the total traffic in the selected time period. |
| Messages consumed in instance (Count)              | Number of messages consumed in the instance, which is the total number of messages in the selected time period.             |

:::
::: Topic

**Topic monitoring**


| Monitoring Metric | Description |
| ------------------------------------ | ------------------------------------------------------------ |
| Maximum production traffic (MB/sec) | Maximum production traffic in topic (excluding replica traffic). |
| Maximum consumption traffic (MB/sec)             | Maximum consumption traffic in topic.                                         |
| Number of consumed messages (Count) | Number of messages consumed in the topic, which is the total number of messages in the selected time period. |
| Consumption traffic (MB) | Consumption traffic in the topic (excluding traffic generated by replicas), which is the total traffic in the selected time period. |
| Used disk capacity (MB) **(recommended)** | Total size of messages in the topic (excluding those produced by replicas) that actually use disk capacity, which is the latest value in the selected time period. |
| Number of produced messages (Count) | Number of messages produced in the topic, which is the total number of messages in the selected time period. |
| Production traffic (MB) | Production traffic in the topic (excluding traffic generated by replicas), which is the total traffic in the selected time period. |
| Number of persisted messages (Count) | Total number of stored messages in the topic (excluding those produced by replicas), which is the latest value in the selected time period. |
| Topic consumption throttling occurrences (Count/sec)          | Number of topic consumption throttling occurrences, which is the total number of occurrences in the selected time period. |
| Topic production throttling occurrences (Count/sec)          | Number of topic production throttling occurrences, which is the total number of occurrences in the selected time period. |


**Topic - partition monitoring**


| Monitoring Metric | Description |
| ------------------------- | ------------------------------------------------------------ |
| Number of consumed messages (Count) | Number of messages consumed in the partition, which is the total number of messages in the selected time period. |
| Consumption traffic (MB) | Consumption traffic in the partition (excluding traffic generated by replicas), which is the total traffic in the selected time period. |
| Number of persistent messages (Count) | Total number of messages of the partition stored in disks (excluding those produced by replicas), which is the latest value in the selected time period. |
| Used disk capacity (MB) | Total size of messages in the partition (excluding those produced by replicas) that actually use disk capacity, which is the latest value in the selected time granularity. |
| Number of produced messages (Count) | Actual number of messages produced in the partition, which is the total number of messages in the selected time period. |
| Production traffic (MB) | Production traffic in the partition (excluding traffic generated by replicas), which is the total traffic in the selected time period. |

:::                 
::: Consumer\sGroup        


**Consumer group - topic monitoring** 



| Monitoring Metric | Description |
| ------------------------------------- | ------------------------------------------- |
| Maximum offset | Maximum offset in all partitions of the topic. |
| Consumption offset | Maximum consumption offset of consumer groups in all partitions of the topic. |
| Number of unconsumed messages (Count) | Total number of messages not consumed by the consumer group in all partitions of the topic. |
| Consumption speed (Count/min) | Total number of messages consumed by consumer groups from all partitions in the topic per second. |



**Consumer group - partition monitoring:**



| Monitoring Metric | Description |
| ---------------------------------- | --------------------------------------- |
| Consumption speed (Count/min) | Number of messages consumed by consumer groups in the partition per second. |
| Current consumption offset | Current consumption offset of consumer groups in the partition |
| Max offset for current partition | Maximum offset in the partition |
| Number of unconsumed messages (Count) **(recommended)** | Number of messages not consumed by consumer groups in the partition  |

:::                             
</dx-tabs>               

For more information on the metric names and descriptions, see [Topic Monitoring Metrics](https://intl.cloud.tencent.com/document/product/248/17296).

### CKafka monitoring API documentation

For more information on CKafka monitoring APIs, see:

- [Topic Monitoring Metrics](https://intl.cloud.tencent.com/document/product/248/17296)
- [Instance Monitoring Metrics](https://intl.cloud.tencent.com/document/product/248/17297) 
- [Consumer Group Monitoring Metrics](https://intl.cloud.tencent.com/document/product/248/17298)
