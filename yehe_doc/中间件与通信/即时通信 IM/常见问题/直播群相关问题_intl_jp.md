### 自ら送信したメッセージ`Message.nick`と`Message.avatar`は空です。ニックネームとプロファイル画像を画面に正常に表示するにはどうすればいいですか。

[getMyProfile](https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#getMyProfile)を呼び出して、自分のニックネームとプロファイル画像を取得できます。

### ライブ配信グループで発言禁止機能を実現するにはどうすればいいですか。

発言禁止機能はカスタムメッセージを介して実現することができます。このカスタムメッセージには、発言禁止された者のMembers_Accountと発言禁止期間が含まれます。[グループ内発言前のコールバック](https://intl.cloud.tencent.com/document/product/1047/34374)を介してこのカスタムメッセージをビジネスバックグラウンドにCC送信し、ビジネスバックグラウンドで[一括発言禁止と発言禁止の取り消し](https://intl.cloud.tencent.com/document/product/1047/34951)インターフェースを呼び出すことで、指定されたユーザに対する発言禁止機能を実現することができます。

### ライブ配信グループでメンバーを追い出す機能を実現するにはどうすればいいですか。

追い出し機能はカスタムメッセージを介して実現することができます。このカスタムメッセージには、追い出された者のMembers_Accountが含まれます。このメッセージの優先度をHighに設定することで、40件/秒のメッセージの送信頻度制限の設定でバックグラウンドによって破棄されることを回避します。追い出された者のSDKはこのメッセージを受信した後、[グループ退会](https://intl.cloud.tencent.com/document/product/1047/36169)インターフェースを呼び出すことで、ライブ配信グループでメンバーを追い出す機能を実現することができます。
<span id="p4"></span>
### ミニプログラム/Web側がグループ退会インターフェースを呼び出した後、Android/iOS/PC側が同期してグループ退会するが、Android/iOS/PCでグループ退会インターフェースを呼び出した後、ミニプログラム/Web側は退会しないのはどうしてですか。

ミニプログラム/Web側では、ユーザがビジターモードでアクセスすることをサポートしているため、Android/iOS/PCでグループから退会しても、ミニプログラム/Web側が自動的にグループ退会操作をトリガーすることはありません。

- すべての端末で同期退会処理を求めた場合、[グループメンバー退会後](https://intl.cloud.tencent.com/document/product/1047/34373)のコールバックを設定できます。この場合、OptPlatformフィールドを使用して現在の退会処理プラットフォームを判断します。退会処理プラットフォームがAndroid/iOS/PCである場合、[1対1チャットメッセージの単一送信](https://intl.cloud.tencent.com/document/product/1047/34919)インターフェースを介してシステムメッセージとしてカスタムメッセージを退会者に送信します。フロントエンドはこのセッションを遮断してUI層で表示しません。ミニプログラム/Web側はこのメッセージを受信した後、[グループ退会](https://intl.cloud.tencent.com/document/product/1047/33999)インターフェースを呼び出せばよいです。
- 単一端末だけの退会処理を求めた場合、[グループメンバー退会後](https://intl.cloud.tencent.com/document/product/1047/34373)のコールバックを設定できます。OptPlatformを介して現在の退会処理プラットフォームを判断します。[1対1チャットメッセージの単一送信](https://intl.cloud.tencent.com/document/product/1047/34919)インターフェースを介してシステムメッセージとしてカスタムメッセージを退会者に送信します。フロントエンドはこのセッションを遮断してUI層で表示しません。非退会端末はこのメッセージを受信した後に[グループに参加](https://intl.cloud.tencent.com/document/product/1047/36169)インターフェースを呼び出して再びこのグループに参加すればよいです。グループの参加と退会に関するシステム通知が何度も発生するのを避けるために、作業依頼書をサブミットしてグループの参加と退会に関するシステム通知をオフにすることができます。

### メッセージがどうして失われるのですか。

メッセージが失われる場合の考えられる原因は次のとおりです。

- ライブ配信グループには40個/秒の送信頻度制限があります。メッセージ送信前のコールバックとメッセージ送信後のコールバックで判断できます。失われたメッセージにメッセージ送信前のコールバックが受信されたが、メッセージ送信後のコールバックが受信されていない場合、そのメッセージの送信が制限されます。
- ミニプログラム/Web側での退会によってAndroid/iOS/PCでの同期退会となるかどうかを判断するには、[よくある質問](#p4)をご参照ください。
- ミニプログラム/Webに問題がある場合、V2.7.6より前のバージョンのSDKを使用しているかどうかを確認してください。そうである場合、最新バージョンにアップグレードしてください。

上記の可能性を除外した場合、作業依頼書をサブミットして弊社にご連絡ください。

### 「いいね」/「フォロー数」の統計はどのように実現しますか。

まず、カスタムメッセージを使用して「いいね」/「フォロー」メッセージのタイプを構築します。ユーザがフロントエンドで「いいね」/「フォロー」iconをクリックしてカスタムメッセージの送信をトリガーすると、「いいね」/「フォロー」メッセージを[グループ内発言前のコールバック](https://intl.cloud.tencent.com/document/product/1047/34374)を介して業務側にCC送信します。業務側は受信した「いいね」/「フォロー」メッセージ数に基づいて数量統計を行います。3秒～5秒ごとに[グループ基本情報インターフェースを変更](https://intl.cloud.tencent.com/document/product/1047/34962)でそのデータをグループ情報フィールドに更新します。SDKは[グループ情報取得インターフェース](https://intl.cloud.tencent.com/document/product/1047/36169)を介して「いいね」/「フォロー」数量統計を実現することができます。

### メッセージの優先度を適切に設定するにはどうすればよいですか。

重要なメッセージが破棄されないように、ライブルームでは、すべてのメッセージに対して3つの優先度が用意されています。SDKはメッセージを取得する際に優先度の高いメッセージを優先します。カスタムメッセージ優先度の設定に対する推奨事項は次のとおりです。

- High：ラッキーマネー、プレゼント、追い出しに関するメッセージ。
- Normal：一般テキストメッセージ。
- Low：いいね、フォローに関するメッセージ。

### ビデオやチャットのやり取りを直接見ることができるオープンソースのライブ配信コンポーネントはありますか。

はい、あります。しかもコードはオープンソースです。詳細については[Tencent Cloud Webライブ配信会話コンポーネント](https://github.com/tencentyun/TWebLive)をご参照ください。
