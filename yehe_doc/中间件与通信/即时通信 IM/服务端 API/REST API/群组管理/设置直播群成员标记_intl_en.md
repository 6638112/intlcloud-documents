## Feature Overview
App admins and group owners can set different marks/labels for audio-video group members to distinguish different types of group members. To use this feature, you need to purchase the Ultimate edition, enable **List of online audio-video group members** on the **Group configuration** page of the Chat console. For other plan editions, calling this API will fail.

## API Calling Description

### Applicable group types
| Group Type ID | RESTful API Support |
|-----------|------------|
| Private | No. Same as work groups (Work) in the new version. |
| Public | No |
| ChatRoom | No. Same as meeting groups (Meeting) in the new version. |
| AVChatRoom | Yes |
| Community | No |

These are the preset group types in Chat. For more information, see [Group System](https://intl.cloud.tencent.com/document/product/1047/33529).

> !
>
> - To use this feature, you need to [purchase the Ultimate edition](https://www.tencentcloud.com/document/product/1047/34577) and enable the **List of online audio-video group members** feature on the **Group configuration** page in the console.
> - For other plan editions, calling this API will fail.
> - For audio-video group, up to 10 different marks can be set.
> - Each mark can be set for up to 1,000 members. This limit is independent from the 1,000-member limit on the list of online members of an audio-video group.
> - Marks can be set only for online group members, except the special mark 500, which is described in the "Special marks" part. When a member leaves a group or goes offline, its mark information will be cleared. When the member joins the group or goes online again, you can reset a mark for the member through a webhook.


### Sample request URL

```
https://xxxxxx/v4/group_open_avchatroom_http_svc/modify_user_info?sdkappid=88888888&identifier=admin&usersig=xxx&random=99999999&contenttype=json
```

### Request parameters

The following table describes only the modified parameters when this API is called. For other parameters, see [RESTful API Overview](https://intl.cloud.tencent.com/document/product/1047/34620).

| Parameter | Description |
| ------------------ | ------------------------------------ |
| xxxxxx | Domain name corresponding to the country/region where your SDKAppID is located.<br><li>China: `console.tim.qq.com`</li><li>Singapore: `adminapisgp.im.qcloud.com`</li><li>Seoul: `adminapikr.im.qcloud.com`</li><li>Frankfurt: `adminapiger.im.qcloud.com`</li><li>Mumbai: `adminapiind.im.qcloud.com`</li><li>Silicon Valley: `adminapiusa.im.qcloud.com`</li> |
| v4/group_open_http_svc/modify_group_member_info | Request API. |
| sdkappid | SDKAppID assigned by the Chat console when an app is created |
| identifier | App admin account. For more information, see the **App Admin** section in [Login Authentication](https://intl.cloud.tencent.com/document/product/1047/33517). |
| usersig | Signature generated by the app admin account. For details, see [Generating UserSig](https://intl.cloud.tencent.com/document/product/1047/34385). |
| random | A random 32-bit unsigned integer ranging from 0 to 4294967295. |
| contenttype | Request format. The value is fixed to `json`. |

### Maximum call frequency

200 calls per second

### Sample request

Set mark 1000 for member "teacher10" and mark 1001 for member "student9" of an audio-video group:

```
{
    "GroupId": "@TGS#a6I4ZUUGO",
    "CommandType": 1,
    "MemberList": [
        {
            "Member_Account": "teacher10",
            "Marks": [1000]
        },
        {
            "Member_Account": "student9",
            "Marks": [1001]
        },
    ]
}
```

Cancel mark 1000 for member "teacher10" and mark 1001 for member "student9" of the audio-video group:

```
{
    "GroupId": "@TGS#a6I4ZUUGO",
    "CommandType": 2,
    "MemberList": [
        {
            "Member_Account": "teacher10",
            "Marks": [1000]
        },
        {
            "Member_Account": "student9",
            "Marks": [1001]
        },
    ]
}
```

### Request fields

| Field | Type | Required | Description |
|---------|---------|---------|---------|
| GroupId | String | Yes | The ID of the Group whose historical messages will be modified  |
| CommandType | Integer | Yes | `1`: Mark setting; `2`: Mark deletion  |
| MemberList | Array | Yes | List of accounts for which marks are to be set. Up to 500 accounts are supported each time, and up to 10 different marks can be set for each group. A mark is a number greater than or equal to 1,000. |

### Sample response

```
{
    "ActionStatus": "OK",
    "ErrorCode": 0,
    "ErrorInfo": "",
    "CommandType": 1,
    "MemberList": [
        {
            "Member_Account": "teacher10",
            "Marks": [1000]
        },
        {
            "Member_Account": "student9",
            "Marks": [1001]
        }
    ]
}
```

### Response fields

| Field | Type | Description |
|---------|---------|---------|
| ActionStatus | String | Request result. `OK`: successful; `FAIL`: failed |
| ErrorCode | Integer | Error code. `0`: Successful; other values: Failed |
| ErrorInfo | String | Error information |
| MemberList | Object | List of members whose marks are successfully set. In the case of mark setting for a batch of accounts, if certain accounts are offline, the backend does not return the offline accounts; if all accounts are offline or do not exist, the backend returns a failure result. |

### Special marks

App admins and group owners can set marks within the range [1000, +) for group members. In addition, app admins can set the following special marks that are preset in Chat:

| Mark | Description |
|-------|------|
| 500 | When mark 500 is set for a member, the member is considered to be always online (disconnection events ignored) for a maximum of three days. |
| 600 | When a member is set with mark 600, the member is hidden when the list of online members is pulled, unless the list is explicitly specified to be pulled by the member's mark. |

## Error Codes

The returned HTTP status code for this API is always 200 unless a network error (such as error 502) occurs. The specific error code and details can be found in the response fields `ErrorCode` and `ErrorInfo` respectively.
For public error codes (60000 to 79999), see [Error Codes](https://intl.cloud.tencent.com/document/product/1047/34348).
The following table describes the error codes specific to this API:

| Error Code | Description |
|---------|---------|
| 10001 | The user is not logged in. Check whether the `admin` account and `usersig` are correct.  |
| 10002 | A system error occurred. Try again or contact technical support. |
| 10003 | The request command is invalid. Try again or contact technical support. |
| 10004 | A parameter is invalid. Check the `ErrorInfo` field in the response packet to see whether the required fields have been specified or whether the fields are set according to protocol requirements. |
| 10007 | Insufficient permission. Only the app admin or group owner can call this API. |
| 10010 | The group does not exist or has been deleted. |
| 10015 | The group ID is invalid. Please check the group ID. |
