## Feature Overview

- This API can be used to delete only accounts of the Chat Free edition. Accounts of other types, such as TRTC, whiteboard, Pro edition, and Ultimate edition, cannot be deleted.
  <dx-alert infotype="explain" title="">
  To view the specific account types, log to the [console](https://console.cloud.tencent.com/im), click an app, and go to **Basic Configuration** > **Standard Billing Plan**.
  </dx-alert>
- When an account is deleted, the account’s data such as relationship chain and profile will also be deleted.
- After an account is deleted, **the account’s data cannot be recovered**. Therefore, exercise caution when using this API.

## API Calling Description

### Sample request URL

```
https://xxxxxx/v4/im_open_login_svc/account_delete?sdkappid=88888888&identifier=admin&usersig=xxx&random=99999999&contenttype=json
```

### Request parameters

 The following table describes the modified parameters when this API is called. For other parameters, see [RESTful API Overview](https://intl.cloud.tencent.com/document/product/1047/34620).

| Parameter | Description |
| ----------------------------------- | ------------------------------------------------------------ |
| xxxxxx | Domain name corresponding to the country/region where your SDKAppID is located.<br><li>China: `console.tim.qq.com`</li><li>Singapore: `adminapisgp.im.qcloud.com`</li><li>Seoul: `adminapikr.im.qcloud.com`</li><li>Frankfurt: `adminapiger.im.qcloud.com`</li><li>Mumbai: `adminapiind.im.qcloud.com`</li><li>Silicon Valley: `adminapiusa.im.qcloud.com`</li> |
| v4/im_open_login_svc/account_delete | Request API |
| sdkappid | `SDKAppID` assigned by the console when the app is created |
| identifier | App admin account. For more information, see the **App Admin** section in [Login Authentication](https://intl.cloud.tencent.com/document/product/1047/33517). |
| usersig | Signature generated by the app admin account. For details, see [Generating UserSig](https://intl.cloud.tencent.com/document/product/1047/34385). |
| random | A random 32-bit unsigned integer ranging from 0 to 4294967295 |
| contenttype |Request format, which should always be `json`. |

### Maximum call frequency

100 calls per second

### Sample request

```
{
  "DeleteItem":
  [
      {
          "UserID":"UserID_1"
      },
      {
          "UserID":"UserID_2"
      }
  ]
}
```

### Request fields

| Field | Type | Required | Description |
| ---------- | ------ | ---- | --------------------------------------------------- |
| DeleteItem | Array  | Yes | Account array to delete. A single request can contain up to 100 accounts. |
| UserID | String | Yes | `UserID` of the account to delete |

### Sample response

```
{
    "ActionStatus": "OK",
    "ErrorCode": 0,
    "ErrorInfo": "",
    "ResultItem": [
        {
            "ResultCode": 0,
            "ResultInfo": "",
            "UserID": "UserID_1"
        },
        {
            "ResultCode": 70107,
            "ResultInfo": "Err_TLS_PT_Open_Login_Account_Not_Exist",
            "UserID": "UserID_2"
        }
    ]
}
```

### Response fields

| Field              | Type    | Description                                                         |
| ------------ | ------- | ---------------------------------------------- |
| ActionStatus | String | Request result. `OK`: successful; `FAIL`: failed |
| ErrorCode | Integer | Error code. `0`: successful; other values: failed |
| ErrorInfo | String | Error information about the request failure |
| ResultItem | Array | Array of results for different accounts |
| ResultCode | Integer | Error code for the account. `0`: successful; other values: failed |
| ResultInfo | String  | Error information about the failure to delete the account |
| UserID | String  | `UserID` of the account to delete |

## Error Codes

The returned HTTP status code for this API is always 200 unless a network error (such as error 502) occurs. The specific error code and details can be found in the response fields `ErrorCode` and `ErrorInfo` respectively.
For public error codes (60000 to 79999), see [Error Codes](https://intl.cloud.tencent.com/document/product/1047/34348).
The following table describes the error codes specific to this API:

| Error Code | Description |
| ------ | ------------------------------------------------------------ |
| 30006  | An internal server error occurred while clearing relationship chain data. Try again later. |
| 30007  | Internal server timeout occurred while clearing relationship chain data. Try again later. |
| 30008  | A write conflict occurred while writing relationship chain data. You are advised to use the batch mode. |
| 40006  | An internal server error occurred while clearing profiles. Try again later.  |
| 70107  | The `UserID` to be deleted does not exist. Make sure that the `UserID` is valid. |
| 70169  | Server timeout. Try again later. |
| 70202  | Server timeout. Try again later. |
| 70402 | Invalid parameters. Make sure that the required fields are all entered and the parameter settings meet the protocol requirements. |
| 70403 | Request failed. App admin permissions are required to perform this operation. |
| 70500 | Internal server error. Try again later. |
| 71000 | Failed to delete accounts. Only accounts of apps using the Chat Free edition can be deleted. Your current app is using the Pro edition and therefore does not support deleting accounts. |

## API Debugging Tool

Use the [RESTful API online debugging tool](https://tcc.tencentcs.com/im-api-tool/index.html#/v4/im_open_login_svc/account_delete) to debug this API.

## References

- Importing a Single Account ([v4/im_open_login_svc/account_import](https://intl.cloud.tencent.com/document/product/1047/34953))
- Importing Multiple Accounts ([v4/im_open_login_svc/multiaccount_import](https://intl.cloud.tencent.com/document/product/1047/34954))
- Querying Accounts ([v4/im_open_login_svc/account_check](https://intl.cloud.tencent.com/document/product/1047/34956))
- Invalidating Account Login States ([v4/im_open_login_svc/kick](https://intl.cloud.tencent.com/document/product/1047/34957))
- Querying Account Online Status ([v4/openim/query_online_status](https://intl.cloud.tencent.com/document/product/1047/35477))
