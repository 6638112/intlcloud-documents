## Feature Description
This API is used by the admin to add tags for users.
>!
>- Each request can add tags for a maximum of 100 users. In the request body, a maximum of 10 tags can be added for each user.
>- A maximum of 100 tags can be set for each user. If a user has more than 100 tags, you need to delete old tags before adding new ones for the user.
>- The maximum length of a single tag is 50 bytes.

## API Call Description
This feature **can only be applied for by Ultimate Edition users (but not by Pro Edition users). You can apply for this feature by submitting a ticket, and we will evaluate your needs for approval. If we determine that this feature suits your needs, we will approve your application so that you can use the feature**.

### Sample request URL
```
https://xxxxxx/v4/all_member_push/im_add_tag?usersig=xxx&identifier=admin&sdkappid=88888888&random=99999999&contenttype=json
```
Where, `xxxxxx` is the country/region-specific domain. Please enter the domain corresponding to the country/region where your SDKAppID is located.

|Country/Region| Domain |
|----|----|
|Singapore| adminapisgp.im.qcloud.com |


### Request parameters

| Parameter | Description |
| ------------------ | ------------------------------------ |
| https | The request protocol is HTTPS, and the request method is POST. |
| v4/all_member_push/im_add_tag | Request API |
| usersig | The signature generated by the app admin account. For more information, see [UserSig backend API](https://intl.cloud.tencent.com/document/product/1047/34385). |
| identifier | It must be the app admin account. |
| sdkappid | The SDKAppID assigned by the IM console when the app is created. |
| random | A random 32-bit unsigned integer. |
| contenttype | Fixed value: JSON |

### Maximum call frequency

100 times/second

### Sample request packet

```
{
	"UserTags": [
		{
			"To_Account": "xiaojun012",
			"Tags": ["a", "b"]
		},
		{
			"To_Account": "xiaojun013",
			"Tags": ["a", "b"]
		}
	]
}
```

### Request packet fields

| Field | Type | Required | Description |
|---------|---------|---------|-----|
| To_Account | String | Required | Target user account |
| Tags | Object | Required | Tag set |

### Sample response packet

```
{
    "ActionStatus": "OK",
    "ErrorInfo": "",
    "ErrorCode": 0
}
```

### Response packet fields


| Field | Type | Description |
|---------|---------|---------|
| ActionStatus | String | The processing result of the request. OK: succeeded. FAIL: failed. |
| ErrorCode | Integer | Error code |
| ErrorInfo | String | Error information |


## Error Codes

The HTTP return code for this API is 200 unless a network error such as error 502 occurs. **The actual error code and error information are indicated by ErrorCode and ErrorInfo in the response packet.** For public error codes 60000 to 79999, see [Error Codes](https://intl.cloud.tencent.com/document/product/1047/34348).
The list below contains only error codes specific to this API:

| Error Code | Description |
|---------|---------|
| 90001 | Failed to parse the JSON format. Check whether the JSON request packet meets JSON specifications. |
| 90009 | The request requires the app adminâ€™s permissions. |
| 90018 | The number of accounts requested exceeds the limit. |
| 91000 | An internal service error occurs. Please try again. |

## API Debugging Tool
To debug this API, you can use the [Online RESTful API Debugging Tool](https://29294-22989-29805-29810.cdn-go.cn/api-test.html#v4/all_member_push/im_add_tag).

## References
- [Push to all users APIs](https://intl.cloud.tencent.com/document/product/1047/37165) 
- [Push to all users](https://intl.cloud.tencent.com/document/product/1047/37166) 
- [Setting app attribute names](https://intl.cloud.tencent.com/document/product/1047/37167) 
- [Obtaining app attribute names](https://intl.cloud.tencent.com/document/product/1047/37168) 
- [Setting user attributes](https://intl.cloud.tencent.com/document/product/1047/37170)  
- [Deleting user attributes](https://intl.cloud.tencent.com/document/product/1047/37171)  
- [Obtaining user attributes](https://intl.cloud.tencent.com/document/product/1047/37169)  
- [Obtaining user tags](https://intl.cloud.tencent.com/document/product/1047/37172)  
- [Deleting user tags](https://intl.cloud.tencent.com/document/product/1047/37174)  
- [Deleting all user tags](https://intl.cloud.tencent.com/document/product/1047/37175)  
