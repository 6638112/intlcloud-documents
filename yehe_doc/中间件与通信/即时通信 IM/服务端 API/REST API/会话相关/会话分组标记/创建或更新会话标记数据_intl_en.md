## Feature Overview
Conversation group mark data is independent of recent contacts. You can use RESTful APIs to add, delete, modify, and query conversation group, standard conversation mark, custom conversation mark, and other fields. Conversation group marks support up to 1,000 conversations. This API can be used to create or update standard or custom conversation marks. Only the Ultimate edition supports standard conversation mark operations, and custom conversation mark operations have no such restrictions.

## API Calling Description
### Sample request URL
```
https://xxxxxx/v4/recentcontact/mark_contact?sdkappid=88888888&identifier=admin&usersig=xxx&random=99999999&contenttype=json
```
### Request parameters

The following table describes the modified parameters when this API is called. For other parameters, see [RESTful API Overview](https://intl.cloud.tencent.com/document/product/1047/34620).

| Parameter | Description |
| ------------------ | ------------------------------------ |
| xxxxxx | Domain name corresponding to the country/region where your SDKAppID is located.<br><li>China: `console.tim.qq.com`</li><li>Singapore: `adminapisgp.im.qcloud.com`</li><li>Seoul: `adminapikr.im.qcloud.com`</li><li>Frankfurt: `adminapiger.im.qcloud.com`</li><li>Mumbai: `adminapiind.im.qcloud.com`</li><li>Silicon Valley: `adminapiusa.im.qcloud.com`</li> |
| v4/recentcontact/mark_contact  | Request API                             |
| sdkappid | SDKAppID assigned by the Chat console when an app is created |
| identifier | App admin account. For more information, see the **App Admin** section in [Login Authentication](https://intl.cloud.tencent.com/document/product/1047/33517). |
| usersig | Signature generated by the app admin account. For details, see [Generating UserSig](https://intl.cloud.tencent.com/document/product/1047/34385). |
| random | A random 32-bit unsigned integer ranging from 0 to 4294967295. |
| contenttype |Request format, which should always be `json`. |

### Maximum call frequency

200 calls per second

### Sample request
```
{
    "From_Account":"user0",
    "MarkItem":[
        {
            "OptType":3,
            "ContactItem":{
                "Type":1,                   
                "To_Account":"user1"
            },
            "SetMark":[1,2,3],
            "CustomMark":"abcd"
        }
    ]
}
```

### Request fields

| Field | Type | Required | Description |
|---------|---------|----|---------|
| From_Account|String| Yes | UID of the requester |
| MarkItem|Array| Yes | Array of conversation marks. The array can contain up to 100 conversation marks. |
| OptType|Integer| Yes | Operation type. `1`: Setting standard conversation marks; `2`: Setting custom conversation marks; `3`: Setting both standard and custom conversation marks |
| ContactItem|Object| Yes | Conversation object to be operated |
| Type|Integer| Yes | Conversation type. `1`: One-to-one conversation; `2`: Group conversation |
| ToGroupId|String| No | Group ID |
| To_Account|String| No | User ID |
| ClearMark|Array|No | Sequence number of the bit for which a standard mark is to be canceled. The value `n` indicates to cancel the mark value for bit n. |
| SetMark|Array|No | Sequence number of the bit for which a standard mark is to be set. The value `n` indicates to set the mark value for bit n. |
| CustomMark|String|No | Set a custom conversation mark. Up to 256 bytes are supported. |


```
A standard conversation mark has 64 bits in total: the first 32 bits are internally used by Chat, and the last 32 bits are extended bits that can be customized by customers. Internal bits are described as follows:
Bit 1: Mark a conversation as "favorite"
Bit 2: Mark a conversation (important conversation) as unread
Bit 3: Mark a conversation as collapsed
Bit 4: Mark a conversation as hidden
```


### Sample response

```
{
    "ResultItem": [
        {
            "OptType":3,
            "ContactItem": {
                "Type": 1,
                "To_Account": "user1"
            },
            "ResultCode": 0,
            "ResultInfo": ""
        }
    ],
    "ActionStatus": "OK",
    "ErrorCode": 0,
    "ErrorInfo": "",
    "ErrorDisplay": ""
}
```


### Response fields

| Field | Type | Description |
|---------|---------|---------|
| ActionStatus | String | Request result. `OK`: Successful; `FAIL`: Failed |
| ErrorCode| Integer | Error code. `0`: Successful; other values: Failed |
| ErrorInfo| String | Error information |
| ResultItem|Array | Conversation mark operation result  |
| OptType|Integer| Yes | Operation type. `1`: Setting standard marks; `2`: Setting custom marks; `3`: Setting both standard and custom marks |
| ContactItem|Integer | Conversation object  |
| Type|String | Conversation type. `1`: One-to-one conversation; `2`: Group conversation  |
| ToGroupId|String | Group ID  |
| To_Account|String | Recipient's user ID  |
| ResultCode|Integer | Error code in the conversation operation result. `0`: Successful  |
| ResultInfo|String | Error description in the conversation operation result   |

[](id:ErrorCode)
## Error Codes
The returned HTTP status code for this API is always 200 unless a network error (such as error 502) occurs. The specific error code and details can be found in the response fields `ResultCode`, `ResultInfo`, `ErrorCode`, and `ErrorInfo`.
For public error codes (60000 to 79999), please see [Error Codes](https://intl.cloud.tencent.com/document/product/1047/34348).
The following table describes the error codes specific to this API:

| Error Code | Description |
| ------ | ------------------------------------------------------------ |
| 50001  | The requested UserID has not been imported into the Tencent Cloud Chat backend. Please import. |
| 50002  | Incorrect request parameter. Check your request according to the error description.                                    |
| 50003  | The request requires app admin permissions.                                      |
| 50004  | Internal server error. Please try again.                                      |
| 50005  | Network timeout. Try again later.                                       |
| 51006  | When you are modifying conversation mark, the number of conversations is empty or exceeds the upper limit of 100. |
| 51007  | Failed to replace GroupID with GroupCode because an internal error occurred or the group was disbanded. |
| 51008  | The total number of conversations in the conversation group exceeds 1,000. |
| 51009  | The conversation group does not exist when a deletion attempt is made.       |
| 51010  | The number of conversation groups exceeds the upper limit of 20.       |
| 51011  | The conversation group name contains more than 32 bytes.       |
| 51012  | Exceeded the maximum number of conversations pinned to the top.       |
| 51013  | If the requested app is not of the Ultimate edition, an error will be reported when a standard conversation mark or conversation group is modified. |

## API Debugging Tool
Use the [RESTful API online debugging tool](https://tcc.tencentcs.com/im-api-tool/#/v4/recentcontact/mark_contact) to debug this API.
