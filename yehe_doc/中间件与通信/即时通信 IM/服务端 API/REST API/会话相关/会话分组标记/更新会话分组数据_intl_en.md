## Feature Overview
Conversation group mark data is independent of recent contacts. You can use RESTful APIs to add, delete, modify, and query conversation group, standard conversation mark, custom conversation mark, and other fields. Conversation group marks support up to 1,000 conversations. This API can be used to update conversation group data. Only the Ultimate edition supports conversation group data operations.

## API Calling Description
### Sample request URL
```
https://xxxxxx/v4/recentcontact/update_contact_group?sdkappid=88888888&identifier=admin&usersig=xxx&random=99999999&contenttype=json
```
### Request parameters

The following table describes the modified parameters when this API is called. For other parameters, see [RESTful API Overview](https://intl.cloud.tencent.com/document/product/1047/34620).

| Parameter | Description |
| ------------------ | ------------------------------------ |
| xxxxxx | Domain name corresponding to the country/region where your SDKAppID is located.<br><li>China: `console.tim.qq.com`</li><li>Singapore: `adminapisgp.im.qcloud.com`</li><li>Seoul: `adminapikr.im.qcloud.com`</li><li>Frankfurt: `adminapiger.im.qcloud.com`</li><li>Mumbai: `adminapiind.im.qcloud.com`</li><li>Silicon Valley: `adminapiusa.im.qcloud.com`</li> |
| v4/recentcontact/update_contact_group  | Request API                             |
| sdkappid | SDKAppID assigned by the Chat console when an app is created |
| identifier | App admin account. For more information, see the **App Admin** section in [Login Authentication](https://intl.cloud.tencent.com/document/product/1047/33517). |
| usersig | Signature generated by the app admin account. For details, see [Generating UserSig](https://intl.cloud.tencent.com/document/product/1047/34385). |
| random | A random 32-bit unsigned integer ranging from 0 to 4294967295. |
| contenttype |Request format, which should always be `json`. |

### Maximum call frequency

200 calls per second

### Sample request
```
{
    "From_Account":"user20",
    "UpdateType":1,
    "UpdateGroup":{
        "UpdateGroupType":2,
        "OldGroupName":"test1",
        "ContactUpdateItem":[
            {
                "ContactOptType":1,
                "ContactItem":{
                    "Type": 1,
                    "To_Account": "user1"
                }
            }
        ]
    }
}
```

### Request fields

| Field | Type | Required | Description |
|---------|---------|----|---------|
| From_Account|String| Yes | UID of the requester |
| UpdateType|Integer| Yes | `1`: Adding a conversation to or deleting a conversation from a group |
| UpdateGroup|Object| Yes | Adding a conversation to or deleting a conversation from a group |
| UpdateGroupType|Integer|Yes | Update type. `1`: Updating the group name; `2` Updating the conversation group |
| OldGroupName|String| Yes (when `UpdateGroupType` is 1) | Group name to be updated |
| NewGroupName|String| Yes (when `UpdateGroupType` is 1) | Updated group name, which can be up to 32 bytes |
| ContactUpdateItem|Array| No | Conversation to be updated |
| ContactOptType|Integer| Required | Update type. `1`: Adding a conversation to a group; `2`: Deleting a conversation from a group. |
| ContactItem|Object| Yes | Conversation object |
| Type|Integer| Yes | Conversation type. `1`: One-to-one conversation; `2`: Group conversation |
| ToGroupId | String | Yes | Group ID |
| To_Account|String| Yes | User ID |


### Sample response

```
{
    "UpdateType": 1,
    "UpdateGroupResult": {
        "UpdateGroupType": 2,
        "GroupName": "test1",
        "GroupId": 1,
        "OldGroupName": "test1",
        "ContactResultItem": [
            {
                "ContactOptType": 1,
                "ContactItem": {
                    "Type": 1,
                    "To_Account": "user1"
                },
                "ResultCode": 0,
                "ResultInfo": ""
            }
        ]
    },
    "ActionStatus": "OK",
    "ErrorCode": 0,
    "ErrorInfo": ""
}
```


### Response fields

| Field | Type | Description |
|---------|---------|---------|
| ActionStatus | String | Request result. `OK`: Successful; `FAIL`: Failed |
| ErrorCode| Integer | Error code. `0`: Successful; other values: Failed |
| ErrorInfo| String | Error information |
| UpdateType|Integer| Required | `1`: Group update result |
| UpdateGroupResult| Object | Group update result |
| UpdateGroupType|Integer|Yes | Update type. `1`: Updating the group name; `2` Updating the conversation group |
| GroupName|String | Current group name  |
| OldGroupName|String | Original group name  |
| GroupId|Integer | Current group ID  |
| ContactResultItem|Array | Conversation operation result  |
| ContactOptType|Integer| Required | Update type. `1`: Adding a conversation to a group; `2`: Deleting a conversation from a group. |
| ContactItem|Object| Conversation object |
| Type|Integer| Conversation type. `1`: One-to-one conversation; `2`: Group conversation |
| ToGroupId|String | Group ID  |
| To_Account|String| User ID |
| ResultCode|Integer | Error code in the conversation operation result. `0`: Successful  |
| ResultInfo|String | Error description in the conversation operation result   |

[](id:ErrorCode)
## Error Codes
The returned HTTP status code for this API is always 200 unless a network error (such as error 502) occurs. The specific error code and details can be found in the response fields `ResultCode`, `ResultInfo`, `ErrorCode`, and `ErrorInfo`.
For public error codes (60000 to 79999), see [Error Codes](https://intl.cloud.tencent.com/document/product/1047/34348).
The following table describes the error codes specific to this API:

| Error Code | Description |
| ------ | ------------------------------------------------------------ |
| 50001  | The requested UserID has not been imported into the Tencent Cloud Chat backend. Please import. |
| 50002  | Incorrect request parameter. Check your request according to the error description.                                    |
| 50003  | The request requires app admin permissions.                                      |
| 50004  | Internal server error. Please try again.                                      |
| 50005  | Network timeout. Try again later.                                       |
| 51006  | When you are modifying conversation mark, the number of conversations is empty or exceeds the upper limit of 100. |
| 51007  | Failed to replace GroupID with GroupCode because an internal error occurred or the group was disbanded. |
| 51008  | The total number of conversations in the conversation group exceeds 1,000. |
| 51009  | The conversation group does not exist when a deletion attempt is made.       |
| 51010  | The number of conversation groups exceeds the upper limit of 20.       |
| 51011  | The conversation group name contains more than 32 bytes.       |
| 51012  | Exceeded the maximum number of conversations pinned to the top.       |
| 51013  | If the requested app is not of the Ultimate edition, an error will be reported when a standard conversation mark or conversation group is modified. |

## API Debugging Tool
Use the [RESTful API online debugging tool](https://tcc.tencentcs.com/im-api-tool/#/v4/recentcontact/update_contact_group) to debug this API.
