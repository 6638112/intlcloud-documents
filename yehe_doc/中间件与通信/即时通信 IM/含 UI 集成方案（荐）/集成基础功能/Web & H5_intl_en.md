## Environment Requirements

- Vue 3
- TypeScript
- Sass (sass-loader version 10.1.1 or earlier)
- Node (12.13.0 ≤ node version ≤ 17.0.0. The official LTS version 16.17.0 of Node.js is recommended.)
- npm (use a version that matches the Node version in use)

## TUIKit Source Code Integration

### Step 1. Create a project

You are advised to use the Vue CLI to create a project and configure Vue 3, TypeScript, and Sass/SCSS.
If the Vue CLI is not installed, you can install it as follows on your terminal or CMD:
<dx-codeblock>
::: shell
npm install -g @vue/cli@4.5.0 sass sass-loader@10.1.1
:::
</dx-codeblock>

Use the Vue CLI to create a project and set configuration items as the figure below shows.
<dx-codeblock>
::: shell
vue create chat-example && cd chat-example
:::
</dx-codeblock>

<img style="width:800px;" src="https://qcloudimg.tencent-cloud.cn/raw/f65d2a15cde0c0baba9a24a5ba845f26.jpg">

### Step 2. Download the TUIKit component

Use [npm](https://www.npmjs.com/package/@tencentcloud/chat-uikit-vue) to download the TUIKit component. To facilitate future expansion, it is recommended that you copy the TUIKit component to the `src` directory of your own project:
<dx-tabs>
::: macOS\s
<dx-codeblock>
::: shell
npm i @tencentcloud/chat-uikit-vue
mkdir -p ./src/TUIKit && cp -r ./node_modules/@tencentcloud/chat-uikit-vue/ ./src/TUIKit
:::
</dx-codeblock>
:::
::: Windows\s
<dx-codeblock>
::: shell
npm i @tencentcloud/chat-uikit-vue && xcopy .\node_modules\@tencentcloud\chat-uikit-vue .\src\TUIKit /i /e
:::
</dx-codeblock>
:::
</dx-tabs>

After successful download, the directory structure is as shown in the figure below:  
<img style="width:300px;" src="https://qcloudimg.tencent-cloud.cn/raw/ced7ede80ab9d24b28787dd80182da7f.png">

### Step 3. Import the TUIKit component

Import TUIKit in `main.ts` and register it to the Vue project instance.
<dx-codeblock>
:::  js
import { createApp } from 'vue';
import App from './App.vue';
import { TUIComponents, TUICore, genTestUserSig } from './TUIKit';

const SDKAppID = 0; // Your SDKAppID
const secretKey = ''; //Your secretKey
const userID = ''; // User ID

// init TUIKit
const TUIKit = TUICore.init({
  SDKAppID,
});
// TUIKit add TUIComponents
TUIKit.use(TUIComponents);

// login TUIKit
TUIKit.login({
  userID: userID,
  userSig: genTestUserSig({
    SDKAppID,
    secretKey,
    userID,
  }).userSig, // The password with which the user logs in to IM. It is the ciphertext generated by encrypting information such as userID. For the detailed generation method, see Generating UserSig.
});

createApp(App).use(TUIKit).mount('#app');
:::
</dx-codeblock>


[](id:step4)

### Step 4. Obtain the SDKAppID, key, and userID

Set related parameters `SDKAppID`, `secretKey`, and `userID` in the sample code in the `main.ts` file. The SDKAppID and key can be obtained in the [IM console](https://console.cloud.tencent.com/im) by clicking the card of the target app to go to its basic configuration page. For example:
![](https://qcloudimg.tencent-cloud.cn/raw/3b585716a08e7ff3f0047bd7c904d048.png)
The `userID` information can created and obtained in the [IM console](https://console.cloud.tencent.com/im) by clicking the card of the target app to go to its account management page to create an account and obtain the user ID. For example:
![](https://qcloudimg.tencent-cloud.cn/raw/d6774e3ca2bbaf993b505d1596bdac1f.png)

### Step 5. Call the TUIKit component

Call the TUIKit component on the target page.
For example, on the `App.vue` page, you can call TUIConversation, TUIChat, and TUISearch to build a chat interface.
<dx-codeblock>
:::  js

<template>
  <div class="home-TUIKit-main">
    <div :class="env?.isH5 ? 'conversation-h5' : 'conversation'" v-show="!env?.isH5 || currentModel === 'conversation'">
      <TUISearch class="search" />
      <TUIConversation @current="handleCurrentConversation" />
    </div>
    <div class="chat" v-show="!env?.isH5 || currentModel === 'message'">
      <TUIChat>
        <h1>Welcome to Tencent Cloud Instant Messaging (IM)</h1>
      </TUIChat>
    </div>
  </div>
</template>

<script lang="ts">
import { defineComponent, reactive, toRefs } from 'vue';
import { TUIEnv } from './TUIKit/TUIPlugin';

export default defineComponent({
  name: 'App',
  setup() {
    const data = reactive({
      env: TUIEnv(),
      currentModel: 'conversation',
    });
    const handleCurrentConversation = (value: string) => {
      data.currentModel = value ? 'message' : 'conversation';
    };
    return {
      ...toRefs(data),
      handleCurrentConversation,
    };
  },
});
</script>

<style scoped>
.home-TUIKit-main {
  display: flex;
  height: 100vh;
  overflow: hidden;
}
.search {
  padding: 12px;
}
.conversation {
  min-width: 285px;
  flex: 0 0 24%;
  border-right: 1px solid #f4f5f9;
}
.conversation-h5 {
  flex: 1;
  border-right: 1px solid #f4f5f9;
}
.chat {
  flex: 1;
  height: 100%;
  position: relative;
}
</style>
:::
</dx-codeblock>

### Step 6. Launch the project

Run the following command to launch the project:
<dx-codeblock>
::: shell
npm run serve
:::
</dx-codeblock>

### Step 7. Send your first message

1. After the project is launched, click the one-to-one chat icon in the upper-left corner.
2. The one-to-one chat window pops up. In the search box, type the userID created in [step 4](#step4) to search for the user, select the user found, and click **Done**.
3. Type your message in the input box and click **Send**.

## FAQs

#### What is `UserSig`?

A UserSig is a password with which the user logs in to IM. It is the ciphertext generated by encrypting information such as userID.

#### How can I generate a UserSig?

The correct `UserSig` distribution method is to integrate the calculation code of `UserSig` into your server and provide a project-oriented API. When `UserSig` is needed, your project can send a request to your server for a dynamic `UserSig`. For more information, see [Generating UserSig](https://intl.cloud.tencent.com/document/product/1047/34385).

>! In the sample code in this document, the method to obtain `UserSig` is to configure a `SECRETKEY` in the client code. In this method, the `SECRETKEY` is vulnerable to decompilation and reverse engineering. Once your `SECRETKEY` is disclosed, attackers can steal your Tencent Cloud traffic. Therefore, **this method is only suitable for locally running a demo project and feature debugging**. For the correct `UserSig` distribution method, see above.

#### What should I do when I receive the error message "Component name 'XXXX' should always be multi-word"?

- IM TUIKit web uses ESLint v6.7.2, which does not strictly verify the camelCase format of module names.
- If you encounter the problem, you can configure as follows in the `.eslintrc.js` file:
<dx-codeblock>
:::  shell
module.exports = {
  ...
  rules: {
    ...
    'vue/multi-word-component-names': 'warn',
  },
};
:::
</dx-codeblock>
