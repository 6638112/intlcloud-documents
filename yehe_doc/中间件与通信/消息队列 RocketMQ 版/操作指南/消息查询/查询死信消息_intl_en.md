## Overview

A dead letter queue is a special type of message queue used to centrally process messages that cannot be consumed normally. If a message cannot be consumed after a specified number of retries, TDMQ for RocketMQ will determine that the message cannot be consumed under the current situation and deliver it to the dead letter queue.

In actual scenarios, messages may not be consumed due to service downtime or network disconnection. In this case, they will not be discarded immediately; instead, they will be persisted by the dead letter queue. After fixing the problem, you can create a consumer subscription to the dead letter queue to process such messages.


## Query limits

You can query messages in the last 3 days.



## Notes

- After a message is delivered to the dead letter queue, it will not be consumed normally. You can query messages in the last 3 days. Therefore, we recommend you process dead letter messages within 3 days after generation; otherwise, they will be deleted.
- All dead letter messages generated by all topics in a group are put into a  dead letter queue and can be queried from there. The dead letter queue wonâ€™t exist if there are no dead letter messages.



## Directions

1. Log in to the [TDMQ for RocketMQ console](https://console.cloud.tencent.com/tdmq/rocket-cluster) and click **Message Query** on the left sidebar.
2. On the **Message Query** page, select a region and enter the query conditions as prompted.
   - Time Range: Select the time range for query, which can be the last 30 minutes, last hour, last 6 hours, last 24 hours, last 3 days, or a custom time range.
   - Current Cluster: Select the cluster where the dead letter message you want to query is located.
     > ?Currently, you can query dead letter messages only in **exclusive clusters**.
   - Namespace: Select the namespace where the dead letter message you want to query is located.
   - Group: Select the group where the dead letter message you want to query is located.
   - Message ID: It is optional.
     - If you don't enter the message ID, a **fuzzy query** will be performed, which will batch query all dead letter messages by group ID in the selected time range.
     - If you enter the message ID, an **exact query** will be performed, which will locate the message by group ID and message ID.
3. Click **Query**, and the paginated results will be displayed in the list.
4. Click **View Details** in the **Operation** column of the target message to view its basic information, content (message body), and parameters.     
5. Click **View Message Trace** in the **Operation** column or select the **Message Trace** tab on the details page to view the trace of the message. For more information, see [Message Trace Description](https://www.tencentcloud.com/document/product/1113/51216).
