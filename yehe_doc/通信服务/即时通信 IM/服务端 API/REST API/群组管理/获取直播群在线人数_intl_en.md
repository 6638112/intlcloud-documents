## Feature Description
This API is used by the app admin to obtain the number of online users in a livestreaming group based on the group ID.

## Call Description
### Applicable group types
| Group Type | Support for This RESTful API |
|-----------|------------|
| Private | No. Same as Work (work group) in the new version. |
| Public | No. |
| ChatRoom | No. Same as Meeting (temporary meeting group) in the new version. |
| AVChatRoom | Yes. |

These are the built-in group types in IM. For more information, see [Group system](https://intl.cloud.tencent.com/document/product/1047/33529).

> !
>
> - The number of online users is updated every 10s.
> - When a group has 300 or more users or has web users, the number of online users is updated 10s to 20s after a user goes online or offline or joins or quits the group.
> - When a group has less than 300 users or does not have web users, the number of online users is updated immediately after a user joins or quits the group.


### Sample request URL
```
https://console.tim.qq.com/v4/group_open_http_svc/get_online_member_num?sdkappid=88888888&identifier=admin&usersig=xxx&random=99999999&contenttype=json
```

### Request parameters

The following table only describes the parameters that are modified when this API is called. For more information on other parameters, please see [RESTful API Overview](https://intl.cloud.tencent.com/document/product/1047/34620).

| Parameter | Description |
| ------------------ | ------------------------------------ |
| v4/group_open_http_svc/get_online_member_num | The API to which the request is sent. |
| sdkappid | The SDKAppID assigned by the IM console when an application is created. |
| identifier | The value must be the app admin account. For more information, please see [App Admin](https://intl.cloud.tencent.com/document/product/1047/33517). |
| usersig | The signature generated by the app admin account. For more information on the operation, please see [Generating UserSig](https://intl.cloud.tencent.com/document/product/1047/34385). |
| random | A random 32-bit unsigned integer ranging from 0 to 4294967295. |

### Maximum call frequency
200 times/second

### Sample request packet

This API is used to obtain the number of online users in a livestreaming group (AVChatRoom). The number of online users is updated every 10s. We recommend that the service-end queries the number of online users every 10s and synchronizes it to all users in the group.

```
{
    "GroupId":"@TGS#a6I4ZUUGO"
}
```
### Request packet fields

| Field | Type | Required | Description |
|---------|---------|---------|---------|
| GroupId | String | Yes | The group ID. |

### Sample response packet
```
{
    "ActionStatus":"OK",
    "ErrorInfo":"", 
    "ErrorCode": 0, 
    "GroupId":"@TGS#a6I4ZUUGO",
    "OnlineMemberNum":1000 // Number of online users
}
```
### Response packet fields

| Field | Type | Description |
|---------|---------|---------|
| ActionStatus | String | The request processing result. OK: succeeded. FAIL: failed. |
| ErrorCode | Integer | The error code. 0: succeeded. Other values: failed. |
| ErrorInfo | String | The error information. |
| groupID | String | The group ID. |
| OnlineMemberNum | Integer | The number of online users in the group. |

## Error Codes

Unless a network error (such as error 502) occurs, the HTTP return code for this API is always 200. ErrorCode and ErrorInfo in the response packet represent the actual error code and error information.
For public error codes 60000 to 79999, please see [Error Codes](https://intl.cloud.tencent.com/document/product/1047/34348).
The following table describes the error codes specific to this API.

| Error Code | Description |
|---------|---------|
| 10002 | A system error occurred. Try again or contact technical support. |
| 10003 | The request command is invalid. Try again or contact technical support. |
| 10004 | A parameter is invalid. Based on the ErrorInfo field in the response packet, check whether the required fields have been specified or whether the fields are set according to protocol requirements. |
| 10007 | You do not have sufficient permissions. You cannot obtain the number of online users in non-livestreaming groups. |
| 10010 | The group does not exist or once existed but has been disbanded. |
| 10015 | The group ID is invalid. Check whether the group ID is specified correctly. |

## Debugging Tool

Use the [RESTful API online debugging tool](https://avc.qcloud.com/im/APITester/APITester.html#v4/im_open_login_svc/account_import) to debug this API.
