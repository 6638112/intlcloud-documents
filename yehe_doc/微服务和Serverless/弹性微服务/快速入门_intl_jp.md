このドキュメントでは、TEMコンソールでアプリケーションをデプロイしてアクセスする具体的な手順について説明します。

## 前提条件

 [TEMベータ版テスト](https://intl.cloud.tencent.com/apply/p/wqinnd8p97)への参加申し込みをします。参加資格を取得した後、コンソールにアクセスできます。コンソールアカウントを持っていない場合は、[アカウント登録ガイド](https://intl.cloud.tencent.com/document/product/378/17985)をご参照ください。

## 操作手順

### ステップ1：環境の新規作成

1. [TEMコンソール](https://console.cloud.tencent.com/tem)にログインします。
2. 【環境】ページで、環境をデプロイするリージョンを選択してから、【新規作成】をクリックします。
3. 環境に関連する情報を設定します。
   ![](https://main.qcloudimg.com/raw/4174c994a376e5de24bea2262c56813f.png)
   - 名前：40文字を超えない
   - VPC：既存のVPCを選択します。現在のネットワークが適切でない場合、またはネットワークを作成していない場合は、[VPCの新規作成](https://console.cloud.tencent.com/vpc/vpc?rid=4)をクリックして設定し（**リージョンの選択は環境と一致している必要があることに注意してください**）、完了後にこのページに戻って更新し、選択を実行します。
   - サブネットワーク：既存のサブネットワークを選択します。障害回復機能を向上させるために、マルチゾーンのデプロイメントを選択することをお勧めします。既存のサブネットワークが適切でないか、またはサブネットワークを作成していない場合は、[サブネットワークの作成](https://console.cloud.tencent.com/vpc/subnet?rid=4&unVpcId=)をクリックして設定し、完了後にこのページに戻り更新してから選択を実行します。  
   -  環境内のサービス検出をサポートするためにCoreDNSを自動的にデプロイします。kubernetesクラスターネームスペースのkube-ststem中に2つのレプリカのDeployment:corednsを自動的にデプロイします。そのサービスはデフォルトでは課金されません。修正しないことをお勧めます。
4. 【OK】をクリックすると、環境は初期化状態に入ります。数分経過すると環境の作成が完了します。

### ステップ2：アプリケーションの新規作成

1.  左側のナビゲーションウィンドウで、【アプリケーションリスト】をクリックしてアプリケーションリストページに進み、アプリケーションをデプロイするリージョンを選択します。

2. 【新規作成】をクリックして、アプリケーションの新規作成ページに進み、サービス情報を入力します。
   ![](https://main.qcloudimg.com/raw/8d3f59fd4a49942e6f2112256ef9fd04.png)

   - 名前：アプリケーション名を入力します。
   - 開発言語：ご使用の開発言語を選択します。
   - パッケージのアップロード方法：パッケージのアップロード方法を選択します。Java言語はイメージ、JARパッケージおよびWARパッケージのアップロードをサポートしていますが、他の言語はイメージのアップロードのみをサポートしています。JARパッケージまたはWARパッケージ方式を選択する場合、TEMは自動的にコンテナイメージを構築し、TEMが作成したパーソナル版のコンテナイメージをレジストリにプッシュします。

3. 【提出】をクリックし、ポップアップウィンドウで【OK】を選択して、デプロイアプリケーションページに進みます。【キャンセル】を選択した場合、続いてアプリケーションリストの【新しい環境にデプロイ】をクリックすれば、アプリケーションのデプロイを完了することができます。

   ![](https://main.qcloudimg.com/raw/12913419285e309f453cb5f912977c24.png)

### ステップ3：アプリケーションのデプロイ

1. アプリケーションデプロイページで、アプリケーションの具体的な状況に応じて関連パラメータを設定します。
   ![](https://main.qcloudimg.com/raw/edfcc7911ddab0fc1e39191b2f75cdf0.png)

   パラメータの説明は次のとおりです。

   | パラメータ            | 説明                                                         |
   | :-------------- | :----------------------------------------------------------- |
   | 環境のパブリッシュ          | 作成したばかりの環境を選択します。                                  |
   | JDKバージョン        | OpenJDK 8や KonaJDK 8をサポートするJDKバージョンを選択します。                        |
   | パッケージ/イメージのアップロード | パッケージやイメージをアップロード、またはコンソール上の体験Demoをダウンロードしてアプリケーションのデプロイを実行します。デプロイ後、TEMのすべての機能をご体験ください。 |
   | バージョン番号          | アプリケーションのバージョン番号を設定します。バージョン番号を入力するか、**タイムスタンプをバージョン番号として使用する**をクリックすると、タイムスタンプをアプリケーションのバージョン番号として使用することができます。 |
   | バージョンの説明        | バージョンの説明を入力します。                                                 |
   | 起動パラメータ        | 起動パラメータを設定します。                                                 |

2.【提出】をクリックして、アプリケーションのデプロイを完了します。

### ステップ4：アプリケーションへのアクセス

TEMは環境内のアクセスとパブリックネットワークアクセスという2種類の方式を提供しています。

- 環境内のアクセス：同じ環境内のマイクロサービスは、登録されたサービス名を介して相互に呼び出すことができます。consul、eurekaなどのレジストリに基づくサービスの登録と検出、およびkubernetesに基づくサービスの検出をサポートします。
- パブリックネットワークアクセス：環境カードをクリックすると、【アクセス設定】ページで、パブリックネットワークLBとHTTP/HTTPSプロトコル転送ルールを作成してアプリケーションにアクセスできます。

例としてパブリックネットワークアクセスを取り上げます。操作手順は次のとおりです。

1. 作成した環境カードをクリックし、【アクセス設定】ページで【新規作成】をクリックして、パブリックネットワークアクセスルートを作成します。

   ![](https://main.qcloudimg.com/raw/f1d317935b80ea1100b6264a92d357b2.png)
   
2. ブラウザのアドレスバーに次のURLを入力します。

   ```xml
   <パブリックネットワークアクセスアドレス/ドメイン名> + <パス>
   ```

   例：`http://xx.xx.xx.xx/ping-provider`と入力し、次の結果が返された場合は、アプリケーションが正常にデプロイされたことを意味します。

   ```
   Hello World!
   ```
