## Overview

TEM provides static website resource hosting capabilities through **application instance + CFS**. This document takes the popular static website service [Hugo](https://gohugo.io/) as an example to describe the best practice for static resource hosting. The following will generate a personal static blog through Hugo, deploy a reverse proxy application through TEM, work together with CFS to manage static resources, and finally offer access to the personal static blog over the public network through the access configuration in TEM.

The overall process is as follows:
<dx-steps>
- [Generate a static blog locally through Hugo](#step1)
- [Upload the static blog content to CFS](#step2)
- [Deploy the nginx application in TEM and associate CFS](#step3)
- [Configure the nginx network access in TEM](#step4)
- [(Optional) Configure a domain name](#step5)
- [(Optional) Configure a firewall](#step6)
- [(Optional) Configure CDN](#step7)
</dx-steps>


## Directions

### Step 1. Generate a static blog locally through Hugo[](id:step1)

1. Install Hugo (for more information, please see [Install Hugo](https://gohugo.io/getting-started/installing/)).
   Taking macOS as an example, install it with the following command:
   ```
   brew install hugo
   ```

2. Run the following command to create a static site.
   ```
   hugo new site quickstart
   ```

3. Run the following command to add a theme.
   ```
   cd quickstart
   git init
   git submodule add https://github.com/theNewDynamic/gohugo-theme-ananke.git themes/ananke
   echo theme = \"ananke\" >> config.toml
   ```

4. Run the following command to add a blog.
   ```
   hugo new posts/my-first-post.md
   ```

5. Run the following command to build a static page.
   ```
   hugo -D
   ```

6. The generated static content is stored in the `public/` directory of the `quickstart` project.
      ![](https://main.qcloudimg.com/raw/1719df20926f87db5edd93d32dbde0fd.png)


### Step 2. Upload the static blog content to CFS[](id:step2)

1. Purchase a CFS file system as instructed in [Creating File Systems and Mount Targets](https://intl.cloud.tencent.com/document/product/582/9132).
>!The **region** and **VPC** of the purchased CFS file system should be the same as those of the application deployed in TEM.

2. Upload the files in the `public/` directory generated by Hugo to the root directory or subdirectory of the CFS file system as instructed in [Using CFS File Systems on Linux Clients](https://intl.cloud.tencent.com/document/product/582/11523) or [Using CFS File Systems on Windows Clients](https://intl.cloud.tencent.com/document/product/582/11524).

### Step 3. Deploy the nginx application in TEM and associate CFS[](id:step3)

1. Log in to the [TEM console](https://console.cloud.tencent.com/tem) and associate the CFS instance purchased above with the environment where the application is deployed.
![](https://main.qcloudimg.com/raw/065bea19e71061eb3e314c294254d9f6.png)

2. Create an application named `hugo` on the **[Application Management](https://console.intl.cloud.tencent.com/tem/env)** page.
![](https://main.qcloudimg.com/raw/db37dc37340615e024871c65832972e4.png)

3. Deploy the application and select the associated CFS storage resource in the **Persistent Storage** module.
![](https://main.qcloudimg.com/raw/d5abd09485e8f23a3934f5580651e7b3.png)


### Step 4. Configure the nginx network access in TEM[](id:step4)
<dx-tabs>
::: Scheme\s1.\sConfigure\sa\sforwarding\srule\s(recommended)
1. On the **[Application Management](https://console.intl.cloud.tencent.com/tem/env)** page, click the ID of the application you just created to enter its basic information page.
2. On the application basic information page, click **Configure Now** in the **Access Configuration** module to enter the environment access configuration page.
![](https://main.qcloudimg.com/raw/80b914a4a5419cf717d26c67c480fc76.png)


3. On the environment access configuration page, click **Create** to create an access configuration rule.
![](https://main.qcloudimg.com/raw/88ad1932a18ce466e90e68bf1b4fe69a.png)


4. Click **Complete** to get the following IP address.
![](https://main.qcloudimg.com/raw/b305cc5523afb03ac157cabaef7702cc.png)

Access the Hugo service at the generated address:

![](https://main.qcloudimg.com/raw/9b76fee79a65e46760235629b05f244f.png)
:::
::: Scheme\s2.\sConfigure\spublic\snetwork\sCLB
1. On the **[Application Management](https://console.intl.cloud.tencent.com/tem/env)** page, click the ID of the application you just created to enter its basic information page.
2. On the application basic information page, click **Edit and Update** in the top-right corner of the **Access Configuration** module to add a public network CLB instance.
![](https://main.qcloudimg.com/raw/5bf8823dccf189f8be4fb495a87ea0c8.png)

3. Select the public network access method and enter the port mapping relationship.
![](https://main.qcloudimg.com/raw/c542ccc1cda09e456d86a275ec9263f8.png)

4. Click **Submit** to get the following public IP.
![](https://main.qcloudimg.com/raw/2aba58753a1fe53cb4f42a3c3d46d75e.png)

Access the Hugo service at the generated address:

![](https://main.qcloudimg.com/raw/fceeebcacde7f9b68a726d7777b8ca90.png)
:::
</dx-tabs>


### Step 5. (Optional) Configure a domain name[](id:step5)

1. Register a domain name.
2. Associate the domain name with the CLB instance generated above, and you can access the static website at the domain name. For more information, please see [Getting Started with CLB](https://intl.cloud.tencent.com/document/product/214/8975).

### Step 6. (Optional) Configure a firewall[](id:step6)

If the static website is accessed through the **forwarding configuration** settings, it can be connected to Tencent Cloud [WAF](https://intl.cloud.tencent.com/product/waf) for security protection. For more information, please see [Configuring WAF protection for CLB listening domain names](https://intl.cloud.tencent.com/document/product/214/38751).

### Step 7. (Optional) Configure CDN[](id:step7)

In order to deliver a better user experience, the hosted static website can be connected to Tencent Cloud CDN for access acceleration. For more information, please see [Getting Started](https://intl.cloud.tencent.com/document/product/228/36383).
