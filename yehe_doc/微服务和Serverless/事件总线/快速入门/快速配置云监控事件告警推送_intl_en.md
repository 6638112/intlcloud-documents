## Overview
After EventBridge is activated, it will automatically create a **default Tencent Cloud service event bus** in **Guangzhou** region, to which alarm events (Cloud Monitor events and CloudAudit events) generated by services connected to it will be automatically delivered. You can also set event rules and delivery targets to configure an alarm linkage.

## Notes
Cloud Monitor Event Center related features had been gradually disused since November 30, 2021 and will be replaced by EventBridge capabilities. In addition to the original features, new features such as rule matching, custom event buses, and multi-target delivery have been added. For existing Cloud Monitor users, we have completed automatic migration of existing alarm policies in April 2022. The number of alarm policies remains unchanged after the migration. To modify or add alarm policies, manually adjust them in the EventBridge console.

## Alarm Configuration Directions
### 1. View the event list

1. Log in to the [EventBridge console](https://console.cloud.tencent.com/eb).
2. Select the event bus region.
3. Click **the default Tencent Cloud service event bus** and enter the details page of the Tencent Cloud service event bus. On the details page, you can see the Tencent Cloud service events that have been delivered to the Tencent Cloud service event bus.
2. In the **Event Connector** area, you can view all Tencent Cloud services that support alarm event push.
![](https://qcloudimg.tencent-cloud.cn/raw/c2cfc0fefd11dbc102c11518673589b4.png)
You can click **Details** to view all alarm event types that are currently supported.
![](https://qcloudimg.tencent-cloud.cn/raw/21ecfd42593c59c07548b20ce96eba86.png)


#### Sample
Taking a "ping unreachable" event generated by CVM as an example, the standard format for delivering the event to the Tencent Cloud service event bus is as follows: 
```json
{
    "specversion":"1.0",
    "id":"13a3f42d-7258-4ada-da6d-023a333b4662",
    "source":"${ProductName}.cloud.tencent",
    "type":"cvm:ErrorEvent:ping_unreachable",
    "subject":"${six-segment service description in CAM}",
    "time": 1615430559146,
    "region":"ap-guangzhou",
    "resource":[
        "qcs::eb:ap-guangzhou:uid1250000000:eventbusid/eventruleid"
    ],
    "datacontenttype":"application/json;charset=utf-8",
    "tags":{
        "key1":"value1",
        "key2":"value2"
     },
    "status":"1",
    "data":{
        "appId":"1250000011",
        "instanceId":"ins-xxxxxxx",
        "projectId":"11",
        "dimensions":{
            "ip":"127.0.0.1"
            },
        "additionalMsg":{
            "IP":"something unnormal"
            }
    }
}
```

#### Field description

| Field | Description | Data Type |
| --------------- | ------------------------------------------------------------ | ---------- |
| specversion     | Event structure version (CloudEvents version. Currently, only v1.0 is supported.)        | String     |
| id              | ID returned by `PUT Event`.                                   | String     |
| type            | Type of the event input through `PUT Event`. The standard format of a Tencent Cloud service alarm event is `${ProductName}:ErrorEvent:${EventType}`, where colons are used to separate type fields. | String     |
| source          | Event source (which is required for a Tencent Cloud service event and is the abbreviation of `subject`). The value is `xxx.cloud.tencent` by default for a Tencent Cloud service. | String     |
| subject        | Event source details, which can be customized. QCS description such as `qcs::dts:ap-guangzhou:appid/uin:xxx` is used for a Tencent Cloud service by default. | String     |
| time           | Event time, which is a GMT+0 timestamp in milliseconds, such as `1615430559146`.         | Timestamp  |
| datacontenttype | Data structure declaration.                                               | String     |
| region          | Region information.                                                   | String     |
 |status | Alarm event status. Valid values: 1 (abnormal), 0 (resolved), - (stateless). | String |
|tags| Resource tag. |String|
| data            | Details of the event input through `PUT Event`, which are customizable by the specific business.                                  | String    |



### 2. Configure an alarm event rule

1. Go to the **Event Rule** page, select the target event bus, and create an event rule under it to filter the events for which to configure alarm push.
![](https://qcloudimg.tencent-cloud.cn/raw/bcfda9e8a96d2df23d710f9a074e3dbc.png)
2. Taking CVM alarm configuration as an example, you can also select another event alarm or all events. For more information on event match rules, see [Event Pattern](https://intl.cloud.tencent.com/document/product/1108/42288).
![](https://qcloudimg.tencent-cloud.cn/raw/9ed4d225227fd0850e1b8f47d5d53798.png)
3. If you want to limit the alarm scope to a specific instance, click **Edit** and add the **subject** field to the event pattern.


### 3. Configure delivery targets

For event alarm scenarios, you can set **Notification message** for the delivery target.
**Notification message**: You can configure a notification message to push your alarm events in the specified delivery method to promptly reach users.
![](https://qcloudimg.tencent-cloud.cn/raw/0707a906aca7ee999a5765e135a753cb.png)

After completing the configuration, you can view and configure the push of alarm events in the EventBridge console.
>!
- Use limits: For SMS message delivery, a notification message can contain up to 500 characters. For phone delivery, a notification message can contain up to 350 characters. If fields such as the instance name are too long, notification messages may fail to be sent due to excessive length. We recommend you configure multiple delivery channels at the same time.
- Cross-MLC-border API callback may fail due to network instability. Exercise caution when selecting API callback.


<span id="1"></span>
## Quickly Migrating Cloud Monitor Event Center for Existing Users

For existing users of Cloud Monitor Event Center, we have completed automatic migration of existing policies at the end of April 2022. For more information, see [Quick Migration Guide](https://intl.cloud.tencent.com/document/product/1108/45205). The backend service will automatically perform the following operations:

1. Automatically convert the existing alarm policies in Event Center to event rules in the Tencent Cloud service event bus (one policy corresponds to one rule).
2. Create the corresponding message push target for each existing notification template in Event Center and bind it to the default Tencent Cloud service event bus to complete alarm push configuration.
