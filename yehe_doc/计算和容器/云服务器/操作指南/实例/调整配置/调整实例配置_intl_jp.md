## シナリオ

Tencent Cloudインスタンスのハードウェアデバイスがすばやく簡単に変更できることは、CVMの柔軟性の重要な現れです。本節では、設定のアップグレードとダウングレード、モデルを跨る設定変更に関する操作方法および関連注意事項について説明します。

## 前提条件

インスタンスは、シャットダウン状態またはスタートアップ状態で設定を変更可能です。実行中のインスタンスは強制的にシャットダウンされ、再起動後に操作が有効になります。
> 
> - 操作対象のインスタンスが**シャットダウンされた**場合、直接にコンソールで設定を変更できます。
> - 操作対象のインスタンスが**実行されている**場合、オンラインで設定を変更できます。操作が完了した後、インスタンスを強制的にシャットダウンする必要があります。変更された設定は、インスタンスの再起動後に有効になります。
> - 複数のインスタンスの設定をオンラインで**一括変更**できます。**実行中**のインスタンスがある場合、インスタンスを強制的にシャットダウンする必要があります。変更された設定は、インスタンスの再起動後に有効になります。

## 制限事項と影響

### 設定変更に関する制限事項

**システムディスクとデータディスクの両方ともCloud Block Storageクラウドディスク**であるインスタンスのみが設定を変更できます。
- 設定のアップグレード
アップグレードに回数制限はなく、アップグレードされた設定はすぐに有効になります。
- 設定のダウングレード
 - 従量課金インスタンスは、アップグレードに回数制限はなく、いつでも設定をダウングレードすることができます。
- インスタンスファミリー間の調整：データ移行を必要とせずに、インスタンスファミリ間で設定を変更できます。
設定を変更する際に、調整可能なインスタンス仕様は、現在のアベイラビリティーゾーンがターゲット仕様を提供するかどうかに関連しています。次の制限事項に注意してください。
 -  **スポットインスタンス**は、モデル間の設定変更に対応しません。
 -  **専用インスタンス**は、モデル間の設定変更に対応しません。変更範囲は、インスタンスが配置されている専用ホストの残りのリソースに制限されます。
 -  **GPUやFPGAなどの異種インスタンス**は、インスタンスファミリー間で設定を変更するためのソースまたはターゲットインスタンスタイプとして使用できません。
 -  **クラシックネットワークで構成されたインスタンス**はVirtual Private Cloudのみをサポートするインスタンスへの変更に対応しません。
 -  ターゲットインスタンスの仕様が現在のインスタンス仕様で構成されているCloud Block Storageタイプをサポートしていない場合、設定を変更できません。
 -  ターゲットインスタンスの仕様が現在のインスタンス仕様で構成されているイメージタイプをサポートしていない場合、設定を変更できません。
 -  ターゲットインスタンスの仕様が現在のインスタンス仕様で構成されているENIまたはENI数量をサポートしていない場合、設定を変更できません。詳細については、[使用制限](https://intl.cloud.tencent.com/document/product/576/18527)をご参照ください。
 -  ターゲットインスタンスの仕様が現在の仕様のパブリックネットワーク帯域幅の上限をサポートしていない場合、設定を変更できません。詳細については、[パブリックネットワーク帯域幅の上限](https://intl.cloud.tencent.com/document/product/213/12523)をご参照ください。

### 影響について

ごく一部のインスタンスのプライベートIPアドレスは、設定変更後に変更される場合があります。インスタンスのプライベートIPアドレスが変更されると、設定変更ページにプロンプトを配置して、関連表示がない場合、プライベートIPアドレスは変更しません。

## 操作手順

>
> - ビジネスが変更された場合は、インスタンス設定を変更できます。
> - 設定をアップグレードする場合は、関連する料金をお支払います。
> - 設定をダウングレードする場合は、CVMインスタンスを強制的にシャットダウンして再起動し、新しい設定はすぐに有効になります。

### コンソールを介して

#### 単一インスタンスの設定変更

1. [CVMコンソール](https://console.cloud.tencent.com/cvm/index)にログインし、CVMインスタンスリストに入ります。
2. 下図に示すように、ターゲットインスタンスを見つけて、【その他】>【リソース調整】>【設定を変更】をクリックします。
![](https://main.qcloudimg.com/raw/65541031befe2d0144227cf5a616e161.png)
3.下図に示すように、「ターゲット設定の選択」で、インスタンスの状態と操作を確認し、**変更するモデルとインスタンスの仕様を選択し、仕様と性能パラメータを慎重に確認し**、【次へ】をクリックします。
![](https://main.qcloudimg.com/raw/818fbf0dfa791ad5d5a76186eefba019.png)
4.インスタンスの課金方式に応じて費用を確認し、【次へ】をクリックします。
	- 従量課金インスタンス：新しい仕様で凍結が必要な金額を確認してください。下図に示すように、設定変更後、従量課金インスタンスは第一段階から課金されるようになります。ルールを十分理解したうえで操作してください。 
	![](https://main.qcloudimg.com/raw/25f8630836acdfe274357142d8609c5d.png)
5.「CVMのシャットダウン」ステップで、インスタンスの実行状態に基づいてそれぞれのテキスト指示をよく読んでください。
 - 現在のインスタンスが実行中である場合、プロンプトをよく読んだうえで、下図に示すように、「強制シャットダウンに同意」にチェックを入れる必要があります。
![](https://main.qcloudimg.com/raw/e016f2cc674938acd0046115f007669b.png)
 - 現在のインスタンスがシャットダウンされている場合、次のプロンプトが表示されます。下図に示すように：
![](https://main.qcloudimg.com/raw/8385495393237523d0d71460a7b7009b.png)
6.【調整の開始】をクリックし、注文ページに移動し、お支払いを行います。 

### APIを介して 

ResetInstancesTypeインターフェースを使用してインスタンス設定を変更できます。詳細については、[インスタンス設定の変更](https://intl.cloud.tencent.com/document/product/213/33239)をご参照ください。





