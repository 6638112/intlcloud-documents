## 概要

このドキュメントは、カスタマイズ設定を例として、Tencent Cloud CVMのインスタンスを作成する方法について説明します。

##  前提条件

CVMインスタンスを作成する前に、以下のことを実行する必要があります：
- [Tencent Cloudアカウントの登録](https://intl.cloud.tencent.com/document/product/378/17985)、及び [実名認証](https://intl.cloud.tencent.com/document/product/378/3629)を完成する必要があります。
- ネットワークタイプがVPCのCVMインスタンスを作成するには、ターゲットリージョンで[VPCの作成](https://intl.cloud.tencent.com/document/product/215/31805)を行い、VPCのターゲットアベイラビリティーゾーンで[サブネットの作成](https://intl.cloud.tencent.com/document/product/215/31806)を行う必要があります。
- システムによって自動的に作成されたデフォルトのプロジェクトを使用しない場合は、[プロジェクトの作成](https://intl.cloud.tencent.com/zh/document/product/378/34726)を行う必要があります。
- システムによって自動的に作成されたデフォルトのセキュリティグループを使用しない場合は、ターゲットリージョンに[セキュリティグループを作成](https://intl.cloud.tencent.com/document/product/213/34271) する必要があり、業務ニーズを満たすセキュリティグループルールを追加する必要もあります。
-  Linux インスタンスを作成する時に、 SSH キーペアをバインドする必要がある場合、ターゲットプロジェクトに[SSHキーを作成](https://intl.cloud.tencent.com/document/product/213/16691)する必要があります。
- カスタマイズイメージを使用してCVMインスタンスを作成する必要がある場合は、[カスタマイズイメージを作成](https://intl.cloud.tencent.com/document/product/213/4942) するか、 [イメージをインポート](https://intl.cloud.tencent.com/document/product/213/4945)する必要があります。

## 操作手順

1. [Tencent Cloud公式サイト](https://intl.cloud.tencent.com/zh/)にログインし、**製品** > **基本** > **コンピューティング** > **[CVM](https://intl.cloud.tencent.com/zh/products/cvm)**を選択し、**今すぐ購入**をクリックすると、CVM購入ページに進みます。
 - **[カスタム設定](https://buy.intl.cloud.tencent.com/cvm?tab=custom&step=1&devPayMode=hourly&regionId=4&zoneId=200004&instanceType=SA2.MEDIUM4&vpcId=vpc-mzg9lleo&subnetId=subnet-nr4uyak7&platform=TencentOS&bandwidthType=TRAFFIC_POSTPAID_BY_HOUR&bandwidth=5&ltCreateMode=createVersion)：**特定シナリオでの使用に適しており、ユーザーは独自のニーズに合わせてCVMインスタンスを手軽に購入することができます。
2. 画面のプロンプトに従って、以下の情報を設定します：
<table>
<tr><th style="width：20％">カテゴリー</th><th style="width: 12%">選択必須/オプション</th><th>説明</th></tr>
<tr><td>課金モード</td><td>選択必須</td><td>実際のニーズに応じて選択してください：<ul><li><b>従量課金</b>：CVMの柔軟な課金モードは、ECプロモーションなどによりデバイスの需要が瞬時に大きく変動するシナリオに適しています。</li><li><b>スポットインスタンス</b>：新しいインスタンス操作モードであり、ビッグデータコンピューティング、Cloud Load Balancerを利用してオンラインサービスとウェブサイトサービスなどのシナリオに適しています。一般的な価格帯は従量課金インスタンスの10％〜20％です。</li></ul>課金モードの詳細については、<a href="https://intl.cloud.tencent.com/document/product/213/2180">課金モードの説明</a>をご参照ください。</td></tr>
<tr><td>リージョン/アベイラビリティーゾーン</td><td>入力必須</td><td><ul><li><b>リージョン</b>：アクセス遅延を減らし、アクセス速度を向上させるため、顧客に最も近いリージョンを選択することをお勧めします。</li><li><b>アベイラビリティーゾーン</b>：実際のニーズに応じて選択してください。</br>複数のCVMを購入する必要がある場合は、障害復旧効果を発揮させるために、異なるアベイラビリティーゾーンを選択することをお勧めします。</li></ul>選択可能なリージョンとアベイラビリティーゾーンの詳細については、<a href="https://intl.cloud.tencent.com/document/product/213/6091">リージョンとアベイラビリティーゾーン</a>をご参照ください。</td></tr>
<tr><td>ネットワーク</td><td>選択必須</td><td>Tencent Cloudに構築された、論理的に分離されたネットワークスペースを示します。1つのVirtual Private Cloudは、少なくとも1つのサブネットが含まれます。システムは、各リージョンにデフォルトのVPCとサブネットを提供します。</br>
既存のVPC/サブネットがお客様の要件を満たしていない場合、VPCコンソールでVPCまたはサブネットを作成できます。</br><b>注意</b>：<ul><li>同じVPC内のリソースは、プライベートネットワーク内で共有できます。</li><li>CVMを購入する時、CVMは同じアベイラビリティーゾーン属性を持つサブネットに作成する必要があります。</li></ul></td></tr>
<tr><td>インスタンス</td><td>選択必須</td><td>基盤となるハードウェアの違いによって、Tencent Cloudは現在さまざまな種類のインスタンスを提供しています。 パフォーマンスを最適化するには、最新世代のインスタンスタイプを利用することをお勧めします。</br>
インスタンスの詳細については 、<a href="https://intl.cloud.tencent.com/document/product/213/11518">インスタンス仕様</a>をご参照ください。</td></tr>
<tr><td>イメージ</td><td>選択必須</td><td>Tencent Cloudはパブリックイメージ、カスタマイズイメージ、共有イメージ、サービスマーケットイメージを提供してます。<a href="https://intl.cloud.tencent.com/document/product/213/4941">イメージ種類</a> を参照して選択してください。</td></tr>
<tr><td><a href="https://intl.cloud.tencent.com/document/product/362/31636">システムディスク</a></td><td>選択必須</td><td>OSのインストールに使用されます。 容量はデフォルトで50 GBです。</br>リージョンによって、選択可能なCloud Block Storageの種類が異なります。ページの指示に従って選択してください。</br>CBSの詳細については、<a href="https://intl.cloud.tencent.com/document/product/362/31636">CBS種類</a>をご参照ください。</td></tr>
<tr><td><a href="https://intl.cloud.tencent.com/document/product/362/31636">データディスク</a></td><td>オプション</td><td>CVMのストレージ容量を拡張し、効率的で信頼性の高いストレージデバイスを提供するために使用されます。CBSデータディスクはデフォルトでは追加されません。</br>CBSの詳細については、<a href="https://intl.cloud.tencent.com/document/product/362/31636">CBS種類</a>をご参照ください。</td></tr>
<tr><td>定期スナップショット</td><td>オプション</td><td>システムディスクまたはデータディスクに対して、定期スナップショットポリシーを設定することができます。定期スナップショットの詳細については、<a href="https://intl.cloud.tencent.com/document/product/362/35238">定期スナップショット</a>をご参照ください。</td></tr>
<tr><td>パブリックネットワーク</td><td>入力必須</td><td>デフォルトでは、個別のパブリックIPが無料で割り当てられます。</br>Tencent Cloudは、以下の2つのネットワーク課金方式を提供しています。実際のニーズに応じて、0Mbpsより大きい値を設定してください。<ul><li><b>帯域幅課金</b>：固定帯域幅を選択した場合、この帯域幅を超えるとパケット損失が発生します。ネットワークの変動が小さいシナリオに適しています。</li><li><b>使用トラフィック課金</b>：実際の使用量に基づく課金です。ピーク帯域幅を制限することで、予期せぬトラフィックによって生じる料金を回避することができ、瞬時帯域幅がこの値を超えるとパケット損失が発生します。ネットワークの変動が大きいシナリオに適しています。</li><li><b>共有帯域幅パッケージ課金</b>：ビジネスでのパブリックネットワークトラフィックのピークが異なる時間帯に分散されている場合、共有帯域幅パッケージによって帯域幅を集約した課金を行うことができます。大規模なビジネスで、パブリックネットワークの異なるインスタンス間でトラフィックのピークを分散することのできるシナリオに適しています。<br>現在、共有帯域幅パッケージはベータ版テスト段階にあります。使用する場合は、<a href="https://console.intl.cloud.tencent.com/workorder/category">ベータ版テストの申請</a>を行ってください。</li></ul><b>注意</b>：<ul><li>無料で割り当てられた個別のパブリックIPアドレスは、インスタンスからバインド解除することはできません。このIPアドレスのバインドを解除する必要がある場合は、パブリックIPをElastic IPに変換するとバインドを解除できるようになります。Elastic IPの詳細については、<a href="https://intl.cloud.tencent.com/document/product/213/5733">Elastic IP</a>をご参照ください。</li><li>以下2つのケースについては、現時点では個別のパブリックIPアドレスの割り当てはサポートしておりません。実際の購入画面をご確認ください。
<ul><li>IPリソースが売り切れたとき</li><li>一部リージョンに対して</li></ul></li></ul></td></tr>
<tr><td>IPv6アドレス</td><td>オプション</td><td>インスタンスのIPv6アドレスを有効にします。</a>。</td></tr> 
<tr><td>数量</td><td>選択必須</td><td>購入するCVMの数を表します。</td></tr> 
<tr><td>時間</td><td>入力必須</td><td>CVMの使用時間を示します。</td></tr> 
</table>

3. **次へ：ホストの設定**をクリックして、ホストの設定ページに進みます。
4. 画面のプロンプトに従って、以下の情報を設定します：
<table>
<tr><th style="width：20％">カテゴリー</th><th style="width: 12%">選択必須/オプション</th><th>説明</th></tr>
<tr><td>セキュリティグループ</td><td>入力必須</td><td><ul><li>使用可能なセキュリティグループがない場合は、<b>セキュリティグループの新規作成</b>を選択します。</li><li>使用可能な既存のセキュリティグループがある場合は、<b>既存のセキュリティグループ</b>を選択します。</li></ul>セキュリティグループの詳細については、<a href="https://intl.cloud.tencent.com/document/product/213/12452">セキュリティグループ</a>をご参照ください。</td></tr>
<tr><td>所属プロジェクト</td><td>選択必須</td><td>デフォルトのプロジェクトが選択されています。必要に応じて既存のプロジェクトを選択して、さまざまなCVMを管理できます。</td></tr>
<tr><td>タグ</td><td>オプション</td><td>必要に応じてタグをインスタンスに追加し、クラウドリソースの分類、検索および集約に使用することができます。タグの詳細については、<a href="https://intl.cloud.tencent.com/document/product/651/13334">タグ</a>をご参照ください。</td></tr>
<tr><td>インスタンス名</td><td>オプション</td><td>ユーザーが定義して、作成する必要があるCVMの名前を示します。</br><ul><li>インスタンス名を定義しない場合、インスタンスを作成した後のインスタンス名は「名前なし」になります。</li><li>インスタンス名を定義する場合は、インスタンス名を60文字以内に制限する必要があります。また、<a href="https://intl.cloud.tencent.com/document/product/213/32020">一括連続命名またはパターン文字列命名の指定も可能です</a>。</li></ul><b>注意</b>：この名前はコンソールのみに表示される名前であり、CVMのhostnameではありません。</td></tr>
<tr><td>ログイン方式</td><td>入力必須</td><td>ユーザーがCVMにログインする方法を設定します。実際のニーズに応じて設定してください。<ul><li><b>パスワードの設定</b>：インスタンスにログインするためのパスワードをカスタマイズします。</li><li><b>今すぐキーをバインドする（Linuxインスタンスのみサポート）</b>：SSHキーのバインドです。SSHキーにより、より安全にCVMにログインできます。</br>キーがない場合、または既存のキーが適切でない場合は、<b>今すぐ作成</b>をクリックするとキーを作成できます。SSHキーの詳細については、<a href="http://cloud.tencent.com/doc/product/213/SSH%E5%AF%86%E9%92%A5">SSH キー</a>をご参照ください。</li><li><b>パスワードの自動発行</b>：自動発行されたパスワードは、<a href="https://console.cloud.tencent.com/message">サイト内メッセージ</a>によって送信されます。</li></ul></td></tr>
<tr><td>セキュリティーサービス</td><td>オプション</td><td>デフォルトでは、 DDoS 保護とHost Security保護を無料で有効になっています。これにより、ユーザーはCVMセキュリティシステムを構築でき、データ漏洩を防ぎます。</td></tr>
<tr><td>クラウド監視</td><td>オプション</td><td>デフォルトでは無料で有効になっています。コンポーネントをインストールしてホスト監視指標を取得し、アイコン形式で表示します。さらに、カスタムアラームの閾値などの設定をサポートします。または、立体的なCVMデータ監視、インテリジェントなデータ分析、リアルタイムな故障アラーム、カスタムデータレポート構成を提供します。これにより、ユーザーがサービスとCVMのヘルス状態を正確に把握できます。</td></tr>
<tr><td>自動化アシスタント</td><td>オプション</td><td>デフォルトでは無料でアクティブになっています。CVMのネイティブ運用保守デプロイツールとして、インスタンスにリモート接続せずにShellコマンドを自動で一括実行し、自動運用保守スクリプトの実行、ポーリングプロセス、ソフトウェアのインストール/アンインストール、アプリケーションの更新およびパッチのインストールといったタスクを行うことができます。</td></tr>
<tr><td>自動更新</td><td>オプション</td><td>「アカウントの残高が十分な場合、デバイスの有効期限が切れた後、毎月自動的に更新されます」にチェックを入れると、デバイスの有効期限が切れたときにデバイスを手動で更新する必要がなくなります。</br>自動更新の詳細については、<a href="https://intl.cloud.tencent.com/zh/document/product/555/7454">更新管理</a>をご参照ください。</td></tr>
<tr><td>高度な設定</td><td>オプション</td><td>実際のニーズに応じてインスタンスにより多くの設定を行うことができます。<ul><li><b>ホスト名</b>：ユーザーは、CVMのOS内のコンピュータ名の設定をカスタマイズでき、CVMの本番稼働が成功後は、CVMにログインすることで内部を確認できます。</li><li><b>CAMロール</b>：ロールを設定すると、ロールを通じてTencent Cloudのサービス、操作およびリソースへのアクセス権限をCVMに付与できるようになります。詳細については、<a href="https://intl.cloud.tencent.com/document/product/213/38290">インスタンスロールの管理</a>を参照して設定してください。</li><li><b>配置グループ</b>：必要に応じて配置グループにインスタンスを追加し、ビジネスの可用性を高めることができます。詳細については、<a href="https://intl.cloud.tencent.com/document/product/213/15486">配置グループ</a>を参照して設定してください。</li><li><b>カスタムデータ</b>：カスタムデータを指定してインスタンスを構成します。すなわち、インスタンスの起動時に構成されたスクリプトを実行します。一度に複数のCVMを購入すると、カスタムデータはすべてのCVMで実行されます。Linux OSではShell形式、Windows OSではPowerShell形式がサポートされており、最大16KBのローデータが保存可能です。詳細については、<a href="https://intl.cloud.tencent.com/document/product/213/17525">カスタムデータ</a>をご参照ください。</br><b>注意</b>：カスタムデータの構成は、Cloudinitサービスの付いているパブリックイメージのみをサポートします。詳細については、<a href="https://intl.cloud.tencent.com/document/product/213/19670">Cloud-Init</a>をご参照ください。</li></ul></td></tr>
</table>

5. **次へ：構成情報の確認**をクリックして、構成情報の確認ページに進みます。
6. 購入したCVMの情報と各構成アイテムの費用明細を確認します。
7. 「『Tencent Cloudサービス契約』と『返金ルール』に同意する」または「『Tencent Cloudサービス契約』に同意する」を読んでチェックを入れます。
8. 実際のニーズに応じて、次の操作を実行できます。
 - **起動テンプレートとして保存**を選択：このインスタンスの構成を起動テンプレートとして保存します。起動テンプレートを使用すると、インスタンスをすばやく作成できます。
 - **API Explorerベストプラクティススクリプトの作成**を選択：選択した設定に対応するOpenAPIベストプラクティススクリプトコードを発行して、同じ設定のCVMを購入する際に使用できるように保存することができます。詳細については、[インスタンスAPI Explorerのベストプラクティススクリプトの発行と作成](https://intl.cloud.tencent.com/document/product/213/39811)をご参照ください。
8. **今すぐ購入**または**アクティブ化**をクリックし、支払いを完了します。支払いが完了すると、[CVMコンソール](https://console.cloud.tencent.com/cvm)にアクセスし、お客様のCVMを確認することができます。
CVMのインスタンス名、パブリックIPアドレス、プライベートIPアドレス、ログイン名、初期ログインパスワードなどの情報は、[サイト内メール](https://console.cloud.tencent.com/message)の形でアカウントに送信されます。これらの情報を使用することで、インスタンスにログインして管理できます。また、CVMのセキュリティを確保するために、できるだけ早くCVMのログインパスワードを変更してください。
