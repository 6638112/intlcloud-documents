## Login
You can send and receive messages in the Instant Messaging (IM) console only after logging in to the IM SDK. To log in to the IM SDK, you need to provide information including the UserID and UserSig. For more information, see [Login Authentication](https://intl.cloud.tencent.com/document/product/1047/33517). After successful login, to call APIs that require authentication, such as [sendMessage](https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/SDK.html#sendMessage), you must wait until the SDK enters the ready state. You can obtain the status of the SDK by listening to events. For more information, see [TIM.EVENT.SDK_READY](https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/module-EVENT.html#.SDK_READY).

> By default, multi-instance login is not supported. If you use an account that has been logged in on another page to log in on the current page, the account may be forcibly logged out on the other page, which will trigger the event `TIM.EVENT.KICKED_OUT`. You can proceed accordingly after detecting the event through listening. The following shows a listening example for multi-instance login:
```javascript
let onKickedOut = function (event) {
  console.log(event.data.type); // mutipleAccount (The same account that is used to log in on multiple pages on the same device is forcibly logged out.)
};
tim.on(TIM.EVENT.KICKED_OUT, onKickedOut);
```
To support multi-instance login (allowing the same account to log in on multiple webpages simultaneously), log in to the [IM console](https://console.cloud.tencent.com/im), find the corresponding SDKAppID, and choose **App Configuration** -> **Feature Configuration** -> **Login and Messages** -> **Number of Concurrent Online Web Instances** to configure the number of instances. The configuration will take effect within 50 minutes.

**API name**

```javascript
tim.login(options)
```

**Request Parameters**

| Name | Type | Description |
| --------- | -------- | ------------------------------------------------------------ |
| UserID | String | The ID of the user. |
| UserSig | String | The password with which the user logs in to the IM console. It is essentially the ciphertext generated by encrypting the information such as the UserID.<br/>For the detailed generation method, see [Generating UserSig](https://intl.cloud.tencent.com/document/product/1047/34385). |

**Return values**

This API returns a `Promise` object.

**Sample**

```javascript
let promise = tim.login({userID: 'your userID', userSig: 'your userSig'});
promise.then(function(imResponse) {
  console.log(imResponse.data); // Login succeeded.
}).catch(function(imError) {
  console.warn('login error:', imError); // Information about login failure.
});
```



## Logout
This API is usually called when you switch between accounts. It clears the login status of the current account and all the data in the memory.
>
>- When calling this API, the instance publishes the [SDK_NOT_READY](https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/module-EVENT.html#.SDK_NOT_READY) event. In this case, the instance is automatically logged out and cannot receive or send messages.
>- If the value of **Number of Concurrent Online Web Instances** configured in the [Instant Messaging Console](https://console.cloud.tencent.com/im) is greater than 1, and the same account has been used to log in to instances `a1` and `a2` (including Mini Program instances), after `a1.logout()` is executed, `a1` is automatically logged out and cannot receive or send messages, whereas `a2` is not affected.<br/>
>- Being forced offline in multi-instance login situations: if the “Number of Concurrent Online Web Instances” is set to 2 and your account has logged in to instances `a1` and `a2`, when this account successfully logs in to a third instance `a3`, either `a1` or `a2` is forced offline (usually the first login instance is forced offline). Assuming that `a1` is forced offline, `a1` internally executes the logout process and throws the event [KICKED_OUT](https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/module-EVENT.html#.KICKED_OUT). The access side can listen to this event and switch to the login webpage when it is triggered. At this time, `a1` goes offline, whereas `a2` and `a3` can continue to run normally.

**API name**

```js
tim.logout();
```

**Request parameters**

None.

**Return values**

This API returns `Promise` objects:
- The callback function parameter for `then` is [IMResponse](https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/global.html#IMResponse). `IMResponse.data` is a null object, indicating that logout succeeded.

- The callback function parameter for `catch` is [IMError](https://imsdk-1252463788.file.myqcloud.com/IM_DOC/Web/global.html#IMError).

**Sample**

```js
let promise = tim.logout();
promise.then(function(imResponse) {
  console.log(imResponse.data); // Logout succeeded.
}).catch(function(imError) {
  console.warn('logout error:', imError);
});
```
