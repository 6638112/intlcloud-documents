[](id:q1)

### 캐시 만료 설정이란 무엇입니까?
캐시 만료 설정이란 CDN 캐시 노드가 서비스 콘텐츠를 캐싱할 때 준수할 기간 만료 규칙을 설정하는 것을 가리킵니다.
CDN 노드에 캐싱된 모든 사용자 리소스에는 ‘기간 만료’라는 문제가 있습니다. 만약 리소스가 만료된 상태가 아니라면, 사용자 요청이 노드로 전송될 때 노드에서 해당 리소스를 곧바로 사용자에게 반환하여 가져오기 속도를 높여줍니다. 리소스가 만료된 상태라면(즉, 설정한 유효 기간이 지난 경우) 사용자의 요청이 노드에 의해 원본 서버로 전송된 뒤 다시 콘텐츠를 받아 노드에 캐싱하는 동시에 사용자에게 반환됩니다. 캐싱 시간을 합리적으로 설정하면 히트율은 더욱 높이고, 원본 요청률은 낮추어 사용자의 대역폭 비용을 절감할 수 있습니다.


[](id:q2)
### 브라우저에서의 파일 캐싱 시간은 어떻게 제어하나요?
콘솔에서 브라우저 캐시 만료 설정을 지원하며, 자세한 내용은 [브라우저 캐시 만료 설정] (https://intl.cloud.tencent.com/document/product/228/38932)을 참조하십시오.

[](id:q3)
### CDN 외부 원본 서버가 일부 파일을 캐싱하지 않도록 설정할 수 있나요? 캐싱 시간을 0으로 설정하면 되나요?
디렉터리 및 파일 유형에 따라 해당하는 캐시 시간을 설정할 수 있습니다. 캐시 시간을 0으로 설정하면 CDN 노드는 해당 리소스를 캐싱하지 않습니다. 사용자가 CDN 노드로 액세스 요청을 보낼 때마다 CDN 노드는 원본 서버로부터 해당하는 리소스를 불러와야 합니다. 캐시 설정에 관련된 내용은 [노드 캐시 설정](https://intl.cloud.tencent.com/document/product/228/35317)을 참조하십시오.

[](id:q4)
### Tencent Cloud가 지원하는 캐시 만료 설정에는 어떤 종류가 있나요?
Tencent Cloud CDN은 각 파일 유형에 대한 캐시 만료 규정 설정을 지원하며, 여러 캐싱 동작 및 사용자 정의 캐시 규칙의 우선순위 조정을 지원합니다. 캐시 규칙을 합리적으로 설정하면 히트율은 높이고 원본 요청률은 낮춰 사용자의 대역폭 비용을 절감할 수 있습니다. 자세한 내용은 [캐시 설정](https://intl.cloud.tencent.com/document/product/228/35315)을 참조하십시오.

[](id:q5)
### CDN의 캐시 설정 기본값은 무엇인가요?
가속 도메인 액세스 시, 서비스 유형별로 CDN에서 기본 노드 캐시 만료 규칙을 추가하며, 필요에 따라 변경할 수 있습니다.
- 정적 가속 서비스 유형을 선택하는 경우 일반적인 동적 파일(예: php, jsp, asp, aspx)은 기본적으로 캐시하지 않으며, 기타 모든 문서는 원본 서버를 따릅니다.
- 가속 다운로드, 스트림 미디어 VOD 서비스 유형을 선택하는 경우 모든 파일의 기본 캐시 만료 시간은 30일입니다.


[](id:q6)
### 캐시의 매칭 방식은 무엇인가요?
여러 개의 캐시 정책을 설정했을 때, 서로 간에 중복이 있을 수 있습니다. 설정 항목 목록의 아랫부분이 윗부분보다 우선순위가 높게 설정되어 있습니다. 한 도메인 캐시를 다음과 같이 설정했다고 가정해보겠습니다.
```
모든 파일 30일
.php .jsp .aspx 0초
.jpg .png .gif 300초
/test/*.jpg 400초
/test/abc.jpg 200초
```

도메인 이름이 `www.test.com`이고, 리소스는 `www.test.com/test/abc.jpg`라고 가정했을 때, 매칭 방식은 다음과 같습니다.
1. 첫째 줄의 모든 파일과 매칭, 캐시 히트, 이 때 캐시 시간은 30일.
2. 둘째 줄과 매칭, 캐시 미스.
3. 셋째 줄과 매칭, 캐시 히트, 이 때 캐시 시간은 300초.
4. 넷째 줄과 매칭, 캐시 히트, 이 때 캐시 시간은 400초.
5. 다섯째 줄과 매칭, 캐시 히트, 이 때 캐시 시간은 200초.

따라서 최종 캐싱 시간은 200초이며, 마지막 매칭을 기준으로 적용합니다.
