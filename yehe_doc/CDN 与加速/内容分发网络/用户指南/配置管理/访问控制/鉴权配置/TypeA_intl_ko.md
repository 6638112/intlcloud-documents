## 알고리즘 설명
**액세스 URL 형식**
`http://DomainName/Filename?sign=timestamp-rand-uid-md5hash`

**알고리즘 설명**
- timestamp: 10진법(UNIX 타임스탬프).
- rand: 랜덤 문자열, 0~100자리의 랜덤 문자열, 대소문자 및 숫자로 구성됩니다.
- uid：0
- md5hash: MD5(파일 경로-timestamp-rand-uid- 사용자 지정 키).

**요청 예시**
`http://cloud.tencent.com/test/test.jpg?sign=1582791032-im1acp76sx9sdqe601v-0-dd63f95e739ed4b47427a129d21ef4e3`

>요청 경로가 `http://cloud.tencent.com/test.jpg`이면 MD5 계산 시의 경로는 `/test.jpg`입니다.

## 설정 가이드
### 매개변수 설명
TypeA 설정 시 필요한 내용은 다음과 같습니다.
![](https://main.qcloudimg.com/raw/446781f6e47823eae931f8d8a3a5545e.png)
**사용자 지정 인증키**: 6 - 40자리의 대소문자, 숫자로 구성됩니다. 키는 사용자와 서버만 알도록 보안을 엄격히 준수해야 합니다.
**사용자 지정 인증 매개변수명 및 타임스탬프 매개변수명**: 예시 중의 sign을 임의의 1 - 100자리 대소문자, 숫자 또는 언더바로 구성된 임의의 매개변수명으로 대체합니다. CDN은 요청을 받은 후 지정한 Sign 매개변수에 따라 해당하는 값을 도출하여 MD5 계산을 진행합니다. 이때 전달받은 md5hash 값과 매칭되면 Sign 인증 확인 통과이며, 통과하지 못할 경우 바로 403을 리턴합니다.
**사용자 지정 유효시간**: 요청 내에 포함된 timestamp을 통해 설정된 유효시간을 더한 후 현재 시간과 대조하여 요청 만료 여부를 판단합니다. 만료 시 바로 403을 리턴합니다. 

### 적용 객체
키, 매개변수 명, 만료 시간을 설정한 후 필요에 따라 인증 객체를 아래의 3가지 모드 중 하나로 지정할 수 있습니다.
![](https://main.qcloudimg.com/raw/1952a0ac13633a87d4b676e52bf2eb10.png)
+ 지정한 도메인 아래 모든 파일을 인증하도록 설정합니다.
+ 지정 유형의 파일은 인증하지 않고, 나머지는 모두 인증하도록 설정합니다.
+ 지정 유형의 파일만 인증하도록 설정합니다.

## 주의 사항
**캐시 히트율**
TypeA 인증 모드를 활성화한 도메인은 URL에 액세스할 때 인증 매개변수를 포함하므로 CDN 노드에서 리소스를 캐싱할 때 해당하는 매개변수를 자동으로 무시하기 때문에, 도메인 캐시 히트율에 영향을 미치지 않습니다.
**원본 요청 정책**
TypeA 인증 모드를 활성화한 도메인의 액세스 형식은 다음과 같습니다.
`http://DomainName/Filename?sign=timestamp-rand-uid-md5hash`

인증 확인 통과 후 CDN 노드에 히트하지 못하면 노드가 요청을 보내 **형식과 액세스 요청이 일치하도록 sign 매개변수를 보류하며**, 원본 서버는 필요에 따라 무시하거나 2차 검증을 진행할 수 있습니다.
