## Overview

This document describes how to create a custom policy in different ways. A custom policy allows granular permission division and can flexibly meet your differentiated permission management needs.
The following video shows you how to use the policy generator to create policies:



## Prerequisites

Log in to the CAM console and enter the [Policies](https://console.cloud.tencent.com/cam/policy) page.

## Directions

### Creating by policy generator

With a policy created by the policy generator, you can create policy syntax automatically by selecting services and actions (operations) and defining resources. This method is highly recommended for its simplicity and flexibility.

1. On the policy management page, click **Create Custom Policy** in the top-left corner.
2. In the selection window that pops up, click **Create by Policy Generator** to enter the **Select Service and Action** page.
3. Select the service in the **Visual Policy Generator**, enter the following information, and edit an authorization statement. (You can also choose JSON to use the policy syntax method to edit the policy, and the authorization effect is the same as the **Visual Policy Generator**).

  - Effect (required): select **Allow** or **Deny**.

  - Service (required): select the service you want to authorize.

  - Action (required): select the operations you want to authorize.

  - Resource (required): select all resources or specific resources you want to authorize.

    Tencent Cloud products with operation-level or service-level authorization granularity do not support six-segment resource descriptions. For such products, simply select all resources.

    For Tencent Cloud products with resource-level authorization granularity, you can select specific resources. For more information on the resource description method, please see the corresponding CAM Guide in [CAM-Enabled Products](https://intl.cloud.tencent.com/document/product/598/10588). For more information on the authorization granularities of Tencent Cloud products, please see the Authorization Granularity section in [CAM-Enabled Products](https://intl.cloud.tencent.com/document/product/598/10588).

 - Condition (optional): set the conditions that must be met for the authorization to take effect. For more information, please see [Condition](https://intl.cloud.tencent.com/document/product/598/10608).

>?  
>- If you want to authorize multiple services, you can click **Add Permission** to add multiple authorization statements and configure authorization policies for other services.
>- Multiple statements can be added in one policy.

4. After editing the policy authorization statement, click **Next** to enter the **Associate with User/User Group** page.
5. On the **Associate with User/User Group** page, add the policy name and description, and you can associate users or user groups for quick authorization at the same time.

>?  
> - The policy name is automatically generated by the console and is `policygen` suffixed with the creation time by default, which is customizable.

6. Click **Done** to complete the custom policy creation.

### Creating by product feature or project permission

#### Creating by product feature

With a policy created by product feature, you can control the permission granularity during business access, which helps meet the moderate yet uncomplicated requirements for permission division.

1. On the policy management page, click **Create Custom Policy** in the top-left corner.
2. In the selection window that pops up, click **Create by Product Feature or Project Permission** to enter the **Configure Service Types** page.
3. On the **Configure Service Types** page, enter the policy name.
4. In the **Select Service Types** column, select a service type and click **Next** to enter the **Configure Permissions** page.

>?
>
>- You can select CDN, PM, ILVB, queue type, topic model, and SMS.
>- You can select multiple items.

5. On the **Configure Permissions** page, set the feature permission switch that needs to be enabled to **on** and click **Next** to enter the **Associate Objects** page.
6. On the **Associate Objects** page, click **Associate Objects** and select the objects to be associated.
7. Click **Done** to complete the custom policy creation.

#### Creating by project permission

Policies created by project permission quickly authorize resources under the same project to a user or user group.

1. On the policy management page, click **Create Custom Policy** in the top-left corner.
2. In the selection window that pops up, click **Create by Product Feature or Project Permission** to enter the **Configure Service Types** page.
3. On the **Configure Service Types** page, enter the policy name, select **Project Management** in the **Select Service Types** column, and click **Next** to enter the **Configure Permissions** page.
4. On the **Configure Permissions** page, configure the project management feature according to your actual needs.

 - If you need to manage the Tencent Cloud resources of CDN projects, please toggle on **Manage Tencent Cloud resources in CDN projects**.
 - If you need to manage the Tencent Cloud resources of other projects, please toggle on **Manage Tencent Cloud resources in other projects**.

5. On the **Associate Objects** page, click **Associate Objects**.
6. In the **Associate Objects** pop-up window, select **Select by Project**, select the objects to be associated, and click **OK**.
7. Click **Done** to complete the custom policy creation.

### Creating by policy syntax

With a policy created by policy syntax, you can set the permission granularity in a more flexible manner, which helps meet high requirements for fine-grained division of permissions.

1. On the policy management page, click **Create Custom Policy** in the top-left corner.
2. In the selection window that pops up, click **Create by Policy Syntax** to enter the **Select Policy Template** page.
3. On the **Select Policy Template** page, you can search for templates by keyword. For example, set the template type as "All Templates" and enter "a" as a keyword. The `AdministratorAccess` template will appear as one of the searched results. Select this template.
4. Click **Next** to enter the **Edit Policy** page.
5. On the **Edit Policy** page, confirm the policy name and content and click **Create Policy** to complete the creation of custom policy by policy syntax. The default policy name and content are automatically generated by the console. The policy name is `policygen` suffixed with the creation time by default.

### Authorizing by tag

Authorization by tag enables you to quickly authorize resources under the same tag to a user or user group.

1. On the policy management page, click **Create Custom Policy** in the top-left corner.
2. In the creation method selection window that pops up, click **Authorize by Tag** to enter the **Authorize by Tag** page.
3. On the **Authorize by Tag** page, select the following information and click **Next** to enter the check page.

 - Authorize User/User Group: check the user/user group to be authorized (choose one).
 - Tag Key: select the tag key to be authorized (required).
 - Tag Value: select the tag value to be authorized (required).
 - Resources: the management permission is granted by default.

4. Confirm the policy name and content and click **Done** to complete the custom policy creation. The default policy name and content are automatically generated by the console. The policy name is `policygen` suffixed with the creation time by default.
