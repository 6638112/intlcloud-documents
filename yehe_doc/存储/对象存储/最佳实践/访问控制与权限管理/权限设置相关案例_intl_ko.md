## 버킷 정책(Policy)을 이용한 권한 부여 사례

### 준비 작업

1. 버킷 생성
버킷 정책(Policy)를 이용해 특정 버킷에 대해서만 권한을 부여합니다. 따라서 먼저 [버킷 생성](https://intl.cloud.tencent.com/document/product/436/13309)을 해야 하며, 계정 측면에서 권한을 부여해야 하는 경우 본 문서의 [CAM을 이용한 권한 부여 사례](#cam)를 참조하십시오.
2. 권한을 부여 받을 계정의 UIN 준비
본 문서에서는 타깃 버킷의 루트 계정 UIN이 100000000001이고, 해당 계정 아래의 서브 계정이 100000000011이며, 서브 계정이 권한을 받아야만 타깃 버킷에 액세스할 수 있다고 가정합니다.
>
>- 루트 계정에서 생성한 서브 계정 확인이 필요한 경우 CAM 콘솔에 로그인한 후 [사용자 리스트](https://console.cloud.tencent.com/cam)에서 확인할 수 있습니다.
>- 새로운 서브 계정을 생성해야 하는 경우 [서브 계정 생성](https://intl.cloud.tencent.com/document/product/598/13674) 문서를 확인하십시오.
3. [정책 추가] 대화 상자 열기
타깃 버킷의 [권한 관리]로 이동하여 [Policy 권한 설정]>[그래픽 설정]을 선택한 후, [정책 추가]를 클릭해 대화 상자를 엽니다. 그리고 본 문서의 권한 부여 사례를 참고하여 설정을 진행합니다. 정책 추가에 대한 자세한 작업 가이드는 [버킷 정책 추가](https://intl.cloud.tencent.com/document/product/436/30927) 문서를 참조하십시오.

다음은 몇 가지 권한 부여 사례 예시로, 사용자의 실제 상황에 따라 참고하여 설정합니다.

### 권한 부여 사례

#### 사례1: 서브 계정에 특정 디렉터리의 모든 권한 부여
설정 정보는 다음과 같습니다.

|설정 항목|설정값|
|------|------|
|효과|허용|
|사용자 유형|서브 계정|
|계정 ID|서브 계정의 UIN이며, 해당 서브 계정은 반드시 현재 루트 계정의 서브 계정이어야 합니다. 예: 100000000011|
|리소스|리소스 지정|
|리소스 경로|특정 디렉터리 접두사로, 마지막에 `/`가 삽입되어야 합니다. 예: `folder/sub-folder/`|
|작업 이름|모든 작업|





#### 사례2: 서브 계정에 특정 디렉터리내 파일의 읽기 권한 부여
설정 정보는 다음과 같습니다.

|설정 항목|설정값|
|------|------|
|효과|허용|
|사용자 유형|서브 계정|
|계정 ID|서브 계정의 UIN이며, 해당 서브 계정은 반드시 현재 루트 계정의 서브 계정이어야 합니다. 예: 100000000011|
|리소스|리소스 지정|
|리소스 경로|특정 디렉터리 접두사로, 마지막에 `/`가 삽입되어야 합니다. 예: `folder/sub-folder/`|
|작업 이름|읽기 작업(객체 리스트 조회 포함)|



#### 사례3: 서브 계정에 특정 파일의 읽기 및 쓰기 권한 부여
설정 정보는 다음과 같습니다.

|설정 항목|설정값|
|------|------|
|효과|허용|
|사용자 유형|서브 계정|
|계정 ID|서브 계정의 UIN이며, 해당 서브 계정은 반드시 현재 루트 계정의 서브 계정이어야 합니다. 예: 100000000011|
|리소스|리소스 지정|
|리소스 경로|특정 객체 키, 예: `folder/sub-folder/exampleobject`|
|작업 이름|모든 작업|





#### 사례4: 서브 계정에 특정 디렉터리의 모든 파일에 대한 읽기 및 쓰기 권한을 부여하고, 해당 디렉터리의 지정 파일에 대한 읽기 및 쓰기는 금지

해당 사례의 경우 **허용** 정책과 **금지** 정책, 두 가지 정책을 추가해야 합니다.

1. 먼저 **허용** 정책을 추가하며, 설정 정보는 다음과 같습니다.

|설정 항목|설정값|
|------|------|
|효과|허용|
|사용자 유형|서브 계정|
|계정 ID|서브 계정의 UIN이며, 해당 서브 계정은 반드시 현재 루트 계정의 서브 계정이어야 합니다. 예: 100000000011|
|리소스|리소스 지정|
|리소스 경로|특정 디렉터리 접두사로, 마지막에 `/`가 삽입되어야 합니다. 예: `folder/sub-folder/`|
|작업 이름|모든 작업|




2. 그리고, **금지** 정책을 추가합니다. 설정 정보는 다음과 같습니다.

|설정 항목|설정값|
|------|------|
|효과|금지|
|사용자 유형|서브 계정|
|계정 ID|서브 계정의 UIN이며, 해당 서브 계정은 반드시 현재 루트 계정의 서브 계정이어야 합니다. 예: 100000000011|
|리소스|리소스 지정|
|리소스 경로|액세스를 금지할 객체 키, 예: `folder/sub-folder/privateobject`|
|작업 이름|모든 작업|




#### 사례5: 서브 계정에 지정 접두사 파일에 대한 읽기 및 쓰기 권한 부여
설정 정보는 다음과 같습니다.

|설정 항목|설정값|
|------|------|
|효과|허용|
|사용자 유형|서브 계정|
|계정 ID|서브 계정의 UIN이며, 해당 서브 계정은 반드시 현재 루트 계정의 서브 계정이어야 합니다. 예: 100000000011|
|리소스|리소스 지정|
|리소스 경로|특정 접두사, 예: `folder/sub-folder/prefix`|
|작업 이름|모든 작업|




<span id=cam>

## CAM을 이용한 권한 부여 사례

계정 측면에서 권한을 부여하는 경우 다음 문서를 참조하여 설정하십시오.

- [서브 계정에 해당 계정 하의 COS 리소스에 대한 모든 권한 부여](https://intl.cloud.tencent.com/document/product/598/11083)
- [서브 계정에 특정 디렉터리의 모든 권한 부여](https://intl.cloud.tencent.com/document/product/598/11084)
- [서브 계정에 특정 디렉터리 내 파일의 읽기 권한 부여](https://intl.cloud.tencent.com/document/product/598/11085)
- [서브 계정에 특정 파일의 읽기 및 쓰기 권한 부여](https://intl.cloud.tencent.com/document/product/598/11086)
- [서브 계정에 COS 리소스의 읽기 권한 부여](https://intl.cloud.tencent.com/document/product/598/11087)
- [서브 계정에 특정 디렉터리의 모든 파일에 대한 읽기 및 쓰기 권한을 부여하고, 해당 디렉터리의 지정 파일에 대한 읽기 및 쓰기는 금지](https://intl.cloud.tencent.com/document/product/598/11088)
- [서브 계정에 지정 접두사 파일에 대한 읽기 및 쓰기 권한 부여](https://intl.cloud.tencent.com/document/product/598/11090)
- [서브 계정 간에 지정 파일의 읽기 및 쓰기 권한 부여](https://intl.cloud.tencent.com/document/product/598/11091)
