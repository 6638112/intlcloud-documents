## 개요

Tencent Cloud는 증권 업계 SEC(Securities Exchange Commission) Rule 17A-4 규정을 충족하기 위해 COS에 객체 잠금 기능을 제공합니다. 이 기능으로 설정한 기간 내에 객체를 수정하거나 삭제할 수 없으며 즉시 액세스할 수 있습니다.

>？SEC 17A-4 규정은 미국 증권거래위원회가 1934년 미국 증권거래법에 따라 반포한 법규입니다. 해당 규정에서는 데이터 보관, 색인, 액세스 가능 요건에 관해 설명하고 있으며 주식, 채권, 선물 등 금융 증권 거래 또는 중개 서비스 회사에 적용됩니다. 해당 규정에 따라 수많은 유형의 거래 기록은 반드시 보관되며 다시 쓰기 및 삭제가 금지되고, 최소 6년 이상 즉시 액세스할 수 있어야 합니다.

객체 잠금 기능은 현재 버킷 레벨로 설정할 수 있으며, 버킷별로 시간 정책 기반의 객체 잠금을 1개만 설정할 수 있습니다. 보관 주기는 필수 설정 항목으로 1일~100년까지 설정할 수 있으며, 영구 보관은 지원하지 않습니다.

버킷에 객체 잠금을 설정하면 보관 주기 내에는 다음 작업을 할 수 없습니다.

a. 객체 삭제 및 수정 불가
b. 객체 스토리지 유형 수정 불가
c. Content-Type, Content-Encoding, Content-Language, Content-Disposition, Cache-Control, Expires, x-cos-meta-를 포함한 객체 HTTP 헤더 및 사용자 메타데이터 모두 수정 불가

시간 정책 기반의 객체 잠금은 한 가지 상태밖에 없으며 시간 정책을 생성하고 제출하면 즉시 적용됩니다. 해당 상태에서는 규칙을 수정 및 삭제할 수 없고 보관 주기만 연장할 수 있습니다.




## 사용 방법

콘솔, API를 통해 객체 잠금을 설정할 수 있습니다.

#### COS 콘솔 사용

COS 콘솔에서 객체 잠금을 설정할 수 있으며, 자세한 내용은 [객체 잠금 설정](작업 문서로 리디렉션) 콘솔 가이드 문서를 참조하십시오.

#### REST API 사용

다음 API를 통해 객체 잠금을 관리할 수 있습니다.

- [PUT Bucket ObjectLockConfiguration](#11)
- [GET Bucket ObjectLockConfiguration](#1)
- [GET Object Retention](#) 



## 제한 설명

1. 객체 잠금 기능은 현재 화이트리스트 클라이언트 및 버지니아(미국 동부), 실리콘밸리(미국 서부) 리전에서만 지원합니다. 자세한 내용은 [고객센터](https://intl.cloud.tencent.com/support)를 통해 문의하십시오.

2. 객체 잠금 기능은 기존에 저장된 버킷 및 객체를 지원합니다. 다음 예시를 참조하십시오.

2012년 7월 1일에 examplebucket이라는 이름의 버킷을 생성하였고 서로 다른 시간에 test1.txt, test2.txt, test3.txt 세 개의 파일을 업로드하였으며 2013년 9월 1일에 보관 주기가 5년인 객체 잠금 정책을 생성했다고 가정할 경우, 이 세 개 파일의 구체적인 업로드 날짜 및 객체 잠금 규칙에 따른 만료 날짜는 다음과 같습니다. 

| 파일 이름  | 업로드 날짜      | 객체 잠금 규칙 만료 날짜 |
| --------- | ------------- | -------------------- |
| test1.txt | 2012년 7월 1일  | 2017년 6월 30일        |
| test2.txt | 2013년 9월 1일  | 2018년 8월 31일        |
| test3.txt | 2017년 7년 30일 | 2022년 7월 29일        |

3. 객체 잠금은 버킷 복사를 지원하지 않으며, 타깃 버킷이 되거나 원본 버킷이 될 수 없습니다.
4. 객체 잠금을 설정한 후에는 COS 유형을 변경할 수 없으며 객체 라이프사이클 기능을 지원하지 않습니다. 참고: 사용자가 동일한 객체에 라이프사이클을 설정하고 객체 잠금도 설정한 경우, 해당 라이프사이클 설정은 적용되지 않습니다.
5. 조각 파일 정리 작업은 실행할 수 있습니다.
6. 객체 잠금을 설정한 후에는 단독으로 삭제할 수 없습니다. 버킷을 비워야만 버킷을 삭제할 수 있으며, 이에 따라 객체 잠금 규칙이 삭제됩니다.
7. 객체 잠금을 활성화한 후 버킷과 객체 ACL은 수정할 수 있습니다. 
8. 버전 제어 활성화/비활성화 상태에서 객체 잠금 기능을 사용하면 객체 삭제 및 수정 효과가 동일하게 적용됩니다.


































































