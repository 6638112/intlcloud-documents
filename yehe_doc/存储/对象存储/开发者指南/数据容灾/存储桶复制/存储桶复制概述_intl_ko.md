## 소개

버킷 복사는 하나의 버킷 설정 항목으로, 버킷 복사 규칙을 설정하여 다른 버킷에 자동 및 비동기화 방식으로 **증분 객체**를 복사합니다. 버킷 복사를 활성화하면 COS에서 원본 버킷에 있는 객체 콘텐츠(예: 객체 메타데이터 및 버전 ID 등)를 타깃 버킷에 정확하게 복사하며, 복사한 객체 사본은 원본과 속성 정보까지 완전하게 일치합니다. 이 외에도, 원본 버킷의 객체 추가, 객체 삭제 등 객체 작업에 대해서도 타깃 버킷에 복사합니다.

>!
>
>- 버킷 복사 기능 활성화 시에는 원본 버킷과 타깃 버킷 모두에 버전 제어 기능을 활성화해야 합니다.
>- 버킷 복사 활성화 시, 데이터를 복사할 때 객체 사본의 스토리지 유형을 명확하게 설정하는 경우를 제외하고 모두 원본과 동일한 스토리지 유형으로 유지됩니다.
>- COS 복사 시 원본 버킷의 액세스 제어 리스트(ACL)을 복사합니다. 현재 COS는 서로 다른 2개 계정의 버킷 상호 간에 원본 버킷과 타깃 버킷으로 설정하는 것을 지원하지 않습니다.



## 적용 시나리오

- **원격 재해 복구:** COS는 객체 데이터에 12개 9의 가용성을 제공하지만, 여전히 전쟁, 자연 재해 등 각종 불가항력적인 요소로 인해 데이터 유실이 발생합니다. 데이터 유실로 인한 손해가 커 명시적으로 다른 버킷에 유지 보수용 데이터 사본을 복사하고 싶은 경우, 버킷 복사를 통해 데이터 원격 재해 복구를 실현할 수 있습니다. 특정 데이터 센터에서 불가항력적인 요소로 인해 데이터가 유실된 경우 다른 버킷의 데이터센터에서 사본 데이터를 이용해 사용할 수 있도록 제공합니다. 
- **컴플라이언스 요건:** COS는 기본적으로 물리 디스크에서 멀티 사본 및 이레이저 코딩 등의 방식으로 데이터의 가용성을 보장합니다. 그러나 특정 분야에서는 컴플라이언스 요건이 존재하며, 다른 버킷에 데이터 사본을 저장하도록 규정하고 있습니다. 이에 따라 버킷 복사를 활성화하여 다른 버킷에 데이터를 복사해 해당 컴플라이언스 요건을 충족할 수 있습니다.
- **액세스 딜레이 감소:** 귀하의 고객이 서로 다른 지리적 위치에서 객체에 액세스하는 경우, 버킷 복사를 통해 고객의 지리적 위치와 가장 가까운 버킷에 유지 보수용 데이터 사본을 복사해 최대 한도로 고객의 액세스 딜레이를 줄일 수 있어 귀하의 제품에 대한 경험을 향상시켜 줍니다.
- **작업 원인:** 두 개의 서로 다른 버킷에 컴퓨팅 클러스터가 존재하고 해당 컴퓨팅 클러스터에서 동일한 데이터를 처리해야 하는 경우, 버킷 복사를 통해 해당 두 개의 버킷에 유지 보수용 객체 사본을 복사할 수 있습니다.
- **데이터 마이그레이션 및 백업:** 비즈니스 확장 수요에 따라 비즈니스 데이터를 한 버킷에서 다른 버킷으로 복사하여 데이터 마이그레이션 및 데이터 백업을 실현할 수 있습니다.

## 주의사항

#### 복사 시간 제한

COS의 객체 복사 소요 시간은 객체의 크기, 버킷 리전 간의 거리, 객체의 업로드 방식 등의 요소에 의해 결정됩니다. 동기화 소요 시간은 해당 요소에 따라 달라지며, 몇 분에서 몇 시간까지 소요될 수 있습니다.

- 객체 크기: 대용량 객체 복사 시에는 더 많은 시간이 소요됩니다. 대용량 객체는 멀티파트 업로드 방식을 사용하여 객체의 업로드 및 동기화 시간을 단축하기를 권장합니다.
- 버킷 리전 간의 거리: 리전 간의 거리가 멀 수록 동기화 시 더 많은 데이터 전송 시간이 소요됩니다.
- 객체 업로드 방식: 간편 업로드 방식은 동시 접속이 불가능하며, 데이터를 하나씩 순차적으로 업로드 또는 다운로드합니다. 멀티파트 업로드 방식은 동시 접속이 가능해 대용량 파일 업로드 시 멀티파트 업로드 방식을 이용하면 더욱 빠르게 업로드 및 버킷을 복사할 수 있습니다. 객체 업로드 방식에 대한 자세한 소개는 [간편 업로드](https://intl.cloud.tencent.com/document/product/436/14113) 및 [멀티파트 업로드](https://intl.cloud.tencent.com/document/product/436/14112) 문서를 참조하십시오.

#### 라이프사이클 관련

버킷 복사 시에는 버전 제어 기능을 활성화해야 합니다. 버전 제어 기능은 버킷에 있는 객체에 여러 개의 이전 버전이 존재할 수 있도록 하며, 비교적 많은 스토리지 용량을 차지합니다. COS의 버킷 복사 과정에는 데이터 요청 비용, 다운스트림 트래픽 비용, 데이터 스토리지 비용이 발생하며, 이 중에서 데이터 스토리지 비용은 타깃 버킷이 소재하고 있는 리전의 스토리지 비용 가격을 따릅니다. 버킷 복사 및 버전 제어로 인한 비용을 절감하고 싶거나 데이터 보관 방법을 사용자 정의하고 싶은 경우, 귀하의 비즈니스 요건과 결합하여 [라이프사이클 관리](https://intl.cloud.tencent.com/document/product/436/17028)를 통해 스토리지 비용을 제어하거나 데이터 보관 방식을 사용자 정의할 수 있습니다.

- 타깃 버킷의 객체 사본이 원본 데이터와 동일한 라이프사이클 규칙을 따르도록 설정하고 싶은 경우, 타깃 버킷에 원본 버킷과 동일한 라이프사이클 규칙을 추가하십시오.
- 타깃 버킷에 라이프사이클 규칙을 설정한 경우, 버킷 복사 후의 객체 사본의 생성 시간은 해당 원본 버킷에서의 생성 시간과 동일하며, 타깃 버킷에 생성된 시간이 아닙니다.
- 원본 버킷에 라이프사이클 규칙을 설정하였고, 특정 객체에 대해 현재 버킷 복사가 진행되고 있는 상태에서 라이프사이클 규칙으로 인해 삭제되어야 하는 경우, 해당 객체의 버킷 복사는 계속해서 실행되며 타깃 버킷에 객체 사본이 저장됩니다.

#### 버전 제어 관련

버킷 복사 설정 시에는 원본 버킷과 타깃 버킷 모두에 버전 제어 기능을 설정해야 합니다. 버전 제어 기능에 대한 자세한 내용은 [버전 제어 개요](https://intl.cloud.tencent.com/document/product/436/19883)를 참조하십시오. 버전 제어 활성화 후, 버전 제어 비활성화 시 버킷 복사 기능에 대한 영향에 주의해야 합니다.

- 버킷 복사 기능을 활성화한 버킷에 버전 제어 기능을 비활성화하는 경우, COS에서 오류를 반환하며 먼저 버킷 복사 규칙 삭제 후 버전 제어 기능을 비활성화하도록 안내합니다.
- 타깃 버킷에 버전 제어 기능을 비활성화하는 경우, COS에서 버전 제어 기능을 비활성화하면 버킷 복사 기능에 영향이 미친다는 안내를 표시합니다. 이때 계속해서 버전 제어 기능을 비활성화하면 COS는 해당 버킷을 타깃 버킷으로 하는 버킷 복사 규칙을 적용하지 않습니다.
