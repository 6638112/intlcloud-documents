## Overview

CDN acceleration is used to speed up the download and delivery of COS bucket content, especially if the same content is downloaded repeatedly.

## Setup Instructions

You can manage the following domain names to quickly download and deliver objects in buckets:

- Default domain name: This is COS origin server's domain name, which is automatically generated based on the bucket name and region when the bucket is created. It should be distinguished from the default CDN acceleration domain name.
- Default CDN acceleration domain name: This is the domain name passing through CDN acceleration nodes and is generated by the system. You can choose to enable/disable it.
- Custom CDN acceleration domain name: You can bind for your bucket a custom domain name with ICP filing to Tencent Cloud Content Delivery Network (CDN), and access objects in your bucket using this domain name. (If you have enabled "User-defined domain name" in a previous version of COS Console, then the new version will continue to display "User-defined domain name" instead of “Custom CDN acceleration domain”.)
- Custom origin server domain name: You can bind a custom domain name with ICP filing to the current bucket, and access objects in the bucket using this domain name.

>Currently, you need to activate CDN service to use a custom domain name in COS.
>- For domain names connected to a CDN node in Mainland China, you need to complete ICP filing. You are not required to do so through Tencent Cloud though.
>- For domain names connected to a CDN node outside China, you don’t need to complete ICP filing. However, you do need to follow relevant laws and regulations and the Tencent Cloud Service Agreement for your stored data and operations on Tencent Cloud.

With CDN acceleration enabled for the default or custom CDN acceleration domain name, if the origin server is a public-read bucket, the objects in the origin server can be accessed via the default or custom CDN acceleration domain name. If the origin server is a private-read bucket, it is recommended to enable the CDN origin-pull authentication and CDN authentication configuration options.

- Origin-pull authentication (CDN service authorization must be added before it can be enabled): If the data requested by a user is not cached in the edge node, CDN fetches the data from the origin server. If COS is used as the origin server and origin-pull authentication is enabled, the CDN edge server accesses the COS origin server using a special service identity (which must be authorized by CDN service) to acquire and cache the data in the private bucket.
- CDN authentication: When a user attempts to acquire cached data by accessing an edge server, the edge server verifies the authentication field in the accessed URL based on the authentication configuration rules to prevent unauthorized access and realize hotlink protection, thus improving the security and reliability of the data cached in the edge server.

CDN authentication configuration and CDN origin-pull authentication do not conflict with each other, but whether to enable them can affect the level of data protection, as shown below:

| Bucket access permission | CDN origin-pull authentication | CDN authentication configuration | Origin server can be accessed via CDN acceleration domain name | Origin server can be accessed via COS origin server domain name | Scenarios |
| ------------------- | --------------------- | --------------------- | ------------------------------- | ------------------------------- | ------------ |
| Public read              | No                  | No                  | Yes                          | Yes                          | Site-wide public read   |
| Public read              | No                  | Yes                  | Requires URL authentication                 | Yes                          | No recommendation       |
| Public read              | Yes                  | No                  | No                        | Yes                          | No recommendation       |
| Public read              | Yes                  | Yes                  | Requires URL authentication                 | Yes                          | No recommendation       |
| Private read + CDN service authorization | Yes                  | Yes                  | Requires URL authentication                 | Requires COS authentication                 | Full link protection   |
| Private read + CDN service authorization | No                  | Yes                  | Requires URL authentication                 | Requires COS authentication                 | No recommendation   |
| Private read + CDN service authorization | Yes                  | No                  | Yes                          | Requires COS authentication                 | origin server protection     |
| Private read + CDN service authorization | No                  | No                  | No                        | Requires COS authentication                 | No recommendation       |
| Private read              | No                  | Yes or No            | No                        | Requires COS authentication                 | CDN not available |

>
> - For the first row of the above list, if the bucket access permission in origin server is public read, and neither CDN origin-pull authentication nor CDN authentication configuration is enabled, then CDN edge servers and buckets in origin server can be accessed directly via the CDN domain name, and buckets in origin server can be accessed directly via the COS domain name.
> - After CDN acceleration is enabled for a domain name, anyone can directly access the origin server via the domain name. Therefore, if you need to keep you data private, be sure to protect your data in the origin server through **Authentication Configuration**.

## Related Actions
- [Enabling Default Acceleration Domain Name](https://intl.cloud.tencent.com/document/product/436/31505)
- [Enabling Custom Acceleration Domain Name](https://intl.cloud.tencent.com/document/product/436/31506)
- [Enabling Custom Origin Server Domain Name](https://intl.cloud.tencent.com/document/product/436/31507)
- [Granting a sub-account acceleration domain name configuration permission](https://intl.cloud.tencent.com/document/product/436/31712)
