## 概要

COSバケットのドメイン名管理設定ページには、デフォルトのアクセラレーションドメイン名、カスタムCDNアクセラレーションドメイン名、カスタムオリジンサーバードメイン名という3つの機能の設定があります。そのうちデフォルトのアクセラレーションドメイン名とカスタムCDNアクセラレーションドメイン名の設定は、CDNサービスに論理的にバインドされています。従って、サブアカウントがCOSバケットのデフォルトアクセラレーションドメイン名とCDNアクセラレーションドメイン名を設定する必要がある場合、COSサービスの管理権限（バケットの基本設定権限など）だけでなく、**CDNサービス**の追加設定に関する権限も付与する必要があります。

リソースセキュリティ管理のため、**サブアカウント**にCDNサービスに関する権限を付与していない場合、**サブアカウント**は、デフォルトではCOSバケットのデフォルトアクセラレーションドメイン名およびCDNアクセラレーションドメイン名を設定する権限を持たなくなります。そのため、権限を付与していない場合には、サブアカウントが[COSコンソール](https://console.cloud.tencent.com/cos5)のドメイン名管理設定ページにログインすると、下図のように、アクセス権限がない旨のメッセージが表示されます。
![](https://main.qcloudimg.com/raw/88c11a1973f03c83831cf87845ee7a01.png)


サブアカウントでCOSバケットのデフォルトアクセラレーションドメイン名とCDNアクセラレーションドメイン名を通常どおり設定できるようにしたい場合は、[CAMコンソール](https://console.cloud.tencent.com/cam/overview)でサブアカウントへの権限承認をする必要があります。詳細な手順は次のとおりです。

## 操作手順

1. [CAMコンソール](https://console.cloud.tencent.com/cam/overview)には対応するポリシーテンプレートがないため、カスタムポリシーを新規作成する必要があります。CAMコンソールの[ポリシー](https://console.cloud.tencent.com/cam/policy)ページに進み、【カスタムポリシーの新規作成】>【製品機能またはプロジェクトによる権限の作成】を選択し、サービスタイプの設定ページに進みます。
>権限の設定は、デフォルトでは**ルートアカウント**で設定されます。お客様がサブアカウントであり、サブアカウントで権限承認を行いたい場合は、ルートアカウントがお客様に対し権限の設定を行う権限を承認していることを確認してください。ここでルートアカウントから付与される必要のある関連ユーザーポリシーは、QcloudCamFullAccessです。
2. サービスタイプの設定ページで、ポリシー名（例：COS_DomainAccess）を入力し、サービスタイプとして【CDN】を選択します。
   
3. 【次のステップ】をクリックすると、お客様のビジネスニーズに応じて、ユーザーに適切な機能インターフェースを付与することができます。COSバケットのデフォルトのアクセラレーションドメイン名とCDNアクセラレーションドメイン名にアクセスして設定するサブアカウントの動作には、**ドメイン名情報の照会、ドメイン名の追加、オンライン/オフラインドメイン名、ドメイン名の削除、ドメイン名設定の変更**など5つの機能が含まれます。サブアカウントで、バケットのドメイン名設定ページにおけるすべてのアクセラレーションドメイン名とカスタムアクセラレーションドメイン名に関連する設定を**完全に読み取り/書き込み**できるようにしたい場合は、上記のすべての機能を有効にしてください。
4. 対応する機能を選択した後、【次のステップ】をクリックしてオブジェクトのバインドを開始します。
5. お客様の機能にオブジェクトを順番にバインドします。【関連オブジェクト】>【すべてのオブジェクト（今後購入する新しいリソースオブジェクトを含む）】を選択します。ここでは、ポリシー設定が完全に有効になるように、**必ず**【すべてのオブジェクト（今後購入する新しいリソースオブジェクトを含む）】を選択する必要があります。
6. 権限設定情報が正しいことを確認し、【完了】をクリックすると、カスタムポリシーの作成が完了します。
7. カスタムポリシーの作成が完了したら、[ユーザーリスト](https://console.cloud.tencent.com/cam)ナビゲーションバーに切り替えます。右側の【承認】をクリックして、サブユーザーを作成したカスタムポリシーにバインドします。
![](https://main.qcloudimg.com/raw/f394425f8997d39d339e6327a2c94fd5.png)
8. **関連ポリシー**のポップアップウィンドウで、先ほど作成したカスタムポリシーを検索してチェックを入れ、【OK】をクリックすれば完了です。
   ![](https://main.qcloudimg.com/raw/c5dc62d62250a19ceac131b637ef513f.png)
9. ポリシーのバインドが完了すると、このサブユーザーの承認プロセスが完了します。このサブユーザーを使用して[COSコンソール](https://console.cloud.tencent.com/cos5)にログインすると、下図のように、COSバケットのデフォルトのアクセラレーションドメイン名とCDNアクセラレーションドメイン名に通常どおりアクセスし、設定することができます。
![](https://main.qcloudimg.com/raw/5ff57238dbe3685b020c746bf10573ba.png)

