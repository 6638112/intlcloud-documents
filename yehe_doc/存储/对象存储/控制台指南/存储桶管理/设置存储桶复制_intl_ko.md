## 소개

버킷 복사 기능을 활성화하면 원본 버킷 내 **증분 객체**를 다른 리전의 타깃 버킷에 자동으로 비동기화하여 복사할 수 있습니다. 원본 버킷 내 객체에 추가 또는 삭제 등의 관리 작업을 하면 COS가 동일한 작업을 타깃 버킷에 자동으로 복사합니다. 실제 요구사항에 맞춰 버킷 복사를 활성화하거나 비활성화할 수 있으며, 자세한 내용은 [버킷 복사 개요](https://intl.cloud.tencent.com/document/product/436/19237)를 참조하십시오.


## 전제 조건

버킷 복사 기능을 활성화하기에 앞서, 원본 버킷과 타깃 버킷이 모두 [버전 제어 활성화](https://intl.cloud.tencent.com/document/product/436/19881) 기능을 실행했는지 확인하십시오.

## 버킷 복사 활성화

1. [COS 콘솔](https://console.cloud.tencent.com/cos5)에 로그인한 뒤 왼쪽 메뉴에서 [버킷 리스트]를 클릭합니다. 이후 버킷 복사를 설정할 원본 버킷을 클릭하여 버킷 상세 인터페이스로 이동합니다.
2. 왼쪽의 [내고장성 및 재해 복구 관리] > [버킷 복사]를 클릭한 뒤, 하단의 [버킷 복사] 관리 항목을 찾아 [규칙 추가]를 클릭하면 버킷 복사 규칙 설정 상태로 이동합니다.
   ![](https://main.qcloudimg.com/raw/910b0ddbe6f3bb0093544b5c21a07ca0.png)
3. 버킷 복사 규칙을 설정하려면 원본 버킷과 타깃 버킷의 버전 제어 기능을 활성화해야 합니다. 원본 버킷과 타깃 버킷의 해당 기능이 비활성화 상태라면, 먼저 활성화한 뒤 버킷 복사 규칙을 설정합니다. 규칙 설정을 완료한 뒤 [확인]을 클릭합니다.
   ![](https://main.qcloudimg.com/raw/2a167db6422d4de507d3851d9965ab37.png)

다음은 설정 항목에 관한 설명입니다.

- **원본 리전**: 원본 버킷이 속한 리전입니다.
- **적용 범위**: 복사할 원본 버킷 내 객체 범위를 뜻합니다. 범위를 별도로 설정하지 않을 경우, 기본적으로 버킷 내 모든 객체를 복사합니다. 접두사를 지정할 경우, 해당 접두사를 가진 콘텐츠를 복사합니다(예: `logs/` 접두사 파일 복사 시, `logs/` 입력).
- **리소스 경로**: 원본 버킷의 경로입니다.
- **타깃 버킷**: 복사된 객체가 저장되는 버킷입니다. 타깃 버킷과 원본 버킷의 리전은 같을 수 있으며, 현재 계정의 버킷에 한해 선택할 수 있습니다.
- **타깃 스토리지 유형**: 타깃 버킷으로 복사된 객체의 스토리지 유형입니다. 기본값은 원본 버킷 내의 객체 유형과 동일하지만 다른 스토리지 유형을 선택하여 타깃 버킷으로 복사된 객체의 유형을 변경할 수 있습니다.
- **삭제 마커 동기화**: 버전 제어 활성화 상태에서 버전 ID를 지정하지 않고 파일을 삭제하면 원본 버킷에 삭제 마커가 추가됩니다. 삭제 마커를 동기화하면 해당 태그가 타깃 버킷으로 복사되며, 동기화를 선택하지 않을 경우 타깃 버킷에 삭제 마커가 복사되지 않습니다. 동기화 여부와 관계없이 타깃 버킷의 대상 파일은 삭제되지 않으며, 사용자가 특정 버전 ID로 객체의 이전 버전에 액세스할 수 있습니다. 버전 제어 및 삭제 마커에 관한 자세한 내용은 [버전 제어 개요](https://intl.cloud.tencent.com/document/product/436/19883) 문서를 참조하십시오.

> !
>
> - 규칙 설정을 완료한 뒤 규칙을 관리할 수 있습니다. 버튼을 클릭하여 현재 규칙을 활성화하거나 비활성화할 수 있으며, 편집 버튼을 클릭하여 현재 규칙을 수정할 수 있습니다.
> - 최초 버킷 복사 규칙 설정 시 적용 범위를 버킷 내 모든 콘텐츠 복사로 설정하면 규칙을 새로 추가할 수 없습니다. 현재 규칙을 편집하거나 삭제한 뒤 다시 추가하는 방식으로 변경해야 합니다.
> - 최초 버킷 복사 규칙 설정 시 적용 범위를 특정 접두사를 가진 콘텐츠로 설정하면, 현재 규칙을 편집하여 적용 범위를 버킷 내 모든 콘텐츠로 변경할 수 있습니다.

## 버킷 복사 비활성화

비활성화 상태 버튼과 규칙 삭제의 두 가지 방법으로 버킷 복사 기능을 비활성화할 수 있습니다.

- **비활성화 상태 버튼**: 특정 규칙의 상태 버튼을 비활성화하면 임시로 현재 규칙을 적용하지 않을 수 있습니다. 이 방법으로 현재 버킷의 복사 기능을 일시 중지할 수 있으며, 이미 복사한 데이터는 타깃 버킷에 보관됩니다. 원본 버킷 내 증분 데이터는 더 이상 타깃 버킷으로 복사되지 않으며, 규칙을 재적용하려면 활성화 버튼을 클릭하십시오.
- **규칙 삭제**: [버킷 복사] 관리 항목에서 추가했던 규칙을 삭제하면 이미 설정했던 버킷 복사 규칙이 무효화되며, 기존에 복사한 데이터는 타깃 버킷에 보관됩니다. 원본 버킷 내 증분 데이터에 대한 버킷 복사 작업이 더 이상 실행되지 않으며, 규칙을 재적용하려면 새로 추가해야 합니다.
  ![](https://main.qcloudimg.com/raw/f26250880b0f298531e66a49ccea8dc5.png)

> !
>
> - 버킷 복사 도중에 버킷 복사를 비활성화하여 중단하면 버킷 복사 작업을 이어서 실행할 수 없습니다.
> - 객체에 대한 버킷 복사를 재활성화하면, 활성화 완료 이후 추가된 객체에 대해서만 버킷 복사 작업이 적용됩니다.