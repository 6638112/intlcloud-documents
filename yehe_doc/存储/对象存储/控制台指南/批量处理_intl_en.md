### Introduction

The COS batch operation feature allows you to perform large-scale batch operations on objects in a bucket. Currently, you can perform the following batch operations:

- Replicating objects
- Restoring an archived object

You can put objects for which you want to perform a certain operation in an inventory file; this file can be based on the inventory report generated by the inventory feature (you need to first [enable the inventory feature](https://intl.cloud.tencent.com/document/product/436/30624)), or you can create one in the specified format. COS batch operations can then be performed on the objects in the inventory file. For more information, see [Overview](https://intl.cloud.tencent.com/document/product/436/32958).

### Directions

1. Log in  to the [COS Console](https://console.cloud.tencent.com/cos5) and click **Batch Operation** on the left sidebar to enter the batch operation management page.
2. Click **Create Job** to create a batch operation job and configure the following items:
 -**Job Region**: Select a region for the job. The job region should be the same as the bucket region of the objects in your inventory file for which you intend to perform a batch operation, otherwise the job will fail. **The Chengdu and Chongqing regions are currently in beta.**
 -**Inventory Format**: Select a format for the inventory objects. There are two available formats:
<table>
   <tr>
      <th>Inventory Format</th>
      <th>Field</th>
      <th>Configuration Instructions</th>
   </tr>
   <tr>
      <td nowrap="nowrap">COS inventory report</td>
      <td> - </td>
      <td>Please select this format if the inventory file comes from an inventory report generated by the inventory feature</td>
   </tr>
   <tr>
      <td rowspan="4">CSV</td>
      <td>Ignore</td>
      <td>Placeholder field, which can be used when your inventory file contains irregular fields</td>
   </tr>
   <tr>
      <td>Bucket</td>
      <td>Bucket name</td>
   </tr>
   <tr>
      <td>Key</td>
      <td>Name of an object in a bucket. If the CSV file format is used, the object name is URL-encoded and must be decoded before use</td>
   </tr>
   <tr>
      <td>VersionId</td>
      <td>Object version ID. If versioning is enabled for the bucket, COS will assign a version number to the objects added to the bucket. If you do not want to use the latest version of an object, you can select a particular version ID of the inventory object to use a past version</td>
   </tr>
</table>
 -**Inventory Bucket**: Select the bucket where the inventory is stored.
 -**Inventory File Path**: Enter the inventory file or CSV file path in the format: `directory/manifest.json` or `directory/manifest.csv`, respectively. For example, if you have an inventory stored in the `examplebucket-1250000000` root directory, the inventory path will be `manifest.json`. 
![](https://main.qcloudimg.com/raw/b6f26b1c6583c1628df0303740e14edd.png)

3. Click **Next** and the inventory Etag will be displayed, meaning you have selected the correct inventory objects. Then, you will enter the operation configuration page.
    -**Batch Data Replication**:
    - Destination Bucket: Select the bucket for which to store the object copies.
    - Storage Type: Standard or Standard_IA.
    - Server Encryption: Select whether to encrypt the object copies. You can choose not to encrypt or to use SSE-COS encryption.
    - Access Permissions: Configure access permissions for the object copies. Options include using the permissions configured for the destination bucket, private read/write, or public read/private write.
    - Object Metadata: Configure metadata for the object copies. You can choose to copy the original metadata or replace all metadata.
    -**Batch Archived Storage Restoration**：
    - Restoration Mode: You can choose standard mode or batch mode. For more information on restoration modes, see [Restoring an Archived Object](https://intl.cloud.tencent.com/document/product/436/30961)。
    - Copy Validity Period: Configure the number of days after which the object copies will expire and be automatically deleted. This value has a minimum of 1 day and a maximum of 365 days.
      ![](https://main.qcloudimg.com/raw/105ce204a7441db25aea4eeb5461ca96.png)
4. Click **Next** to enter the "Other Configurations" page where you can configure the following items:
 -**Job Description (Optional)**: Description of the job; this field is optional.
 -**Job Priority**: A job of a higher priority will be performed first. The value must be a positive integer. The greater the value, the higher the priority.
 -**Job Report**: Select whether to generate a job report.
 -**CAM Role**: You can create a CAM role or select an existing role to grant operation permission to COS.
![](https://main.qcloudimg.com/raw/5553d2a9b546128193259bfc8b39076e.png)
>To grant batch operation permission to COS, you need to create a CAM role. For more information on CAM roles, see [Role Overview](https://intl.cloud.tencent.com/document/product/598/19420).
5. Click **Next** to enter the information verification page where you can verify the configuration of your batch operation job. If you need to make any changes, click the **Edit** button corresponding to the field you wish to modify, or click **Previous** to return to a previous section. After carefully checking over your information, click **Create** to finish creating the batch operation job.
![](https://main.qcloudimg.com/raw/b46d4d4b6682479a2657f33f351196d7.png)
6. After the batch operation job is created, find the newly created job in the job list and click [OK]. To cancel the job, click [Cancel] on the right.
