## 操作シナリオ

このドキュメントで、エイリアスを通じたノンストップアップデート機能の実現方法についてガイドします。

## 前提条件

- 上海とシリコンバレーの2個のサーバーフリートを作成します。操作手順：
  - [ビギナー向け例](https://intl.cloud.tencent.com/document/product/1055/37401)操作完了までの最初の3つの手順：【ワンクリックでデモパッケージをアップロード】、【ワンクリックでサーバーフリートを作成】、【ゲームサーバーセッションの作成】をクリックし、最後に【完了】をクリックします。
- サーバーフリート1作成済み（上海地区）。
![](https://main.qcloudimg.com/raw/57e329af56b34ad437d8f1a28e6fde76.png)
- サーバーフリート2作成済み（米国地区）。
![](https://main.qcloudimg.com/raw/a09178360cc2d92637c0c166135355be.png)

## 操作手順
### エイリアスの作成 
1. [GSEコンソール](https://console.cloud.tencent.com/gse/asset)にログインし、左側のメニュー【エイリアス】をクリックします。
2. 左上のサービスエリアを選択し、【新規作成】をクリックします。
3. エイリアス新規作成のページに入り、名称を記入し、ドロップダウンしてエイリアスタイプ、関連付けるサーバーフリートを選択し、説明情報を記入して、【確定】をクリックします。
 - 名称：ディレクトリでの認識の利便化向上のため、エイリアス名を入力します。この例では「ノンストップアップロードテスト」と入力します。
 - タイプ：通常のエイリアスと終了エイリアスが含まれます。この例では「通常のエイリアス」を選択します。
    - 通常のエイリアス：フリートを指定すると、システムがフリートのサーバーを自動で検出し、クライアントにアサインします。通常のエイリアスを選択した後、使用可能なサーバーフリートを関連付ける必要があります。
    - 終了エイリアス：フリートを指定せず、使用できない原因について終了情報の中で説明を行い、クライアントに送信します。
 - サーバーフリートとの関連付け：タイプで通常のエリアスを選択してから、「サーバーフリート1」を選択します。
 - 説明：認識を支援するため、エイリアスの説明を簡潔に入力します。この例では「テスト」と入力します。
4. 情報の記入を完了した後、【確定】をクリックすると、エイリアスの作成が完了します。
![](https://main.qcloudimg.com/raw/ef04ad328a96e3b26031bf79577f335d.png)


### ゲームサーバーセッションの作成

コードの中でTencentCloud APIを呼び出します。この例では [TencentCloud APIデバッグ](https://console.cloud.tencent.com/api/explorer?Product=gse&Version=2019-11-12&Action=CreateGameServerSession&SignVersion=) を通じてショートカットで作成します。

>?パラメータ説明の入力：
>- Region：地域です。この例では「華東地区（上海）」を選択します。
>- MaximumPlayerSessionCount：最大プレイヤー数です。この例では10を記入します。
>- AliasId：エイリアス IDです。この例ではさきほど作成したエイリアスのIDを記入します。

![](https://main.qcloudimg.com/raw/bd50a2945932d10887767388ffe07710.png)

[TencentCloud APIデバッグ](https://console.cloud.tencent.com/api/explorer?Product=gse&Version=2019-11-12&Action=CreateGameServerSession&SignVersion=)を通じてゲームサーバーセッションの作成が完了すると、サーガーフリートが生成したゲームサーバーセッションを確認できます。
![](https://main.qcloudimg.com/raw/6531df797c5cd0486957a0e277de65e3.png)


### エイリアスの構成変更

1. コンソールの左側のメニュー【エイリアス】をクリックして、エイリアスリストページに入ります。
2. さきほど新規作成したエイリアスを選択し、【修正】をクリックして、エイリアスの編集ページに入り、エイリアスの構成を修正します。そして関連付けるサーバーフリートを「サーバーフリート2」に修正します。
![](https://main.qcloudimg.com/raw/9b79109214516509c02a32bd55539eee.png)

### ゲームサーバーセッションの再作成

>?同一のエイリアスを使って、ゲームサーバーセッションをもう一度作成してください。

[TencentCloud APIデバッグ](https://console.cloud.tencent.com/api/explorer?Product=gse&Version=2019-11-12&Action=CreateGameServerSession&SignVersion=)を通じてゲームサーバーセッションを作成すると、サーバーフリート2が生成したゲームサーバーセッションを確認でき、新しいゲームサーバーセッションがサーバーフリート2にアサインされたことがわかります。
![](https://main.qcloudimg.com/raw/010f9f395bdb5d34df8518a04bda50cd.png)

## ノンストップのアップデート説明
バージョンのアップデートが必要な場合、サーバーセッションを作成し、エイリアスを新しいサーバーフリートに指定します。
- 従来のサーバーフリートは、ゲームサーバーセッションの減少に伴って自動でスケールインします。
- 従来のサーバーフリートは、ゲームサーバーセッションの増加に伴って自動でスケールイアウトするため、ノンストップのアップデートが可能となります。

