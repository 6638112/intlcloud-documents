
This document describes GPM event notifications to help you track the status of your matchmaking requests.

## Prerequisites

- You have created a service address to receive event notifications.
- You have [created a match](https://intl.cloud.tencent.com/document/product/1072/39203) and configured the URL service address to receive event messages.



## Event Notification Protocol

| Field              | Type/Value                                                      | Description                                                         |
| :------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| Time                | string                                                       | Timestamp of an event notification, such as "1970-01-01T00:00:00Z"                  |
| Account             | string                                                       | Tencent Cloud account UIN                                              |
| Region              | string                                                       | Region of the match                                            |
| Source              | string                                                       | Valid value: `TencentCloud.GPM`                                     |
| Type                | string                                                       | Type of event messages                                                |
| Id                  | string                                                       | Unique ID of the event, which is generated by GPM                                     |
| MatchTickets        | Array of [MatchTicket](https://intl.cloud.tencent.com/document/product/1072/39909#MatchTicket) | List of MatchTickets of an event. The MatchTicket is either passed in by developers or generated by GPM when each matchmaking request is initiated. |
| CustomEventPushData | string                                                       | Custom push data, which is defined when [a match is created](https://intl.cloud.tencent.com/document/product/1072/39203). |
| MatchTokens | Array of string | List of effective MatchTokens, which is used to verify the message reliability. For more information about MatchToken usage, see [Event Notification Security](https://intl.cloud.tencent.com/document/product/1072/39220).|


## Event Type

- **MatchmakingSearching**
The MatchTicket of the matchmaking request is being searched by GPM.
- **MatchCreated**
The MatchTicket of the matchmaking request can be matched to a battle that meets the rule conditions.
- **MatchmakingSucceeded**
The MatchTicket of the matchmaking request is placed in the specified GSE server queue, for which, GSE makes game server session and player session ready for the upcoming battle, and waits for player connections.
- **MatchmakingTimedOut**
The MatchTicket of the matchmaking request timed out, and no eligible players are found.
- **MatchmakingCancelled**
The MatchTicket of the matchmaking request has been cancelled.
- **MatchmakingFailed**
The MatchTicket of the matchmaking request failed.


## Event Notification Timing

Depending on the event type, different messages will be pushed to the URL you configured.
- The **MatchmakingSearching** event will be triggered when GPM starts searching for a MatchTicket.
- The **MatchmakingCancelled** event will be triggered when a MatchTicket is cancelled. In this case, its lifecycle in GPM ends.
- The **MatchmakingTimedOut** event will be triggered when a MatchTicket is not matched to a potential battle within the specified timeout period. In this case, its lifecycle in GPM ends.
- The **MatchmakingFailed** event will be triggered when an error occurs to a MatchTicket at any stage. In this case, its lifecycle in GPM ends.
- The **MatchCreated** event will be triggered after a MatchTicket **matched** to a potential battle.
 - For a match without requesting GSE resources, all MatchTickets of the **match** finish their GPM lifecycles.
 - For a match requesting GSE resources, the statuses of all MatchTickets of the **match** change to **PLACING**.
- The **MatchmakingSucceeded** event will be triggered when a **match** requesting GSE resources is successfully placed to a GSE game server queue. In this cause, all MatchTickets of the **match** finish their GPM lifecycle.






