## 操作シナリオ

このドキュメントでは、アセットを作成する方法について説明します。作成後、ゲームをホスティングするGSEにアセットファイルをアップロードしてデプロイします。

## 操作手順

1. [GSEコンソール](https://console.cloud.tencent.com/gse/asset)にログインし、左側メニューの【アセット】をクリックします。
2. 左上のサービスエリアを選択し、【新規作成】をクリックします。
3. アセットを新規作成するには、ページからのアップロードとコマンドラインのアップロードという2つの方法があります。

### ページからのアップロード
アセット名、アセットのバージョン、OS、送信方式、アップロードコードといったパッケージの基本情報を入力し、【OK】をクリックします。
   - アセット名：アセットの説明的な名前を作成します。一意である必要はなく、編集、更新ができます。
   - アセットのバージョン：アセットのバージョンの詳しい情報を説明し、アセットのバージョンを区別するために用います。
   - OS：ゲームサーバーのアセットを作成するOSを指定します。アセット作成後には変更できません。デフォルトはCentOS 7.16です。
   - 送信方式：現在、ZIPパッケージのローカルからのアップロードのみをサポートしています。
   - アップロードコード：アセットには、[gRPCフレームワークの統合](https://intl.cloud.tencent.com/document/product/1055/37418)が必要です。アセットディレクトリには、ゲームサーバーの実行可能ファイル、依存パッケージ、インストールスクリプトなどゲームサーバーの実行に必要なすべてのコンポーネントが含まれなければなりません。これらすべてはZIPパッケージに圧縮されます。
     - ゲームサーバー実行可能ファイル：ゲームサーバーを実行するために必要なファイルです。アセットには、複数のゲームサーバー実行可能ファイルを含めることができますが、それらすべてが同じプラットフォーム向けにビルドされている場合に限ります。
     - 依存パッケージ：ゲームサーバー実行可能ファイルを実行するために必要なあらゆる関連ファイルです。
     - インストールスクリプト：GSEがホスティングするサーバーに、アセットをインストールするためのタスクを実行するために用います。このファイルは、アセットディレクトリのルートディレクトリに配置する必要があり、フリートの作成中に1回実行されます。詳細については[ゲームプロセス起動設定](https://intl.cloud.tencent.com/document/product/1055/39885)をご参照ください。
![](https://main.qcloudimg.com/raw/776e5e422d9ce4afb68de44356e4a303.png)

### コマンドラインのアップロード

#### 手順1：スクリプトのダウンロード
[uploadasset.pyスクリプト](https://uploadasset-1301007756.cos.ap-guangzhou.myqcloud.com/uploadasset.zip?_ga=1.169449890.2037398510.1594263380)をダウンロードします。

#### 手順2：インストールスクリプトの依存パッケージ
スクリプトの実行は、次の2つのインストールパッケージに依存して行う必要があります。
-  **tencentcloud-sdk-python**
 -  インストールコマンド：`pip install tencentcloud-sdk-python`。
 -  サポートされるバージョン：Tencent Cloud API SDK Python V2.7-V3.6をサポートしています。詳細については、 [Python SDK](https://intl.cloud.tencent.com/document/product/494/7244)をご参照ください。
- **cos-python-sdk-v5**
 - インストールコマンド：`pip install -U cos-python-sdk-v5`。
 - サポートされるバージョン：詳細については、[Python SDK](https://intl.cloud.tencent.com/document/product/436/12269)をご参照ください。

#### 手順3：実行
**1. 設定の変更**
スクリプトで、ユーザーの認証情報を設定します。`secret_id`をユーザーの`secret_id`に置き換え、`secret_key`をユーザーの`secret_key`に置き換える必要があります。

**2. 実行コマンド**
次のコマンドを実行して、スクリプトを実行します。
```
python uploadasset.py  --local_path ./game_folder/
```
コマンドコードを実行すると、インターフェースに`help`というヘルプコードが表示されます。`help`をクリックするとパラメータの詳細情報が表示されます。
