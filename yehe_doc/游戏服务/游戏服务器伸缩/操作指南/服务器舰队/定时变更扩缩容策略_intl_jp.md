

## 操作シナリオ

ここでは主に、サーバーフリートがデプロイに成功した後、スケーリングポリシーの定期的な変更を設定する方法について説明します。

## 前提条件

[サーバーフリートの作成](https://intl.cloud.tencent.com/document/product/1055/36675)を完了していること。

## 操作手順

 1. [GSEコンソール](https://console.cloud.tencent.com/gse/asset)にログインし、左側メニューの**サーバーフリート**をクリックします。  
 2. 作成できたサーバーフリートの**ID**をクリックして、サーバーフリートの詳細情報に入り、**スケーリング**タブをクリックして、スケーリング画面に入ります。  
 3. 下の「スケーリングポリシーの定期的な変更」モジュールの**追加**をクリックすると、スケーリングポリシーの定期的な変更を新規作成することができます。
<img src="https://main.qcloudimg.com/raw/a10d330f8878dc8b7160a6867b4636a7.png" style="width: 75%;"></img>

**スケーリングポリシーの定期的な変更には、自動スケーリングと繰り返し期間という2つのモジュール内容が含まれます。**

### 自動スケーリングポリシー

自動スケーリングポリシーの調整方法には、手動調整と自動調整があります。具体的な説明は、次のとおりです。

#### 手動調整

![](https://main.qcloudimg.com/raw/0398e4e0179c34df462f9f741bd56b95.png)
- **インスタンス範囲**：最小インスタンス数～最大インスタンス数。タイプは整数です。希望数量が設定したインスタンス範囲内となることを保証する必要があります。初回のデプロイがまだ成功していないときは、設定できるのは0～1台のみです。
- **希望数量**：手動調整時に有効となり、設定後はこの指標に基づいてのみインスタンス数を調整します。
- **スケーリングのクールダウン時間**：スケールアウトまたはスケールインを1回実施した後、しばらく時間をおいてから次の回のスケールアウトまたはスケールインを実施します。設定可能な値は1～30分間で、サーバーのプロセス起動時間に応じてクールダウン時間を決定します。


#### 自動調整

![](https://main.qcloudimg.com/raw/15659ee5abe5b8f1777869c20380dfe8.png)
- **インスタンス範囲**：最小インスタンス数～最大インスタンス数。タイプは整数です。設定されたインスタンス範囲内で自動的に調整され、設定された範囲を超えることはありません。初回のデプロイがまだ成功していないときは、この項目は設定できません。
- **希望数量**：通常、この指標は自動調整では有効になりません。ゲームサーバーセッションバッファおよび他の自動調整ポリシーを設定していない場合は、システムがこの指標でインスタンス数を調整します。
- **ゲームサーバーセッションバッファ**：この指標は、ゲームサーバーセッション用として予約されているアイドル状態のリソースの割合を表し、この指標に従って自動的に調整されます。  
- **スケーリングのクールダウン時間**：スケールアウトまたはスケールインを1回実施した後、しばらく時間をおいてから次の回のスケールアウトまたはスケールインを実施します。設定可能な値は1～30分間で、サーバーのプロセス起動時間に応じてクールダウン時間を決定します。


>?ユーザーの1つのリージョンにおける最大インスタンス範囲の合計は、最高配分枠を超えることはできません。[各リージョンの最高配分枠を確認](https://intl.cloud.tencent.com/document/product/1055/36672)し、CVMインスタンスの配分枠を引き上げたい場合は、 [チケットを提出](https://console.cloud.tencent.com/workorder/category)して申請してください。

### 繰り返し周期

- __繰り返し周期：__スケーリングポリシーの繰り返し周期には、「1回」、「日ごと」、「週ごと」、「月ごと」がありす。
- __実行開始時間：__スケーリングポリシーの定期的な変更の実行開始時間を選択します。
  1. 繰り返し周期の「1回」を選択した場合、スケーリングポリシーは選択した時間に従って1回実行されます。
![](https://main.qcloudimg.com/raw/dca9ef7012e0a1dbdc8a76f24742205b.png)
  下図のとおり、スケーリングポリシーは2021-06-17 15：31に1回実行されます。
  ![](https://main.qcloudimg.com/raw/ff98720b4f84815e87532e1fd9b7411a.png)
  2. 繰り返し周期の「日ごと」を選択した場合、選択した実行期間中、N日ごとに1回実行されます。
![](https://main.qcloudimg.com/raw/efb25c897db636319fdf0af4a8ca1070.png)
  下図のとおり、スケーリングポリシーは2021-06-17 15：36から2022-06-17 15：36まで、1日ごとに1回繰り返し実行されます。
![](https://main.qcloudimg.com/raw/f304847d5fa18c7ca919110a0aaba72c.png)
  3. 繰り返し周期の「週ごと」を選択した場合、選択した実行期間中、選択した繰り返し周期に応じて毎週繰り返し実行されます。
![](https://main.qcloudimg.com/raw/17cf7487f13fc8635178a43265b69e9d.png)
  下図のとおり、スケーリングポリシーは2021-06-17 15：38から2022-06-17 15：38まで、毎週月曜日と水曜日に繰り返し実行されます。
  ![](https://main.qcloudimg.com/raw/ee160284a9293ef2b2d9b5a7619699b1.png)
  4. 繰り返し周期の「月ごと」を選択した場合、選択した実行期間中、毎月N日からM日まで繰り返し実行されます。
![](https://main.qcloudimg.com/raw/9f2601e167af0d41f7bed19e69798300.png)
  下図のとおり、スケーリングポリシーは2021-06-1715：39から2022-06-1715：39まで、毎月3日から5日まで繰り返し実行されます。
![](https://main.qcloudimg.com/raw/f2e5326ec530d4319492c312ca7baae1.png)


 4. **OK**をクリックして作成が成功したら、サーバーフリートの詳細（スケーリングインターフェース）で表示・変更・削除などの操作を行うことができます。
![](https://main.qcloudimg.com/raw/3350e721c9795333d4819216760fbaa1.png)















