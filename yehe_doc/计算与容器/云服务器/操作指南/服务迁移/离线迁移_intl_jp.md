
## シナリオ

サービス移行はTencent Cloudが企業ユーザー向けに開発した移行プラットホームです。この移行プラットホームはソース側ホストのOS、アプリケーションやアプリケーションデータなどを Cloud Virtual MachineまたはCloud Block Storageに移行させることにより、企業のクラウド化、クロスクラウドプラットホームの移行、クロスアカウント/リージョンの移行またはハイブリッドクラウドのデプロイメントなどのビジネスニーズに対応できます。

サービス移行は、オフライン移行とオンライン移行に分かれています。オフライン移行は下記の2種類があります。
- [オフラインでのインスタンス移行](#cvmStep)：システムディスクイメージを指定したCVMに移行します。
- [オフラインでのデータ移行](#csmStep)：データディスクイメージを指定したCBSに移行します。

## 前提条件

オフライン移行はCloud Object Storage（COS）のサポートが必要です。お客様が所在するリージョンがCOSをサポートしていることを確認してください。
現在、COSがサポートされるリージョンの一覧については、[リージョンとアクセスドメイン名](https://intl.cloud.tencent.com/document/product/436/6224)をご覧ください。

## 準備事項

>! 
> - 現在、Tencent Cloudのサービス移行はqcow2、vpc、vmdk、rawのイメージ形式に対応しています。転送と移行に掛かる時間を短縮するために、圧縮されたイメージ形式を使用することをお勧めします。
> - イメージをアップロードするCOSリージョンは、移行先のCVMが配置されているリージョンと同じである必要があります。
> - オフライン移行の場合、アップロードされたイメージファイルのサイズは、移行先のディスクサイズを超えることはできません。イメージファイルのサイズが50 GBの場合、移行先システムディスクには少なくとも50 GBの容量が必要です。
> - オフライン移行はスナップショットファイル（ファイル名が\*-00000\*.vmdkのようなスナップショットファイル）の移行をサポートしません。

 - イメージ作成ドキュメントの指示に従って、移行する必要があるサーバのイメージファイルを作成してください。
    - Windowsの場合は、 [Windowsイメージの作成](https://intl.cloud.tencent.com/document/product/213/17815)をご参照ください。
    - Linuxの場合は、 [Linuxイメージの作成](https://intl.cloud.tencent.com/document/product/213/17814)をご参照ください。
 - 作成したイメージファイルをCOSにアップロードします。  
    - イメージファイルは通常サイズが大きく、ブラウザを介したイメージのアップロードが中断しやすいため、COSCMDツールを使用してイメージをアップロードすることをお勧めします。操作の詳細については、[COSCMDツールドキュメント](https://intl.cloud.tencent.com/document/product/436/10976)をご参照ください。  
    - 他のクラウドプラットフォームからエクスポートしたイメージが圧縮パッケージ形式（.tar.gzファイルなど）の場合は、解凍する必要がなく、直接にCOSにアップロードして移行できます。
 - イメージをアップロードするCOSアドレスを取得します。
 [Cloud Object Storageコンソール](https://console.cloud.tencent.com/cos5/bucket) で、先ほどアップロードしたイメージファイルを見つけ、ファイル情報を確認し、ファイルリンクを取得します。
 - 移行先のCVMまたはCBSを用意します。
[ここをクリックしてCVMを購入する >>](https://buy.cloud.tencent.com/cvm?tab=custom&step=1®ionId=8)
[ここをクリックしてCBS購入ガイドを表示する >>](https://intl.cloud.tencent.com/document/product/362/32414)


## 操作手順

<span id="cvmStep"></span>
### オフラインでのインスタンス移行

1. CVMコンソールにログインして、左側のナビゲーションウィンドウで、【[サービス移行](https://console.cloud.tencent.com/cvm/csm/index?rid=4)】をクリックします。
2. 【インスタンス移行タスクを作成する】をクリックします。
3. プロンプトに従って準備手順を完了し、【次へ】をクリックします。
4. 下図に示すように、リージョンを選択し、タスク名、COSリンク、移行先のCVMインスタンスなどの構成情報を入力します。【完了】ボタンを押すと移行タスクが作成されます。 
移行プロセス中、[サービス移行](https://console.cloud.tencent.com/cvm/csm/index?rid=4)ページを終了または閉じることができます。いつでもこのページに戻って、タスクの進行状況を確認することもできます。 
>!  
> - COSファイルは先に[パブリック読み込み/プライベート書き込み権限](https://intl.cloud.tencent.com/document/product/436/13327)を設定する必要があります。
> - 移行先のインスタンスのシステムディスクの容量は、アップロードされたイメージファイルのサイズより小さくすることはできません。そうしないと、タスクは失敗します。
> 

<span id="csmStep"></span>
### オフラインでのデータ移行

1. CVMコンソールにログインして、左側のナビゲーションウィンドウで【[サービス移行](https://console.cloud.tencent.com/cvm/csm/index?rid=4)】をクリックします。
2. 【インスタンス移行タスクを作成する】をクリックします。
3. プロンプトに従って準備手順を完了し、【次へ】をクリックします。
4. 下図に示すように、タスク名、COSリンク、移行先のクラウドディスクなどの構成情報を入力します。【完了】ボタンを押すと移行タスクが作成されます。 
移行プロセス中、[サービス移行](https://console.cloud.tencent.com/cvm/csm/index?rid=4)ページを終了または閉じることができます。いつでもこのページに戻って、タスクの進行状況を確認することもできます。 
>! 移行先のCBSディスクの容量は、アップロードされたイメージファイルのサイズより小さくすることはできません。そうしないと、タスクは失敗します。
>

## よくあるご質問

詳細については、[サービス移行について](https://intl.cloud.tencent.com/document/product/213/32395)ドキュメントをご覧ください。






