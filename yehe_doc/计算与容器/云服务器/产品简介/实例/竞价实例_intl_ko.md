## 스팟 인스턴스란 무엇인가요?
스팟(Spot) 인스턴스는 CVM의 새로운 인스턴스 운영 방식입니다. 가장 핵심적인 특징은 할인 판매와 시스템 중단 메커니즘으로, 일정 폭의 할인 가격에 인스턴스를 구매할 수 있지만, 시스템에서 해당 인스턴스를 자동 회수할 수도 있습니다. 스팟 인스턴스의 콘솔 작업, 원격 로그인, 서비스 배포 및 VPC 연결 등 사용법은 종량제 CVM 인스턴스와 기본적으로 동일합니다.

- 관련 링크: [FAQ> 인스턴스 유형> 스팟 인스턴스](https://intl.cloud.tencent.com/document/product/213/17817)
- 관련 링크: [스팟 인스턴스 구매 방법](https://intl.cloud.tencent.com/document/product/213/17926)

## 현재 단계의 특수 정책
- **고정 할인 비율**: 모든 사양의 스팟 인스턴스를 고정 비율의 할인가로 판매합니다. 동일한 사양의 종량제 인스턴스의 20% 가격으로 판매하며, 일부 인스턴스 유형의 가격은 소폭 조정될 수 있습니다.
- **시스템 자발적 중단(재고 변동)**: 현재 단계에서 시스템은 시장 가격이 사용자의 입찰가보다 높아도 서비스를 중단하지 않지만, 스팟 인스턴스 리소스 풀의 재고가 부족할 경우 서비스를 중단할 수 있습니다. 재고가 부족하면 시스템이 할당한 스팟 인스턴스를 무작위로 회수합니다.
- **전체 리전 출시**：스팟 인스턴스는 이미 Tencent Cloud 대부분의 리전에 출시되었으며, 인스턴스 유형이 종량제 과금 방식과 동기화하도록 지원합니다. 최신 리전 및 인스턴스 유형은 [스팟 인스턴스 - 스팟 인스턴스에서 지원하는 리전 및 유형 >>](https://intl.cloud.tencent.com/document/product/213/17817)을 참조 바랍니다.

## 제품 특징
### I. 높은 가성비
![](https://main.qcloudimg.com/raw/8179ef6629ac0a0b4b9c3c9cd6f80ffa.png)
스팟 인스턴스는 종량제 인스턴스의 할인 가격으로 판매되며, 최대 90%까지 할인됩니다.
- **할인 폭**: 스팟 인스턴스는 동일한 사양의 종량제 인스턴스를 기준으로, 이 기초 상에서 최대 90%까지 할인한 가격으로 판매됩니다.
- **할인 적용 범위**: 할인은 CVM의 CPU 및 메모리 부분에만 적용되며, 시스템 디스크, 데이터 디스크, 대역폭 및 유료 이미지 등의 기타 CVM 관련 과금 항목은 스팟 할인이 적용되지 않습니다.
- **가격 변동**: 할인 비율은 일정 시간까지는 안정적이지만, 해당 가용존에서 대규모 구매가 발생할 경우 가격이 변동될 수 있습니다(현재 단계의 할인 비율은 80%로 고정).

### II. 시스템 중단 메커니즘
![](https://main.qcloudimg.com/raw/a4db964d52400b9a00d3c7e96c0b833d.png)
사용자가 직접 반환해야만 종료되는 종량제 인스턴스와 달리, 스팟 인스턴스는 시스템 백그라운드에 의해 중단됩니다. 시스템은 현재 가격 및 리소스 풀의 재고 등의 상황을 종합하여, 이미 할당한 스팟 인스턴스를 중단할지 여부를 결정합니다.
![](https://main.qcloudimg.com/raw/824a585f8dfeb1914f4d72ea1eafdb6c.png)
- **가격으로 인한 중단**: 시장 가격이 사용자가 지정한 최고 입찰가보다 높을 경우 인스턴스가 회수됩니다(현재 단계의 시장 가격은 고정).
- **재고로 인한 중단**: 해당 유형 리소스 풀의 재고가 전체적으로 부족할 경우, 시스템이 부족한 부분에 따라 스팟 인스턴스를 회수합니다. 재고가 복구되면 스팟 인스턴스를 재신청할 수 있습니다.

## 부적합한 시나리오
시스템 중단 메커니즘으로 인해 인스턴스의 라이프사이클을 완벽히 제어할 수 없으므로 높은 안정성을 요구하는 서비스에는 스팟 인스턴스를 사용하지 마시기를 권장합니다. 예시:
- 데이터베이스 서비스
- CLB를 사용하지 않는 온라인 서비스 및 웹 사이트 서비스
- 분산형 아키텍처의 주 제어 노드
- 장시간(10시간 이상) 빅 데이터 컴퓨팅 작업

## 적용 시나리오 및 업종
### 적용 시나리오
- 빅 데이터 컴퓨팅
- CLB를 사용하는 온라인 서비스 및 웹 사이트 서비스
- 네트워크 크롤러 서비스
- 기타 파인 그레인드 혹은 검사점 재시작을 지원하는 컴퓨팅 시나리오

### 적용 분야
- 유전자 시퀀스 및 분석
- 약물 다형성 분석
- 비디오 트랜스 코딩 및 렌더링
- 금융, 거래 데이터 분석
- 이미지 및 멀티미디어 프로세싱
- 과학 컴퓨팅(지리, 유체역학 등)

## 제한
- **할당 제한**: CVM의 수량적 제한과 달리, 스팟 인스턴스는 사용자가 가용존에 소유한 모든 스팟 인스턴스의 vCPU 코어 수를 합산하여 할당 제한 지표로 삼습니다. 현재 단계에서는 각 계정의 각 가용존 당 최대 50개의 vCPU 코어를 합한 스팟 인스턴스를 보유할 수 있습니다(티켓 신청을 통해 할당 제한을 완화할 수 있습니다).
- **작업 제한 1**: 스팟 인스턴스는 업그레이드/다운그레이드를 지원하지 않습니다.
- **작업 제한 2**: 스팟 인스턴스는 정액 과금제로 변경할 수 없습니다.

## 모범 사례
### I. 작업을 세부 단위로 분할
- 장시간 작업을 작은 단위의 작업으로 나누어 진행하므로, 중단될 가능성을 낮춰줍니다.
- 프로비저닝 가능한 EMR 등의 빅 데이터 세트에 사용합니다.

### II. CLB을 통해 온라인과 웹 사이트 서비스의 안정성 보장
- 액세스 레이어는 CLB와 같은 로드 밸런서를 사용합니다.
- 백그라운드 리소스는 부분 종량제 인스턴스와 대량의 스팟 인스턴스를 조합한 과금 방식을 사용합니다.
- 스팟 인스턴스의 중단 상황을 리스닝하여 CLB에서 중단된 인스턴스를 제거합니다.

### III. 검사점 재시작을 지원하는 컴퓨팅 스케쥴링
- 중간 결과를 컴퓨팅하여 COS/CFS/NAS 등의 영구 스토리지 제품에 저장합니다.
- 인스턴스 메타데이터(Metadata)를 통해 중단되는 인스턴스를 감지하여 2분간의 보관 기한까지 컴퓨팅 결과를 저장합니다.
- 스팟 인스턴스가 재시작되면 위의 컴퓨팅을 계속합니다.
