
## 設定シナリオ

Tencent Cloud CDNは、サーバー上の1つのURLに対する最大下りスループット速度を設定するための下り速度制限設定をサポートしています。
下り速度制限設定は、CDNのピーク帯域幅をある程度制御できます。eコマースのキャンペーンや新しいゲームバージョンのリリース・アップデートなどのシナリオでよく使用されています。

>! 下り速度制限が設定されると、ユーザーのアクセスエクスペリエンスとCDNアクセラレーション効果が影響されることがあるため、慎重にご利用ください。

## 設定ガイド

### 設定の制約

- 下り速度制限ルールは最大10件まで設定できます。
- 単位：KB/s。値の範囲：1〜1,000,000（正の整数のみ）
- 有効化タイプは、すべてのファイル、ファイルタイプ、ファイルディレクトリ、および指定されたファイルパスの4つをサポートします。現在、正規表現のマッチングはサポートされていません。
- ルールが複数件ある場合、下から上の順に適用されます。下部ルールの優先順位が上部より高くなります。

### 設定についての説明

[CDNコンソール](https://console.cloud.tencent.com/cdn)にログインし、メニューバーで【ドメイン管理】を選択して、ドメイン名の右側にある【管理】をクリックすると、ドメイン名設定画面に入ります。第2欄の【アクセス制御】で下り速度制限の設定を確認できます。デフォルト設定は無効です。
![](https://main.qcloudimg.com/raw/c9ea85be753b60096b8088b048ac626a.png)
【Add Speed Limiting Rule】をクリックして、ルールを設定するできます。
![](https://main.qcloudimg.com/raw/02e033c829da553acc5eeb9bca864528.png)
ルールが追加された後も、全体の設定は無効の状態となるため、ライブ ネットワーク上のサービスには影響しません。
![](https://main.qcloudimg.com/raw/e0006ace8527cc13c381666b22f21790.png)
【Downstream Speed Limit】ボタンを有効にして、設定された速度制限ルールをCDNネットワーク全体のノードに配信できます。
![](https://main.qcloudimg.com/raw/4b9685cb889210accb67d11f1b389ae8.png)

## 設定例

アクセラレーションドメイン名`cloud.tencent.com`の下り速度制限が次のように設定されている場合、
![](https://main.qcloudimg.com/raw/7ee9a5167aa054c8e99c15267e38eba3.png)
ユーザーが`http://cloud.tencent.com/test.mp4`のリソースにアクセスすると、サーバーは設定された下り速度200KB/sでコンテンツを返します。
ユーザーが`http://cloud.tencent.com/test.flv`のリソースにアクセスすると、サーバーは設定された下り速度400KB/sでコンテンツを返します。
