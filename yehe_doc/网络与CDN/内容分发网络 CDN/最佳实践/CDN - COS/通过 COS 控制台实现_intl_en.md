This document describes how to accelerate access to resources in COS through CDN in the COS console.

## Prerequisites
1. You have signed up for a Tencent Cloud account and verified your identity.
2. You have activated the CDN service. For more information, see [Configuring CDN from Scratch](https://intl.cloud.tencent.com/document/product/228/32978).

## Directions
### Creating a bucket
For more information on how to create a bucket, see [Creating Buckets](https://intl.cloud.tencent.com/document/product/436/13309).

### Configuring acceleration
1. After creating a bucket, enter its configuration management page directly. You can also click **Configuration Management** in the "Operation" column of the bucket in the bucket list to enter its configuration management page. Then select **Domain and Transfer**.
2. Enable the **Default CDN Acceleration Domain**.
Generated by the system, the **default CDN acceleration domain** is the domain name passing through CDN cache nodes. You can choose to enable or disable it.
(1) Click **Edit** to manually enable **Default CDN Acceleration Domain**.
![](https://main.qcloudimg.com/raw/260fde070f4b2f999c0d9d09bec13d55.png)
(2) Set the default CDN acceleration:
![](https://main.qcloudimg.com/raw/2b72c25d2bf11f0c53a2e8286fcecf07.png)
**Origin Server Type**: It is set to **default origin server**. If you have enabled static website for the origin server bucket and want to accelerate content delivery for the static website, select **static website origin server**.
**Origin-pull Authentication**: For public-read buckets, origin-pull authentication does not need to be enabled. For private-read buckets, CDN service authorization must be added and origin-pull authentication must be enabled manually. For more information, see [Enabling Default CDN Acceleration Domain Names](https://intl.cloud.tencent.com/document/product/436/31505).
**CDN Authorization**: Click **Add CDN Service Authorization** to select and grant CDN access to resources in the bucket.
![](https://main.qcloudimg.com/raw/41e745800445225d042ef82c6febcc19.png)
(3) After completing the configuration, click **Save** to activate CDN acceleration.
![](https://main.qcloudimg.com/raw/5ffc31cb49410b4685316e75860c9385.png)

>!For private-read buckets, if both origin-pull authentication and CDN authorization are enabled, signature is not required for access to origin server via CDN, and cached resources in CDN will be distributed over the public network, which will affect data security. Therefore, we recommend that you enable CDN authentication.
>
3. Enable **Custom CDN Acceleration Domain**.
You can bind a custom domain name that already has an ICP filing to the bucket and enable CDN acceleration.
>?A maximum of 10 custom domain names can be added in the COS console.
>
(1) Click **Add domain name** in the **Custom CDN Acceleration Domain** module to add a filed custom domain name.
![](https://main.qcloudimg.com/raw/eda34cc24d82cebf109e3507a2ae142f.png)
(2) Add the domain name:
**Domain**: Enter the custom domain name to be bound (e.g. `www.example.com`). Ensure that the domain name has an ICP filing, and a corresponding CNAME has been configured at the DNS service provider. For more information, see [CNAME Configuration](https://intl.cloud.tencent.com/document/product/228/3121).
**Origin-pull Authentication**: for private-read buckets, please manually enable origin-pull authentication to protect the origin server.
After completing the configuration, click **Save**.
![](https://main.qcloudimg.com/raw/e21189d91929209ded554581d267a505.png)
>!For private-read buckets, if both origin-pull authentication and CDN service authorization are enabled, signature is not required for access to origin server via CDN, and cached resources in CDN will be distributed over the public network, which will affect data security. Therefore, we recommend that you enable CDN authentication.
>
(3) After the configuration is saved, CDN authentication switch will be displayed in the **CDN Authentication** column. You can manually enable CDN authentication for the custom domain name.
**CDN Authentication:** Timestamp authentication can be configured to prevent stealing by malicious users. You can enable the feature after adding the domain name.

For more information on how to configure CDN acceleration in the COS console, see [Domain Name Management Overview](https://intl.cloud.tencent.com/document/product/436/18424).


## Recommended Configuration
1. After completing all the settings, go to the [CDN Console](https://console.cloud.tencent.com/cdn) and prefetch the static resource files in COS to CDN nodes in advance, which will reduce the strain on the origin server and accelerate response and downloading. For more details, see [Prefetch Cache](https://intl.cloud.tencent.com/document/product/228/39000).
2. Configure cross-origin access headers. For more details on cross-origin permissions of resources, see [HTTP Response Header](https://intl.cloud.tencent.com/document/product/228/35320).
3. If the resource has been modified on your origin server, you are recommended to purge cache before prefetch again. For more details, see [Purge Cache](https://intl.cloud.tencent.com/document/product/228/6299).
