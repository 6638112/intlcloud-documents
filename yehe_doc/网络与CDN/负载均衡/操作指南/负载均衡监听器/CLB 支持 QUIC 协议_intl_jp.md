[QUIC](https://www.chromium.org/quic)プロトコルはAppへのアクセス速度を大幅に向上させることができ、脆弱なネットワーク下や、Wi-Fiと4Gを頻繁に切り替えるシーンなどで、再接続を必要とせずに多重化を実現できます。ここでは、CLBコンソールでQUICプロトコルを設定する方法についてご説明します。
## QUICの概要
QUIC（Quick UDP Internet Connection）は高速UDPインターネット接続とも呼ばれ、Googleが提唱する、UDPを使用してマルチパス通信を行うプロトコルです。現在広く用いられているTCP+TLS+HTTP2プロトコルと比較して、QUICには次のようなメリットがあります。
- 接続確立時間が短縮されます。
- 輻輳制御が改善されます。
- 多重化によってHOLブロッキングを解消します。
- コネクションのマイグレーションが可能です。

CLBでQUICを有効化すると、クライアントはCLBとの間でQUIC接続を確立することができ、両者のプロトコルがQUIC接続を確立できない場合は自動的にHTTPSまたはHTTP/2にダウングレードされます。ただし、CLBとバックエンドサーバーの間では引き続きHTTP1.xプロトコルが用いられます。


## 使用制限
- CLBインスタンスタイプのみサポートしています。
- IPv4、IPv6 NAT64バージョンのCLBのみサポートしています。IPv6バージョンは現時点ではサポートしていません。
- パブリックネットワークCLBのレイヤー7HTTPSリスナーのみ、QUICプロトコルをサポートしています。
- QUICは単一アベイラビリティーゾーンのCLBインスタンスのみをサポートし、マルチアベイラビリティーゾーンはサポートしていません。
- 現在CLBがサポートしているQUICのバージョンは、Q050、Q046、Q043、h3-29、h3-27です。

## 操作手順[](id:making)
1. 必要に応じてCLBインスタンスを作成します。詳細については、[CLBインスタンスの作成](https://intl.cloud.tencent.com/document/product/214/6149)をご参照ください。
>?CLBインスタンスを作成する際、作成リージョンは「北京」、「上海」または「ムンバイ」を選択し、ネットワークタイプは「パブリックネットワーク」を選択します。
>
2. [CLBコンソール](https://console.cloud.tencent.com/clb)にログインし、左側のナビゲーションバーで**インスタンス管理**をクリックします。
2. 「インスタンス管理」ページで、**CLB**をクリックします。
3. 「CLB」タブで、作成リージョンが「北京」、「上海」または「ムンバイ」のパブリックネットワークCLBインスタンスを見つけ、右側の操作バーで**リスナーの設定**をクリックします。
![]()
4. 「リスナー管理」ページの「HTTP/HTTPSリスナー」で、**新規作成**をクリックします。
![]()
5. 「リスナーの作成」ページでリスニングプロトコルポートをHTTPSに切り替え、必要に応じて入力を完了した後、**送信**をクリックします。
![]()
6. **リスナー管理**タブで、この新しく作成したリスナーの**+**マークをクリックします。
![]()
7. 「転送ルールの作成」ページでQUICプロトコルを有効にし、レイヤー7ルールを作成して関連のフィールドに入力した後、**次へ**をクリックすると、基本設定は完了です。
>?
>- 新しいHTTPS転送ルールを作成する際にQUICプロトコルを有効化することができます。有効化しておくと、作成完了後にQUICプロトコルは自由に有効化または無効化することができます。 HTTPS転送ルールを作成する際にQUICプロトコルを有効化しなかった場合、作成後に有効化することはできません。
>- QUICはUDPプロトコルを使用し、CLBのUDPポートを占有します。つまり、HTTPSリスナーでQUICプロトコルを有効化すると、対応するUDPポートおよびTCPポートを自動的に占有します。例えば、HTTPS:443リスナーでQUICプロトコルを有効化すると、このルールによって同時にTCP:443およびUDP:443ポートが占有されるため、TCP:443およびUDP:443リスナーは作成できなくなります。
>
![]()

## 後続の操作
基本設定の入力完了後、引き続き[ヘルスチェック](https://intl.cloud.tencent.com/document/product/214/6097)および[セッション維持](https://intl.cloud.tencent.com/document/product/214/6154)の関連操作を行うことができます。

