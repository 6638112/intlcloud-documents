## 알람 설명
실행 상태가 특정 조건을 충족할 때 CLB 인스턴스가 대상 사용자 그룹에 알람 정보를 보내도록 지정된 인스턴스 메트릭에 대한 알람을 생성할 수 있습니다. 이렇게 하면 모든 예외를 제 때에 감지하고 적절한 조치를 취하여 시스템 안정성과 안정성을 보장할 수 있습니다. 자세한 내용은 [Alarm Overview](https://intl.cloud.tencent.com/document/product/248/6126)를 참고하십시오.
CLB 알람 정책에는 다음이 포함됩니다.
- 공중망 리스너
- 사설망 리스너
- 서버 포트(기타)
  - 리스너 레벨
  - 서버 포트 레벨
- 서버 포트(사설망 클래식 유형)
- 레이어 7 프로토콜 모니터링

## 공중망/사설망 리스너
현재 공중망 CLB와 사설망 CLB는 모두 다음 메트릭을 사용하여 리스너 수준에서 알람을 지원합니다.

|메트릭 | 단위 | 설명|
|----|------|----|
|Inbound 대역폭 | Mbps  | 클라이언트가 통계 기간 내에 공중망을 통해 CLB에 액세스하는 데 사용하는 대역폭입니다.|
|Outbound 대역폭 | Mbps  | 통계 기간 내에 공중망에 액세스하기 위해 CLB에서 사용하는 대역폭입니다.|
|Inbound 패킷 수 | 개/s  | 통계 기간 내에 CLB가 초당 수신한 요청 데이터 패킷 수입니다.|
|Outbound 패킷 수 | 개/s  | 통계 기간 내에서 초당 CLB에서 보낸 데이터 패킷 수입니다.|

## 서버 포트(기타)
사설망 클래식 인스턴스를 제외한 모든 CLB 인스턴스는 다음 두 가지 레벨에서 알람을 지원합니다.
1. 리스너 레벨
리스너 아래에 바인딩된 모든 서버 포트의 예외 통계에 대해 리스너의 실제 서버 예외 포트 수를 구성할 수 있으며, 구성된 임계값에 따라 알람이 트리거됩니다. 아래와 같이 선택된 리스너 아래에 있는 모든 실제 서버의 예외 포트 수는 1분에 한 번씩 수집되며, 비정상 포트 수가 2회 연속으로 10개/초 이상인 경우 알람이 발생합니다. 알람은 하루에 한 번 트리거됩니다.
>?리스너 레벨 알람을 활성화하려면 [티켓 제출](https://console.cloud.tencent.com/workorder/category)을 통해 신청할 수 있습니다.

 - 알람 객체 구성:
![](https://main.qcloudimg.com/raw/bf26227edb359e6f7acd01febbbc38c9.png)
 - 트리거 조건 구성:
![](https://main.qcloudimg.com/raw/7cb8c5db9a1fb616f478e2e109d31097.png)
2. 서버 포트 레벨
리스너에 바인딩된 실제 서버의 지정된 포트에 대해 예외 알람을 구성하여 포트가 예외적일 때마다 알람이 전송되도록 할 수 있습니다.
 - 알람 객체 구성:
![](https://main.qcloudimg.com/raw/e1d947188535eac4189254ba0e8a26cb.png)
 - 트리거 조건 구성:
![](https://main.qcloudimg.com/raw/80e4072ba35d426e4503a7b64ea63865.png)
>!
>- 실제 서버 포트 예외: CLB가 실제 서버의 포트를 사용할 수 없음을 발견했음을 의미합니다. 경우에 따라 네트워크 지터도 포트 예외를 유발할 수 있습니다.
>- 리스너 레벨의 통계에는 단일 알람 수렴에서 임계값 알람에 이르기까지 리스너 아래의 모든 실제 서버의 포트 상태가 포함됩니다. 네트워크 지터의 영향을 방지하려면 리스너 레벨 알람을 사용하는 것이 좋습니다.

## 서버 포트(사설망 클래식 유형)
‘서버 포트(기타)-서버 포트 레벨’에 설명된 대로 사설망 클래식 CLB에 대한 서버 포트 예외 알람을 구성할 수 있습니다.
리스너에 바인딩된 실제 서버의 지정된 포트에 대해 예외 알람을 구성하여 포트가 예외적일 때마다 알람이 전송되도록 할 수 있습니다.

## 레이어 7 프로토콜 모니터링
모든 레이어 7(HTTP/HTTPS) 리스너에 대해 고유한 모니터링 지표 알람 정책을 구성할 수 있습니다. 구체적인 메트릭은 다음과 같습니다.

|메트릭 | 단위 | 설명|
|----|------|----|
|Inbound 대역폭 | Mbps  | 클라이언트가 통계 기간 내에 공중망을 통해 CLB에 액세스하는 데 사용하는 대역폭입니다.|
|Outbound 대역폭 | Mbps  | 통계 기간 내에 공중망에 액세스하기 위해 CLB에서 사용하는 대역폭입니다.|
|Inbound 패킷 수 | 개/s  | 통계 기간 내에 CLB가 초당 수신한 요청 데이터 패킷 수입니다.|
|Outbound 패킷 수 | 개/s  | 통계 기간 내에서 초당 CLB에서 보낸 데이터 패킷 수입니다.|
|새 연결 수 | 개  | 통계 기간 내에 분당 설정된 새 연결 수입니다. |
|활성 연결 수 | 개  | 통계 기간 내 분당 활성 연결 수입니다.|
|평균 응답 시간 | ms  | 통계 기간 내 CLB의 평균 응답 시간입니다.|
|최대 응답 시간 | ms  | 통계 기간 내 CLB의 최대 응답 시간입니다.|
|2xx 상태 코드 | 개  | 통계 기간 내에 실제 서버에서 반환된 2xx 상태 코드의 수입니다. |
|3xx 상태 코드 | 개  | 통계 기간 내에 실제 서버에서 반환된 3xx 상태 코드의 수입니다.|
|4xx 상태 코드 | 개  | 통계 기간 내에 실제 서버에서 반환된 4xx 상태 코드의 수입니다.|
|5xx 상태 코드 | 개  | 통계 기간 내에 실제 서버에서 반환된 5xx 상태 코드의 수입니다.|
|404 상태 코드 | 개  | 통계 기간 내에 실제 서버에서 반환된 404 상태 코드의 수입니다.|
|502 상태 코드 | 개  | 통계 기간 내에 실제 서버에서 반환된 502 상태 코드의 수입니다.|
|CLB에서 반환한 3xx 상태 코드 | 개  | 통계 기간 내에 CLB에서 반환한 3xx 상태 코드의 수입니다. |
|CLB에서 반환한 4xx 상태 코드 | 개  | 통계 기간 내에 CLB에서 반환한 4xx 상태 코드의 수입니다.|
|CLB에서 반환한 5xx 상태 코드 | 개  | 통계 기간 내에 CLB에서 반환한 5xx 상태 코드의 수입니다.|
|CLB에서 반환한 404 상태 코드 | 개  | 통계 기간 내에 CLB에서 반환한 404 상태 코드의 수입니다.|
|CLB에서 반환한 502 상태 코드 | 개  | 통계 기간 내에 CLB에서 반환한 502 상태 코드의 수입니다.|

