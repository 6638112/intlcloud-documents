## Cloud Load Balancer(CLB)란 무엇인가요?
CLB는 여러 CVM에 트래픽을 분산하는 서비스입니다. CLB는 트래픽 분산을 통해 애플리케이션 시스템의 외부 서비스 기능을 확장하고 단일 지점 장애를 제거하여 애플리케이션 시스템의 가용성을 향상시킵니다. CVM에 대한 정보는 [CVM 개요](https://intl.cloud.tencent.com/document/product/213/495)를 참고하십시오.

CLB 서비스는 버츄얼 서비스 주소(VIP)를 설정하여 **같은 리전**의 다수의 CVM 인스턴스를 성능과 가용성이 우수한 애플리케이션 서비스 풀로 가상화하는 것입니다. 애플리케이션에서 지정한 방식에 따라 클라이언트의 네트워크 요청을 CVM 풀로 배포할 수 있습니다.

CLB 서비스는 CVM 풀의 CVM 인스턴스 상태를 확인하고 비정상 상태의 인스턴스를 자동으로 격리하여 CVM의 단일 실패 지점 문제를 해결하고 애플리케이션의 전반적인 서비스 성능을 향상시킵니다.

셀프 서비스 관리, 셀프 서비스 장애 복구 및 네트워크 공격 방어 기능을 갖춘 Tencent CLB는 기업, 커뮤니티, 전자 상거래 및 게임과 같은 애플리케이션 시나리오에 적용할 수 있습니다.

## 구성 요소
작업 CLB 그룹은 일반적으로 다음으로 구성됩니다.
- **Cloud Load Balancer**: 트래픽 분산에 사용되는 CLB 인스턴스입니다.
- **VIP**(virtual IP): CLB가 클라이언트에게 서비스를 제공하기 위해 사용하는 IP 주소입니다.
- **Backend/Real Server**: 요청 처리에 사용되는 백엔드의 CVM 인스턴스 세트입니다.
- **VPC/기본 네트워크**: 전체 네트워크 환경입니다.

CLB 외부의 액세스 요청은 CLB 인스턴스를 통해 처리하기 위한 정책 및 전달 규칙을 기반으로 백엔드 CVM으로 분산됩니다.

## 용어 사전
<table>
<tr>
<th width="19%">용어</th>
<th width="15%">전체 명칭</th>
<th width="66%">설명</th>
</tr>
<tr>
<td>CLB</td>
<td>Cloud Load Balancer</td>
<td>Tencent Cloud에서 제공하는 네트워크 부하 분산 서비스로, CVM과 결합하여 사용자에게 TCP/UDP 및 HTTP 기반 부하 분산 서비스를 제공할 수 있습니다.</td>
</tr>
<tr>
<td>CLB 리스너</td>
<td>Load Balance Listener</td>
<td>수신 포트, 로드 밸런싱 정책 및 상태 확인 구성을 포함하며 각각 백엔드의 애플리케이션 서비스에 해당합니다.</td>
</tr>
<tr>
<td>백엔드 CVM</td>
<td>Real Server</td>
<td>사용자가 설정한 규칙에 따라 CLB에서 전달한 요청을 수신하는 CVM 인스턴스 그룹입니다.</td>
</tr>
<tr>
<td>버츄얼 서비스 주소</td>
<td>Virtual IP</td>
<td>시스템에서 할당한 서비스 주소(현재 IP 주소)입니다. 사용자는 서비스 주소 공개 여부를 선택하여 공중망/사설망 기반 로드 밸런싱 서비스를 생성할 수 있습니다. <ul><li>공중망 VIP<ul><li>일반 IP: 네트워크 품질과 비용의 균형을 유지하는 데 사용되는 공통 BGP IP입니다. </li><li>가속화된 IP: Anycast를 사용하여 공중망 액세스를 보다 안정적이고 신뢰할 수 있으며, 짧은 대기 시간으로 가속합니다. </li><li>고정 단일 회선 IP: 단일 ISP를 통해 공중망에 액세스하므로 비용이 저렴하고 자율 스케쥴링에 편리합니다. </li></ul></li><li>사설망 VIP<ul><li>VPC: VPC 내의 IP입니다. </li><li>기본 네트워크: 클래식 네트워크의 사설망 IP입니다. </li></ul></li></ul></td>
</tr>
</table>

## 작동 원리
### 기본 작동 원리
CLB 인스턴스는 클라이언트로부터 인바운드 트래픽을 수신하고 하나 이상의 가용존에 있는 백엔드 CVM으로 요청을 라우팅하여 처리합니다.

CLB 서비스는 주로 로드 밸런싱 리스너에서 작동합니다. 리스너는 CLB 인스턴스에 대한 요청을 모니터링하고 정책을 실행하여 이를 백엔드 CVM에 배포합니다. CLB는 **클라이언트 - CLB** 및 **CLB - 백엔드 CVM**의 두 가지 차원에서 포워딩 프로토콜 및 프로토콜 포트를 구성하여 요청을 백엔드 CVM에 직접 포워딩할 수 있습니다.

CLB의 여러 가용존에 걸쳐 백엔드 CVM 인스턴스를 구성하는 것이 좋습니다. 이를 통해 CLB는 한 가용존을 사용할 수 없을 때 다른 가용존에서 정상적으로 실행되는 CVM 인스턴스로 트래픽을 라우팅할 수 있으므로 가용존 오류로 인한 서비스 중단을 피할 수 있습니다.

### 라우팅 요청
클라이언트는 도메인 이름을 통해 서비스에 액세스하도록 요청합니다. 요청이 로드 밸런서로 전송되기 전에 DNS 서버는 CLB 도메인 이름을 리졸브하고 요청된 CLB IP를 클라이언트에 반환합니다. CLB 리스너는 요청을 수신하면 다른 로드 밸런싱 알고리즘을 사용하여 요청을 백엔드 CVM에 배포합니다. Tencent Cloud는 현재 가중 라운드 로빈 및 ip_hash 가중 최소 연결을 포함한 여러 밸런싱 알고리즘을 지원합니다.

### 백엔드 CVM 모니터링
로드 밸런서는 백엔드 CVM의 실행 상태를 모니터링하여 트래픽이 정상적으로 실행되는 CVM으로만 라우팅되도록 할 수도 있습니다. 로드 밸런서는 트래픽을 비정상적인 CVM으로 라우팅하는 것을 중지하고 정상적으로 다시 실행될 때 트래픽을 다시 라우팅합니다.

## 관련 서비스
CLB는 다음 서비스와 협력하여 애플리케이션 가용성 및 확장성을 개선합니다.
- [CVM](https://intl.cloud.tencent.com/document/product/213) 인스턴스: 애플리케이션이 클라우드에서 실행되는 가상 서버입니다.
- [Auto Scaling](https://intl.cloud.tencent.com/document/product/377): 인스턴스 수량을 기본적으로 제어합니다. Auto Scaling에서 CLB가 활성화되면 확장된 인스턴스는 자동으로 CLB 그룹에 추가되고 종료된 인스턴스는 CLB 그룹에서 자동으로 삭제됩니다.
- [Cloud Monitor](https://intl.cloud.tencent.com/document/product/248): CLB 및 모든 백엔드 CVM 인스턴스의 실행 상태를 모니터링하고 필요한 작업을 수행하는 데 도움이 됩니다.


