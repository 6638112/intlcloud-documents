## 작업 시나리오

서비스 마이그레이션은 기업 사용자가 클라우드에 쉽게 액세스할 수 있도록 Tencent Cloud에서 연구 개발한 마이그레이션 플랫폼입니다. 마이그레이션 플랫폼을 통해 원본 호스트의 운영 체제, 응용 프로그램 및 애플리케이션 데이터 등을 Tencent Cloud CVM(Cloud Virtual Machine) 및 CBS(Cloud Block Storage)에 마이그레이션할 수 있으므로 기업의 클라우드 액세스, 클라우드 플랫폼 간의 마이그레이션, 계정/지역 간의 마이그레이션 및 하이브리드 클라우드 배포 등의 업무 수요를 충족시켜줍니다.

서비스 마이그레이션은 현재 오프라인 마이그레이션과 온라인 마이그레이션으로 구분되며, 그중에서 오프라인 마이그레이션은 다음 두 가지 종류를 포함하고 있습니다.
- [오프라인 인스턴스 마이그레이션](#cvmStep), 시스템 디스크 이미지를 지정된 CVM으로 마이그레이션합니다.
- [오프라인 데이터 마이그레이션](#csmStep), 데이터 디스크 이미지를 지정된 CBS로 마이그레이션합니다.

## 전제 조건

오프라인 마이그레이션은 Tencent Cloud 객체 스토리지(Cloud Object Storage, COS)의 지원이 필요하므로, 위치한 리전이 COS 지원 범위 내에 있는지 확인하시기 바랍니다.
현재 COS가 지원하는 리전 범위는 [리전 및 액세스 도메인](https://intl.cloud.tencent.com/document/product/436/6224)을 참조 바랍니다.

## 준비 사항

> 
> 현재 Tencent Cloud의 서비스 마이그레이션은 qcow2, vhd, vmdk, raw 형식의 이미지를 지원합니다. 압축된 이미지 형식을 사용하여 전송 및 마이그레이션 시간을 단축하시길 권장합니다.
> - 업로드한 이미지의 COS 리전이 마이그레이션 하려는 CVM 리전과 일치해야 합니다.
> - 오프라인 마이그레이션 시 업로드한 이미지 파일은 마이그레이션하려는 디스크의 용량보다 작아야 합니다. 이미지 파일이 50G라면, 마이그레이션할 인스턴스의 시스템 디스크는 50G보다 커야 합니다.
> - 오프라인 마이그레이션은 스냅샷 파일(파일명이 \*-00000\*.vmdk와 같은 프냅샷 파일)의 마이그레이션을 지원하지 않습니다.

- 이미지 생성 문서에 따라 마이그레이션 하려는 서버의 이미지 파일을 생성하시기 바랍니다.
 - Windows 시스템이라면 [Windows 이미지 생성 문서](https://intl.cloud.tencent.com/document/product/213/17815)를 참조 바랍니다.
 - Linux 시스템이라면 [Linux 이미지 생성 문서](https://intl.cloud.tencent.com/document/product/213/17814)를 참조 바랍니다.
- 생성한 이미지 파일을 COS에 업로드합니다.  
 - 이미지 파일은 일반적으로 용량이 큰 편이므로 웹 페이지에 업로드하는 과정에서 중단되기 쉬우니, COSCMD를 사용하여 이미지를 업로드하시길 권장합니다. 자세한 작업은 [COSCMD 툴 문서](https://intl.cloud.tencent.com/document/product/436/10976)를 참조 바랍니다.  
 - 다른 클라우드 플랫폼에서 내보낸 이미지가 압축 파일 형식(예.tar.gz)일 경우, 압축을 해제할 필요 없이 COS에 바로 업로드 및 마이그레이션할 수 있습니다.
- 이미지를 업로드한 COS 주소를 가져옵니다.
[COS 콘솔](https://console.cloud.tencent.com/cos5/bucket)에서 방금 업로드한 이미지 파일을 찾아 파일 정보를 조회하고 파일 링크를 가져옵니다.
- 마이그레이션할 CVM 및 CBS를 준비합니다.
[클릭하여 CVM 구매 페이지로 가기 >>](https://buy.cloud.tencent.com/cvm?tab=custom&step=1&regionId=8)
[CBS 구매 가이드 >>](https://intl.cloud.tencent.com/document/product/362/32414)


## 작업 순서

<span id="cvmStep"></span>
### 오프라인 인스턴스 마이그레이션

1. CVM 콘솔에 로그인한 뒤, 왼쪽 메뉴의 [서비스 마이그레이션](https://console.cloud.tencent.com/cvm/csm/index?rid=4)을 클릭합니다.
2. [인스턴스 마이그레이션 생성]을 클릭합니다.
3. 마이그레이션 준비가 되었는지 확인한 뒤 [다음]을 클릭합니다.
4. 위치한 리전을 선택한 뒤 작업 이름, COS 링크, 마이그레이션할 CVM 등의 마이그레이션 설정 정보를 입력하고 [완료]를 클릭하면 마이그레이션 작업 구축에 성공합니다.
오프라인 데이터 마이그레이션 관리 페이지로 돌아가면 마이그레이션 작업 진행도를 조회할 수 있습니다.
>  
> - COS 파일에 먼저 [공개 읽기 및 개인 쓰기 권한](https://intl.cloud.tencent.com/document/product/436/13327)을 설정해야 합니다.
> - 마이그레이션하려는 인스턴스의 시스템 디스크 용량이 업로드하려는 이미지 파일 크기보다 작으면 작업에 실패할 수 있습니다.
> 

<span id="csmStep"></span>
### 오프라인 데이터 마이그레이션

1. CVM 콘솔에 로그인한 뒤, 왼쪽 메뉴의 [서비스 마이그레이션](https://console.cloud.tencent.com/cvm/csm/index?rid=4)을 클릭합니다.
3. [데이터 마이그레이션 생성]을 선택합니다.
4. 마이그레이션 준비가 되었는지 확인한 뒤 [다음]을 클릭합니다.
5. 위치한 리전을 선택한 뒤 작업 이름, COS 링크, 마이그레이션할 CBS 등의 마이그레이션 설정 정보를 입력하고 [완료]를 클릭하면 마이그레이션 작업 생성에 성공합니다.
> - 마이그레이션 하려는 CBS 용량이 업로드하려는 이미지 파일 크기보다 작으면 작업에 실패할 수 있습니다.
>

## FAQ

자세한 내용은 [서비스 마이그레이션 유형](https://intl.cloud.tencent.com/document/product/213/32395)을 참조 바랍니다.

