## ユースケース

Tencent Cloud CVMインスタンスのハードウェアデバイスは、迅速かつ便利に調整できます。このドキュメントでは、構成のアップグレードとダウングレード、モデル間の構成調整に関する操作方法および関連注意事項について説明します。　　

## 前提条件

インスタンスは、シャットダウン状態または起動状態で構成を調整可能です。起動状態のインスタンスは強制的にシャットダウンされ、再起動後に操作が有効になります。
> 
> - 操作対象のインスタンスが**シャットダウン**状態にある場合、直接にコンソールで変更を実施することができます。
> - 操作対象のインスタンスが**起動**状態にある場合、オンラインで構成を調整できます。操作が完了した後、インスタンスの強制シャットダウンを確認する必要があります。調整された構成は、インスタンスの再起動後に有効になります。
> - 複数のインスタンスの構成をオンラインで**一括調整**できます。**起動**状態のインスタンスがある場合、ユーザーはインスタンスの強制シャットダウンを確認する必要があります。調整された構成は、インスタンスの再起動後に有効になります。

## 制限事項と影響

### 構成調整の制限事項

**システムディスクとデータディスクの両方ともCloud Block Storage**であるインスタンスのみが構成を調整できます。
- 構成のアップグレード
構成のアップグレードの回数に制限がなく、アップグレードされた構成はすぐに有効になります。
- 構成のダウングレード
 - 従量課金インスタンスは、ダウングレード回数に制限がなく、いつでも構成をダウングレードすることができます。
- インスタンスファミリー間の調整:データを移行することなく、異なるインスタンスファミリー間で構成を調整できます。
構成を調整する際に、調整可能なインスタンス仕様は、現在のアベイラビリティーゾーンがターゲット仕様を提供するかどうかに関連しています。次の制限事項に注意してください。
 -  **スポットインスタンス**は、モデル間の構成調整に対応しません。
 -  **専用インスタンス**は、モデル間の構成調整に対応しません。構成調整の範囲は、　　インスタンスが配置されている専用ホストの残りのリソースに制限されます。
 -  **GPUやFPGAなどの異種インスタンス**は、インスタンスファミリー間で構成を調整するためのソースまたはターゲットインスタンスタイプとして使用できません。
 -  **基本ネットワークで構成されたインスタンス**はVirtual Private Cloudのみをサポートするインスタンスへの調整に対応しません。
 -  ターゲットインスタンスの仕様が現在のインスタンス仕様で構成されているCloud Block Storageタイプをサポートしていない場合、構成を調整できません。
 -  ターゲットインスタンスの仕様が現在のインスタンス仕様に構成されているイメージタイプをサポートしていない場合、構成を調整できません。
 -  ターゲットインスタンスの仕様が現在のインスタンス仕様で構成されているENIまたはENI数量をサポートしていない場合、構成は調整できません。詳細については、[Elasticネットワークの使用制限]（https://intl.cloud.tencent.com/document/product/576/18527）をご参照ください。
 -  ターゲットインスタンスの仕様が現在のインスタンス仕様に構成されているパブリックネットワーク帯域幅の上限をサポートしていない場合、構成を調整できません。詳細については、[パブリックネットワーク帯域幅の上限]（https://intl.cloud.tencent.com/document/product/213/12523）をご参照ください。

### 影響について

ごく一部のインスタンスのプライベートIPアドレスは、構成の調整後に変更される場合があります。インスタンスのプライベートIPアドレスが変更されると、構成調整ページにプロンプトが表示されます。関連表示がない場合、プライベートIPアドレスは変更しません。

## 操作手順

>
> - ご利用のサービスが変化した場合、構成を調整できます。
> - 構成をアップグレードする場合は、構成をアップグレードし、関連する料金をお支払います。
> - 構成をダウングレードする場合、払い戻しの詳細を確認してください。新しい構成は強制シャットダウンと再起動の直後に有効になり、CVMはすぐに新しい構成に基づいて実行されます。　

### コンソールでの構成調整

#### 単一インスタンスの構成調整

1. [CVMコンソール](https://console.cloud.tencent.com/cvm/index)にログインし、CVMインスタンスリストに入ります。
2. 下図に示すように、ターゲットインスタンスを見つけて、【その他】>【リソース調整】>【構成の調整】をクリックします。
![](https://main.qcloudimg.com/raw/15e142fe43b498ada4ee3f12c1bf9413.png)
3.下図に示すように、「ターゲット構成の選択」で、インスタンスの状態と操作を確認し、**必要なモデルとインスタンスタイプを選択し、タイプとパフォーマンスパラメータを確認して**、【次のステップ】をクリックします。
![](https://main.qcloudimg.com/raw/cab2d0c635bfc1dd07d3aa6c763b7c21.png)
4.インスタンスの課金方式に応じて費用を確認し、【次のステップ】をクリックします。
	- 従量課金インスタンス：新しい仕様でフリーズが必要な金額を確認してください。下図に示すように、構成を変更した後、従量課金は第一段階から課金されるようになります。規則を理解したうえで操作してください。
	![](https://main.qcloudimg.com/raw/378fe411ba222bbdc473b69919d957c6.png)
5.「CVMのシャットダウン」ステップで、インスタンスの実行状態に基づいてそれぞれのテキスト指示をよく読んでください。
 - 現在のインスタンスが実行中の場合、テキスト指示をよく読んだうえに、下図に示すように、「強制シャットダウンに同意」にチェックを入れる必要があります。
![](https://main.qcloudimg.com/raw/ee1406aa0ad4a28a3f190b93f18ed6fe.png)
 - 現在のインスタンスがシャットダウンされている場合、次のプロンプトが表示されます。下図に示すように。
![](https://main.qcloudimg.com/raw/2b7696edf214708e21bf0099c680a063.png)
6.【調整を開始】をクリックし、注文ページに移動し、注文の支払いを行います。 

### APIによる構成調整 

ResetInstancesTypeインターフェースを使用してインスタンス構成を調整できます。詳細については、[インスタンス構成の調整](https://intl.cloud.tencent.com/document/product/213/33239)をご参照ください。





