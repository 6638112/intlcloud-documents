Tencent Cloud DTS(Data Transmission Service)는 데이터 마이그레이션, 데이터 동기화, 데이터 구독이 통합된 데이터베이스 데이터 전송 서비스입니다. 귀하가 비즈니스 무정지 상태에서 간편하게 데이터베이스 마이그레이션을 진행할 수 있도록 도와주며, 실시간 동기화 터널을 이용해 타 지역 재해 복구가 가능한 고가용성 데이터베이스 구성을 손쉽게 구축할 수 있습니다. 또한 데이터베이스 구독에서 제공하는 클라우드 데이터베이스 실시간 증분 업데이트 데이터를 통해 비즈니스 수요에 따라 자유롭게 증분 데이터를 소비할 수 있습니다. DTS for MongoDB는 현재 여러 네트워크 시나리오와 여러 버전의 MongoDB 데이터 마이그레이션을 지원하고 있습니다.

| 용어     | 설명                                               |
| -------- | -------------------------------------------------- |
| 원본 인스턴스   | 마이그레이션의 원본 인스턴스                                     |
| 객체 인스턴스 | 마이그레이션한 객체 인스턴스는 사용자가 구매한 TencentDB for MongDB |
| CVM 자체구축 | 사용자가 Tencent Cloud 서버에 배포된 MongoDB 서비스          |
| 공용 네트워크 자체구축 | 사용자가 외부 네트워크에서 배포한 MongoDB 서비스                 |

## 마이그레이션 지원 설명
**지원 기능**
- 데이터 마이그레이션: DTS 마이그레이션 서비스는 1회성 클라우드 데이터 마이그레이션을 구현했습니다.
- 데이터 동기화: DTS 마이그레이션 서비스로 전체 마이그레이션과 증분 실시간 동기화를 구현했습니다.
- DB 테이블 마이그레이션: DB 테이블 수준의 마이그레이션을 지원합니다.
- 마이그레이션 가용성: 자동 재개 메커니즘과 중단 시 재개를 지원합니다.
- 딜레이 시간 표시: 증분 동기화 딜레이 시간 표시를 지원합니다.

**지원 버전**
- DTS 지원 버전은 MongoDB 3.0, 3.2, 3.4, 3.6, 4.0입니다.
- 현재는 MongoDB 복제 세트 버전만 지원하며, 샤딩 클러스터는 지원하지 않습니다.

**지원 네트워크**
DTS 마이그레이션 서비스는 공용 네트워크, CVM 자체구축, DC, VPN 액세스, CCN 시나리오 등 일반적인 네트워크 마이그레이션의 데이터 마이그레이션과 데이터 동기화를 지원합니다.

**지원 시나리오**
- 클라우드 업로드 마이그레이션: 전통적인 IDC의 MongoDB에서 TencentDB for MongDB으로의 마이그레이션을 지원해 효율적인 업무와 간편한 클라우드 업로드 마이그레이션을 돕습니다.
- 클라우드에서 마이그레이션 자체구축: 귀하의 Tencent Cloud 혹은 다른 클라우드에서 가상 컴퓨터로 자체구축하신 MongoDB 서비스를 TencentDB for MongDB로 마이그레이션할 수 있습니다.
- 다른 클라우드 벤더 MongoDB 서비스 마이그레이션: 다른 클라우드 벤더가 제공하는 MongoDB를 TencentDB for MongDB로 데이터 마이그레이션할 수 있습니다.
- 클라우드 인스턴스 간 마이그레이션: 클라우드 인스턴스 간 데이터 마이그레이션 진행 혹은 실시간 동기화를 지원합니다.

**마이그레이션 주의 사항**
- 마이그레이션의 효율을 보장하기 위해 CVM 자체구축 인스턴스 마이그레이션은 리전 간 마이그레이션을 지원하지 않습니다.
- 외부 네트워크 인스턴스 마이그레이션 시 외부 네트워크에서 원본 인스턴스를 액세스할 수 있는지 확인하십시오.
- 마이그레이션 시작 전 원본 인스턴스에 마이그레이션에 사용할 읽기 전용 계정을 생성하십시오. 그러지 않을 시 마이그레이션 전 인증을 통과할 수 없습니다.
- 마이그레이션 성공 시 서비스이 측 데이터 인증 후 오픈 소스 인스턴스의 연결을 끊고 객체 인스턴스로 전환해 연결합니다.
- 단일 노드는 oplog가 없기 때문에 자체구축 인스턴스가 단일 노드일 시에는 온라인 마이그레이션을 지원하지 않습니다.

## 마이그레이션 과정
1. [DTS 콘솔](https://console.cloud.tencent.com/dts)에 로그인해 데이터 마이그레이션 페이지에서 [마이그레이션 작업 생성]을 클릭하고, '링크 리전'에서 상응하는 리전을 선택해 [0달러 구매]를 클릭합니다.
>?
>- 현재 MongoDB 데이터 마이그레이션은 무료입니다.
>- 마이그레이션 작업 오더 후에는 리전 교체를 지원하지 않으니 신중하게 선택하십시오.
>
2. 소스와 타깃 데이터베이스 페이지에서 소스 라이브러리 유형을 MongoDB로 선택하고, 인스턴스와 상응하는 계정 암호 정보를 설정합니다.
>?원본 인스턴스에 마이그레이션에 사용할 읽기 전용 계정을 생성하십시오. 그러지 않을 시 마이그레이션 전 인증을 통과할 수 없습니다.
>

3. 원본 인스턴스와 객체 인스턴스의 연결성을 테스트합니다.

4. 마이그레이션 옵션 설정 및 마이그레이션 객체 페이지에서 마이그레이션 옵션과 마이그레이션 객체를 설정합니다(일부 샤딩 선택 가능).

5. 작업 인증 페이지에서 마이그레이션 전 인증 작업을 완료하고 [작업 실행]을 클릭합니다.

6. 마이그레이션 작업 리스트로 돌아가 증분 동기화가 100% 완료된 후, '작업' 리스트에서 [완료]를 클릭하면 마이그레이션 작업이 완료됩니다.




