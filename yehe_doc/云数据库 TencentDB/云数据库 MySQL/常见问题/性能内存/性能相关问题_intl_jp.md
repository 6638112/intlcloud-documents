### MySQLインスタンスのストレージスペースの使用状況をどのように表示しますか。
[DBbrainコンソール]にログインし(https://console.cloud.tencent.com/dbbrain)、左側ナビゲーションの【診断最適化】を選択し、上の対応するデータベースを選択して、【スペース分析】ページを選択します。 
スペース分析ページには、過去1週間の1日あたり増加率、ディスク領域の空き容量、使用可能な予定日数、および過去1週間のディスク領域使用傾向表を表示できます。また、インスタンス内のデータベースの各テーブルの占有領域の詳細と断片化の状態も表示できます。
![](https://main.qcloudimg.com/raw/cdbbe7b6f32b829a87f9025d4acc05cd.png)

### MySQLの完全バックアップSQL実行トレースをどのように解析しますか。
[DBbrainコンソール]にログインし(https://console.cloud.tencent.com/dbbrain)、左側ナビゲーションの【診断最適化】を選択し、上の対応するデータベースを選択して、【監査ログ分析】ページを選択します。
1. ビューの右上にある【分析タスクの作成】をクリックし、時間帯を選択して【OK】をクリックします。
2. タスクリストで【SQL分析を表示】をクリックし、SQL分析ページに進みます。
![](https://main.qcloudimg.com/raw/60c636949f6bcbafe726256d2a08db5f.png)
3. SQL分析ページでは、SQL Type、Host、UserまたはSQL Codeディメンションのビューを選択できます。また、時間帯を選択してビューを伸縮させて特定の時点のデータを表示できます。
![](https://main.qcloudimg.com/raw/e4a3cf78a8c58e6f5442362c60d3ccbb.png)
4. SQLテンプレートの特定の行をクリックすると、右側にSQL文の詳細がポップアップ表示されます。
 - 分析ページでは、特定のSQL文を表示、コピーできます。提示された最適化アドバイスまたは説明に従ってSQL文を最適化します。
 - 統計ページでは、Host、User、SQL CodeディメンションにおけるこのSQLの統計分析および実行時間トラックを表示できます。
 
### MySQLインスタンスに障害や異常が発生した場合、最適化をどのように自己診断しますか。
1. [DBbrainコンソール]にログインし(https://console.cloud.tencent.com/dbbrain)、左側ナビゲーションの【診断最適化】を選択し、上の対応するデータベースを選択して、【異常診断】ページを選択します。
2. 「診断ヒント」バーには、レベル、開始時間、診断項目、継続時間など、診断イベント履歴の概要情報が表示されます。DBbrainでは、インスタンスの健康チェックが定期的に行われます。
![](https://main.qcloudimg.com/raw/6616a8f42f7da2808507d464f7d86f75.png)
3. 【詳細表示】または「診断ヒント」バーの診断項目をクリックすると、診断詳細ページに進みます。ビューで「診断イベント」をクリックすると、イベントの概要、現象の説明、インテリジェント分析および専門家のアドバイスなど、このイベントの詳細が表示されます。専門家のアドバイスに基づいて最適化することで、データベースの異常を解決し、インスタンスの性能を向上させることができます。
 ![](https://main.qcloudimg.com/raw/bd74997165d561b84f4366a902e70d43.png)

### MySQLヘルスレポートをどのように定期的に取得しますか。
[DBbrainコンソール](https://console.cloud.tencent.com/dbbrain)にログインし、左側ナビゲーションで【診断最適化】を選択し、上の対応するデータベースを選択し、【ヘルスレポート】ページを選択すると、選択した時間帯のヘルススコアの傾向と問題の概要が表示されます。 
- レポートの時間範囲を設定し、【ヘルスレポートの作成】をクリックすると、タスクの完了後にその時間帯のヘルスレポートを表示またはダウンロードできます。  
- 【定期生成の設定】をクリックして、ヘルスレポートの自動生成期間を設定できます。 
 ![](https://main.qcloudimg.com/raw/d3842c7a041d9eb4d07900f953d2abc4.png)

### MySQLのスローログをどのように表示、最適化しますか。
1. [DBbrainコンソール](https://console.cloud.tencent.com/dbbrain)にログインし、左側ナビゲーションで【診断最適化】を選択し、上の対応するデータベースを選択し、【スローSQL分析】ページを選択します。「SQL統計」バーには、インスタンスのスロークエリ数とCPU使用率が表示されます。
2. SQL統計グラフのスロークエリをクリックまたは選択すると、下に集約SQLテンプレートと実行情報が表示されます。各列のデータは正順または逆順のソートをサポートしています。右側のかかる時間の分布には、選択した時間帯におけるSQLのかかる時間の全体的な分布が表示されます。
 ![](https://main.qcloudimg.com/raw/66442e7012ad2baddc8efd8a68a1eae5.png)
3. 集約されたSQLテンプレートの特定の行をクリックすると、右側にSQLの最適化アドバイスと統計情報が表示されます。最適化アドバイスに応じてSQLを変更するか、適切なインデックスを追加することで、SQLの実行効率、データベースの性能が向上します。
 ![](https://main.qcloudimg.com/raw/0c5429de192d731e378bbfb020fdc928.png)


### MySQLがタスクを実行するときにデッドロックになるのはなぜですか。
並列処理によるロックの待機であり、通常の現象です。

### MySQLで中国語のデータを表示するときに文字化けするのはなぜですか。
MySQLにデータを保存するときに、[MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、インスタンスの詳細ページに進み、そのインスタンスのデフォルトの文字セットを確認します。プログラムの作成時に、`character_set_client`、`character_set_results`、`character_set_connection`をMySQLインスタンスと同じ文字セットに設定します。さもなければ、保存されているデータに中国語が含まれている場合、中国語のデータが文字化けする可能性があります。
例えば、MySQLインスタンスのデフォルトの文字セットはutf8です。データベースに接続するプログラムを作成する際には、次の文を実行してから中国語のデータをMySQLに保存する必要があります。
```
SET NAMES 'utf8';
```

### MySQL接続数がフルになる一般的な原因と解決方法。
- sleepスレッド数が多い。コンソールでwait_timeout、interactive_timeoutパラメータの値を低くすることをお勧めします。
- スロークエリの堆積が発生しました。long_query_timeのデフォルト値の10sを1s～2sに変更してスロークエリログを観察することをお勧めします。
- sleepスレッドの数が少なく、スロークエリの堆積がなければ、コンソールでmax_connectionsの値を大きくすることをお勧めします。

### MySQL CPUの使用割合が高い一般的な原因と解決方法。
- スロークエリの堆積が発生しました。インスタンス監視でスロークエリと全テーブルスキャンを確認し、スロークエリログ（コンソールでダウンロード可能）に合わせて分析と最適化を実行してください。監視でスロークエリがなく全テーブルスキャンのみの場合は、コンソールでlong_query_timeを1s～2sに小さくし、一定期間使用してからスロークエリを分析することをお勧めします。
- スロークエリの堆積が発生していません。インスタンスの監視でメモリの利用状況を確認してください。インスタンスの仕様を大幅に超えて、ディスクの読み取りと書き込みが大幅に増加している場合は、メモリがボトルネックになっていることを示しています。メモリをアップグレードすることをお勧めします。

### ユーザーが普段に注意を払わなければならないインスタンスの監視メトリックは何ですか。
CPU使用率、メモリ使用率、ディスク領域使用率。実際の状況に応じて[アラームを設定](https://intl.cloud.tencent.com/document/product/236/8457)します。アラームが表示された場合、適切な措置を講じてアラームを削除することができます。
