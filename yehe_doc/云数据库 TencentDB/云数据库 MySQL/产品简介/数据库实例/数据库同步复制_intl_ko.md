데이터베이스 인스턴스 복제는 서버를 통해 1개 혹은 여러 개의 백업 데이터베이스를 설정하는 방식으로 데이터를 동기화하고, MySQL의 데이터를 여러 시스템에 분포합니다. TencentDB for MySQL은 3가지 데이터 복제 방식을 지원합니다.

>?
>- Master는 마스터 데이터베이스 인스턴스를 의미합니다. Salve는 백업 데이터베이스 인스턴스를 의미합니다.
>- MySQL 5.6, 5.7, 8.0 버전에서는 세 가지 복제(비동기화, 반동기화, 강제 동기화) 방식을 지원하며, 5.5 버전은 비동기화 방식을 지원합니다.

### 비동기화 복제
애플리케이션이 데이터 업데이트(insert, update, delete 조작 포함) 요청을 보내면 Master는 업데이트 완료 시, 바로 응용 프로그램에 출력하여 응답하며, Master는 다시 Slave에 데이터를 복제합니다.

데이터를 업데이트할 때 Master는 Slave의 응답을 대기하지 않아도 되므로, 비동기화 복제된 데이터베이스 인스턴스는 일반적으로 성능이 뛰어난 편입니다. 또한 Slave를 사용할 수 없어도 Master가 외부에 서비스를 제공하는 데 영향을 미치지 않습니다. 다만 데이터를 Slave에 실시간으로 동기화하는 것이 아니기 때문에, Master는 Slave에 딜레이가 있을 경우 고장이 생기므로 낮은 확률로 데이터가 불일치할 수 있습니다.
TencentDB for MySQL 비동기화 복제는 1 마스터 1 슬레이브 구성을 채택합니다.

### 반동기화 복제
애플리케이션에서 데이터 업데이트(insert, update, delete 조작 포함) 요청을 보내면, Master는 업데이트 완료 시 바로 Slave에 데이터를 복제합니다. Slave는 **데이터를 받아 relay log(실행하지 않아도 됨)에 쓴** 후에야 Master에게 성공 메시지를 출력합니다. Master는 반드시 Slave의 성공 메시지를 받아야만 응용 프로그램에 출력 및 응답할 수 있습니다. 

데이터 복제 시에만 이상(Slave 노드 사용 불가 혹은 데이터 복제에 사용한 네트워크에 이상이 생길 경우)이 생길 경우, Master는 애플리케이션에 대한 응답 일시 정지(MySQL은 기본 10초 정도)하며, 복제 모드를 비동기화 복제로 하향 조정합니다. 데이터 복제가 정상으로 복구되면 반동기화 복제로 복구합니다.
TencentDB for MySQL 반동기화 복제는 1 마스터 1 슬레이브 구성을 채택합니다.

### 강제 동기화 복제	
애플리케이션이 데이터 업데이트(insert, update, delete 조작 포함) 요청을 보내면 Master는 업데이트 완료 후 바로 Slave에 데이터를 복제합니다. Slave는 **데이터를 받아 실행 완료** 후에야 Master에 성공 메시지를 출력합니다. Master는 반드시 Slave의 성공 메시지를 받아야만 애플리케이션에 출력 및 응답합니다.	

Master는 Slave에 데이터를 복제할 때 동기화로 진행하며, Master를 업데이트할 때마다 Slave의 성공적인 실행도 보장해야 합니다. 따라서 강제 동기화 복제는 마스터/슬레이브 데이터의 일치성을 최대한 확보할 수 있습니다. 그러나 매번 Master 업데이트 요청은 Slave의 출력에 기반하므로, Slave가 1대일 경우 사용이 불가능하다면 Master의 조작에 큰 영향을 미칩니다. 	

TencentDB for MySQL 강제 동기화 복제는 1 마스터 2 슬레이브 구성을 채택합니다. Slave 1대만 성공적으로 실행하면 출력할 수 있게 하여, Slave가 1대일 경우 사용이 불가능할 때 Master 조작에 영향을 미치지 않습니다. 이를 통해 클러스터 강제 동기화 복제의 가용성을 높였습니다.
