Tencent Cloudはクラウドデータベースをホストするプラットフォーム：Tencent Cloud [VPC](https://intl.cloud.tencent.com/document/product/215/535)を提供します。Tencent CloudのクラウドデータベースインスタンスのようなTencent Cloudリソースを、VPCで起動することができます。

よくある方法は、同一のVPCで稼働しているクラウドデータベースインスタンスとWebサーバーでデータを共有することです。この課程では、この方法でVPCを構築し、クラウドデータベースをVPCに追加して合わせて使用します。
このドキュメントでは、同一のVPCにCVMとクラウドデータベースMySQLを追加し、VPCにおけるクラウドリソースの内部ネットワークの相互接続を実現する方法についてご紹介します。

## 手順1：VPCの構築
VPCには少なくともサブネットが1つあり、サブネット内にだけクラウドサーバーリソースを追加できます。
1. [VPCコンソール](https://console.cloud.tencent.com/vpc)にログインします。
2. リストの上方で、VPCのリージョンを選択し、【+新規作成】をクリックします。
3. VPC情報を記入し、サブネットの初期情報を入力して、【OK】をクリックすれば完了です。このうち、VPCとサブネットのCIDRについては、作成後の修正はできません。
 - VPC CIDR以下のネットワークセグメント中の任意の1個の使用をサポートします。他のVPCとの間で内部通信する必要があれば、両端末のCIDRの設定は重複してはいけません。
    - `10.0.0.0` - `10.255.255.255`（マスク範囲は16 - 28の間にあること）
    - `172.16.0.0` - `172.31.255.255`（マスク範囲は16 - 28の間にあること）
    - `192.168.0.0` - `192.168.255.255` （マスク範囲は16 - 28の間にあること）
 - サブネットのCIDRはVPCのCIDR内、または同じである必要があります。
 例えば、VPCのネットワークセグメントが`192.168.0.0/16`の場合、このVPCサブネットのネットワークセグメントは`192.168.0.0/16`、`192.168.0.0/17`などでも構いません。  
![](https://main.qcloudimg.com/raw/46b5e21b88d43da6f2697906bb5bfc21.png)

## 手順2：サブネットの作成
ユーザーは同時に1つまたは複数のサブネットを作成できます。
1. [VPCコンソール](https://console.cloud.tencent.com/vpc)にログインします。
2. 左側のディレクトリにある【サブネット】をクリックし、管理画面に進みます。
3. サブネットを作成したいリージョンとVPCを選択して、【+新規作成】をクリックします。
4. サブネット名、CIDR、アベイラビリティーゾーンと関連するルートテーブルを入力します。
![2](https://main.qcloudimg.com/raw/84bd6ce8469eae5d399ce96a89168299.png)
5. （オプション）【+1行新規追加】をクリックすると、同時に多くのサブネットを作成できます。
6. 【作成】をクリックすれば完了です。

## 手順3：ルートテーブルと関連するサブネットの作成
カスタムルートテーブル、ルーティングポリシーを作成できます。その後サブネットを関連指定すると、サブネット関連のルートテーブルはこのサブネットのアウトバウンドルートを指定するのに使用できます。
1. VPCコンソールにログインして左側のバーで【ルートテーブル】画面を選択します。
2. リストの上側でリージョンとVPCを選択し、【+新規作成】をクリックします。
3. ポップアップしたダイアログボックスに名称、所属ネットワークおよび新規作成のルーティングポリシーを入力し、【作成】をクリックします。ルートテーブルリストに戻ると、新規作成したルートテーブルを見ることができます。
![](https://main.qcloudimg.com/raw/4e59f2e780b5296fe85b204bd86b8b73.png)
4. コンソール左側のバーで【サブネット】画面を選択し、必要な関連ルートテーブルのサブネットを選択して、【操作】列で【ルートテーブルを交換】をクリックして関連付けます。

## 手順4．CVMの追加
1. [VPCコンソール](https://console.cloud.tencent.com/vpc)にログインします。
2. 左側ディレクトリの【サブネット】をクリックし、管理画面に進みます。
3. CVMを追加するサブネットの行でCVMのアイコンをクリックして追加します。
![](https://main.qcloudimg.com/raw/2bafceab2bb6a5a31fe76844e19bb07e.png)
4. 画面のプロンプトに基づき，CVMの購入を完了すればOKです。詳細はCVMドキュメント[購入方式](https://intl.cloud.tencent.com/document/product/213/506)をご参照ください。

## 手順5：クラウドデータベースの追加
#### データベースの新規作成
1. [クラウドデータベースMySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、【新規作成】をクリックして、購入画面に進みます。
2. 購入画面の【ネットワーク】オプションでは、以前に作成したVPCおよび関連のサブネットを選択し、新規に購入したクラウドデータベースをVPCに追加します。
![](https://main.qcloudimg.com/raw/c8f5065a7ceafc763163b4abe82564bf.png)

#### 既に存在するデータベース
1. インスタンスリストで、インスタンス名または操作列の【管理】をクリックして、インスタンス詳細画面に進みます。
2. 詳細画面の【所属ネットワーク】で、対応するVPCに切り替えられます。
