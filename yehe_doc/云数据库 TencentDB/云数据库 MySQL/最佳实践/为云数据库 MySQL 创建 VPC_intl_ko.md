
Tencent Cloud는 클라우드 데이터베이스(CDB)의 호스팅 플랫폼: Tencent Cloud [사설 네트워크 VPC](https://intl.cloud.tencent.com/document/product/215/535)를 제공합니다. VPC에서 Tencent Cloud 리소스를 실행할 수 있습니다(예: Tencent Cloud CDB 인스턴스).

일반적인 솔루션은 동일 VPC에 있는 CDB 인스턴스와 웹서비스에서 데이터를 공유합니다. 이 튜토리얼에서는 해당 솔루션에 대해 VPC를 구축하고, CDB를 VPC에 추가하여 적용합니다.
본 문서는 동일한 VPC에서 CVM과 TencentDB for MySQL을 추가하고, VPC 내 클라우드 리소스의 내부 네트워크 통신을 구현하는 방법을 소개합니다.

## 1단계: VPC 생성
VPC는 최소 서브넷 1개를 포함해야 하고, 서브넷에서만 클라우드 서비스 리소스를 추가할 수 있습니다.
1. [VPC 콘솔](https://console.cloud.tencent.com/vpc)에 로그인합니다.
2. 리스트 위쪽에서 VPC가 속한 리전을 선택하고 [+New]를 클릭합니다.
3. VPC 정보와 초기 서브넷 정보를 작성하고 [확인]을 클릭합니다. VPC와 서브넷의 CIDR 생성 후에는 수정할 수 없습니다.
 - VPC CIDR은 다음 IP 대역 중 임의의 1개를 지원합니다. VPC 간 내부 네트워크 통신이 필요한 경우 PC/모바일 CIDR의 설정이 중복되지 않도록 하십시오.
    - `10.0.0.0`~`10.255.255.255`（마스크 범위 16~28）
    - `172.16.0.0`~`172.31.255.255`（마스크 범위 16~28）
    - `192.168.0.0`~`192.168.255.255` （마스크 범위 16~28）
 - 서브넷의 CIDR은 VPC의 CIDR 내에 있거나 동일해야 합니다.
 예를 들어 VPC의 IP 대역이 `192.168.0.0/16`이면, 해당 VPC 내 서브넷의 IP 대역은 `192.168.0.0/16`、`192.168.0.0/17` 등입니다.  
![](https://main.qcloudimg.com/raw/46b5e21b88d43da6f2697906bb5bfc21.png)

## 2단계: 서브넷 생성
1개 혹은 멀티 서브넷을 동시에 생성할 수 있습니다.
1. [VPC 콘솔](https://console.cloud.tencent.com/vpc)에 로그인합니다.
2. 왼쪽 목록에서 [서브넷]을 클릭해 관리 페이지로 들어갑니다.
3. 생성할 서브넷의 리전과 VPC를 선택하고 [+New]를 클릭합니다.
4. 서브넷 이름, CIDR, 가용존, 연결 라우팅 테이블을 작성합니다.
![2](https://main.qcloudimg.com/raw/84bd6ce8469eae5d399ce96a89168299.png)
5. (옵션) [+행 추가]를 클릭하면 동시에 멀티 서브넷을 생성할 수 있습니다.
6. [생성]을 클릭합니다.

## 3단계: 라우팅 테이블 연결 서브넷 생성
사용자 정의 라우팅 테이블을 생성하고, 라우팅 정책을 편집하며, 지정 서브넷을 연결할 수 있습니다. 서브넷 연결 라우팅 테이블은 이 서브넷의 아웃바운드 라우팅을 지정합니다.
1. VPC 콘솔에 로그인합니다. 왼쪽 사이드바에서 [라우팅 테이블] 태그를 선택합니다.
2. 리스트 위쪽에서 리전과 VPC를 선택하고 [+New]를 클릭합니다.
3. 팝업 대화 상자에 이름, 소속 네트워크 및 생성 라우팅 정책을 입력하고 [생성]을 클릭합니다. 라우팅 테이블 리스트로 돌아가면 생성한 라우팅 테이블을 확인할 수 있습니다.
![](https://main.qcloudimg.com/raw/4e59f2e780b5296fe85b204bd86b8b73.png)
4. 콘솔 왼쪽에서 [서브넷] 페이지를 선택하고 이 라우팅 테이블에 연결하려는 서브넷을 선택합니다. [작업] 열에서 [라우팅 테이블 변경]을 클릭하여 연결합니다.

## 4단계: CVM 추가
1. [VPC 콘솔](https://console.cloud.tencent.com/vpc)에 로그인합니다.
2. 왼쪽 목록에서 [서브넷]을 클릭해 관리 페이지로 들어갑니다.
3. 추가할 CVM의 서브넷이 위치한 행에서 CVM 추가 아이콘을 클릭합니다.
![](https://main.qcloudimg.com/raw/2bafceab2bb6a5a31fe76844e19bb07e.png)
4. 페이지 안내에 따라 CVM을 구매하면 됩니다. 자세한 내용은 CVM 문서 [구매 방식](https://intl.cloud.tencent.com/document/product/213/506)을 참조 바랍니다.

## 5단계: CDB 추가
#### 데이터베이스 생성
1. [TencentDB for MySQL 콘솔](https://console.cloud.tencent.com/cdb)에 로그인합니다. [New]를 클릭해 구매 페이지에 접속합니다.
2. 구매 페이지의 [네트워크] 옵션에서 [사설 네트워크]를 선택합니다. 이전에 생성한 사설 네트워크 및 해당 서브넷을 선택하고, 구매한 CDB를 사설 네트워크에 추가합니다.
![](https://main.qcloudimg.com/raw/c8f5065a7ceafc763163b4abe82564bf.png)

#### 보유한 데이터베이스
1. 인스턴스 리스트에서 인스턴스 이름 또는 Operation 열의 [Manage]를 클릭하여 인스턴스 상세 페이지로 이동합니다.
2. 상세 페이지의 [소속 네트워크]에서 해당 VPC를 전환할 수 있습니다.
