본 문서는 인스턴스 변경 시 몇 초간 연결이 끊기면서 나타나는 영향 및 자동 재연결 기능 설정을 소개합니다.
### 상황
TencentDB for MySQL에서 [데이터베이스 인스턴스 사양 조정](https://intl.cloud.tencent.com/document/product/236/19707) 및 [데이터베이스 엔진 버전 업그레이드](https://intl.cloud.tencent.com/document/product/236/8126) 등의 작업을 진행하거나, 마스터 인스턴스 부하가 높아져 hang 되고, 하드웨어 장애가 발생 시, 인스턴스를 변경해야 할 수 있습니다. 인스턴스 변경 시 몇 초간 연결이 끊길 수 있습니다.

만약 응용 프로그램에 자동 재연결 기능이 비활성화 되어 있을 경우, 마스터/슬레이브 변경 후 애플리케이션 연결에 오류가 발생해 서비스의 정상적인 액세스에 영향을 미칠 수 있습니다.

응용 프로그램에 자동 재연결 기능을 적용하고, 인스턴스를 선택해 [점검 시간](https://intl.cloud.tencent.com/document/product/236/10929) 내에 변경하시기를 권장합니다.


## 자동 재연결 기능 설정
마스터/슬레이브 변경으로 인한 애플리케이션 연결 오류를 방지하기 위해 TencentDB for MySQL의 응용 프로그램에 자동 재연결 기능을 적용하고, 연결 풀에 connectTimeOut과 socketTimeOut 매개변수를 설정하시기를 권장합니다.
서비스 시나리오에 따라 적절한 매개변수 값을 설정하십시오. OLTP(On-Line Transaction Processing)의 서비스 시나리오에 따라 20초로 일괄 설정하시기를 권장합니다.
>?
>- connectTimeOut：응용 프로그램과 데이터베이스 서버 TCP 연결 타임 아웃 시간은 적어도 응용 프로그램에서 데이터베이스 서버까지의 응답 시간보다 크도록 권장합니다.
>- socketTimeOut：TCP 연결을 통해 데이터 패키지를 발송한 후 응답 대기 초과 시간을 단일 SQL 최대 실행 시간으로 설정하시기를 권장합니다.

