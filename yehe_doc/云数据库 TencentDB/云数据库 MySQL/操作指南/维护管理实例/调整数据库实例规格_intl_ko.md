## 작업 시나리오
TencentDB for MySQL은 빠른 인스턴스 사양 변경을 지원하며, 효율적인 용량 확장 및 축소 작업을 제공합니다. 실제 비즈니스 상황(비즈니스 초기, 발전기, 피크기, 저조기 등)에 따라 MySQL 인스턴스의 사양을 효율적으로 변경하여, 충분한 리소스 사용 및 실시간 비용 최적화 등의 수요를 만족할 수 있습니다. 과금 변경에 대한 내용은 [인스턴스 과금 변경 설명](https://intl.cloud.tencent.com/document/product/236/32345)을 참조 바랍니다.

#### 인스턴스 디스크 제한 초과 설명
- 비즈니스의 정상적인 수행을 유지하기 위해 디스크 용량을 모두 사용하기 전에 미리 데이터베이스 인스턴스 사양을 업그레이드하거나 디스크 용량을 구매하시기 바랍니다.
>?디스크 용량에 대한 내용은 [MySQL 콘솔](https://console.cloud.tencent.com/cdb) 인스턴스 상세 페이지에서 확인할 수 있으며, [알람 설정](https://intl.cloud.tencent.com/document/product/236/8457)을 통해 디스크에 대한 알람 메시지를 제때 받을 수 있습니다.
- 인스턴스 스토리지의 데이터양이 인스턴스를 초과하면 인스턴스가 잠겨 데이터를 읽을 수만 있고 입력할 수 없게 되므로, 용량을 확장하거나 콘솔에서 일부 DB 테이블을 삭제하여 읽기 전용 모드를 해제할 수 있습니다.
- 데이터베이스가 잠기는 현상이 반복되지 않도록 하려면, 인스턴스의 남은 용량이 20% 이상 혹은 50GB로 유지하면 인스턴스의 잠금 상태가 해제되고, 정상적인 읽기 및 쓰기 기능으로 복구할 수 있습니다.

<span id="guize"></span>
## 설정 규칙 변경
- TencentDB for MySQL 인스턴스 및 그에 연결된 인스턴스가 정상 상태(Running)이고, 현재 실행 중인 작업이 없을 때만 설정 변경 작업을 요청할 수 있습니다.
- 설정을 변경하는 중에는 해당 변경 작업을 취소할 수 없습니다.
- 설정 변경 전후의 인스턴스 이름, 액세스 IP, 액세스 포트 모두 변경되지 않습니다.
- 설정을 변경하는 중에는 MySQL의 전역 매개변수, 사용자 비밀번호 등의 변경 작업을 지양하시기 바랍니다.
- 설정을 변경하는 중에는 데이터를 이전하게 될 수 있으며, 이전하는 기간에도 비즈니스에 영향 없이 MySQL 인스턴스가 정상적으로 액세스할 수 있습니다.
- 설정 변경을 완료하면 인스턴스를 변경(MySQL 데이터베이스 연결이 몇 초간 끊김)해야 할 수 있으니, 프로그램에 자동 재연결 기능을 적용하고 인스턴스 점검 시간을 지정하여 변경하시기를 권장합니다. 자세한 내용은 [인스턴스 점검 시간 설정](https://intl.cloud.tencent.com/document/product/236/10929)을 참조 바랍니다.
- MySQL 기본 버전은 설정을 조정하는 과정에서 약 15분간 인스턴스를 사용할 수 없습니다. 따라서, 서비스 피크 기간에는 작업하지 마시기를 권장합니다.

## 작업 순서
### 콘솔에서 인스턴스 설정 변경
1. [MySQL 콘솔](https://console.cloud.tencent.com/cdb)에 로그인한 뒤 인스턴스 리스트에서 변경할 인스턴스를 선택한 다음 '작업' 열에서 [더보기]>[Modify Configurations]를 클릭합니다.
![](https://main.qcloudimg.com/raw/bddf4d9354753da23a0730fb91e01227.png)
2. 팝업 대화 상자에서 변경된 설정을 선택한 뒤, [Submit]를 클릭합니다.
![](https://main.qcloudimg.com/raw/fd7b5ead8e0aaeaa89248dcf12f58c02.png)


### API로 인스턴스 설정 변경
사용자는 UpgradeDBInstance 인터페이스를 사용해 인스턴스 구성을 설정할 수 있습니다. 자세한 내용은 [CDB 인스턴스 설정 변경](https://intl.cloud.tencent.com/document/product/236/15876)을 참조하십시오.

## 핵심 질문
#### 데이터베이스 인스턴스 사양을 변경하면 인스턴스에 어떤 영향이 있나요?
- MySQL 설정 변경 과정에서 데이터 마이그레이션을 진행할 수 있으며, 해당 기간 내 인스턴스 액세스는 영향을 받지 않습니다. 마이그레이션을 완료하면 교체를 진행하며, 몇 초간의 끊김이 있으니 비즈니스의 재연결 메커니즘을 유지하시기 바랍니다.
- MySQL 기본 버전은 설정을 조정하는 과정에서 약 15분간 인스턴스를 사용할 수 없습니다. 따라서, 서비스 피크 기간에는 작업하지 마시기를 권장합니다.

### 데이터베이스를 다운그레이드할 수 없는 이유는 무엇인가요?
사용자의 스토리지가 디스크 최대 용량을 초과했을 수 있으니 먼저 데이터를 정리해야 합니다. 남은 유휴 용량이 20% 이상 혹는 50G보다 커야 다운그레이드 작업을 할 수 있습니다.

#### 콘솔 설정 변경 후 왜 계속 '업그레이드 전환 대기 중 상태'가 뜨나요?
사용자가 [콘솔](https://console.cloud.tencent.com/cdb)에서 설정을 변경하면, 선택한 '전환 시간'이 '점검 시간 내 전환'으로 되어 즉시 전환할 수 없게 됩니다.
즉시 전환하려면 인스턴스 리스트의 '작업' 열에서 [즉시 전환]을 클릭하십시오. 연결이 몇 초간 끊길 수 있으니 비즈니스의 재연결 메커니즘을 확보하시기 바랍니다.

#### 인스턴스 사양 조정과 업그레이드에 시간이 얼마나 소요되나요?
데이터베이스의 업그레이드 시간과 사용자의 현재 데이터베이스 데이터양의 크기 및 데이터 복사 등과 관계가 있어 구체적인 시간을 예측할 수 없습니다.
업그레이드하는 동안 인스턴스를 정상적으로 사용할 수 있습니다. 업그레이드 완료 후 VIP 전환 시 몇 초간 끊김이 발생할 수 있습니다.

#### 인스턴스 조정 진행도는 어디에서 조회할 수 있나요?
콘솔의 [Task List](https://console.cloud.tencent.com/mysql/task)에서 작업 진행도를 조회할 수 있습니다.

#### 디스크 용량이 곧 바닥납니다. 어떻게 해야 하나요?
사용한 디스크 용량이 85% 이상이 되면 사용하지 않는 데이터를 삭제하거나 디스크 용량을 확장하시기를 권장합니다. [콘솔](https://console.cloud.tencent.com/cdb)에서 디스크 용량을 확장할 수 있습니다.

