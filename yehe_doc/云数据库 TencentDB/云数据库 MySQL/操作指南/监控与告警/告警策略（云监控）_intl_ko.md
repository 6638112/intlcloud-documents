본 문서에서는 Cloud Monitoring 콘솔을 통해 알람 정책 및 알람 대상 관련 작업을 생성하는 방법을 소개합니다.

## 작업 시나리오
클라우드 서비스 상태에 변동이 있을 때 관련 정보에 대한 알림이 발송되도록 알람을 생성할 수 있습니다. 생성한 알람은 일정 시간마다 모니터링한 지표를 설정된 임계 값과 비교하여 알림 발송 여부를 판단합니다.
상태가 알람 트리거 상태로 변경되었을 경우 알맞은 예방 또는 보완 조치를 진행할 수 있습니다. 적절한 알람 이용은 응용 프로그램의 안정성 및 신뢰성을 향상하는 데 도움이 될 수 있습니다. 알람과 관련한 더 자세한 정보는 Cloud Monitoring의 [알람 설정](https://intl.cloud.tencent.com/document/product/248/38916)을 참조 바랍니다.

어떤 제품의 특정 상태에서 알람이 발송되었을 경우 사용자는 먼저 알람 정책을 생성해야 합니다. 알람 정책이란 이름, 유형, 알람 트리거 조건이라는 세 가지 필수 조건을 포함합니다. 모든 알람 정책은 각 알람의 트리거 조건의 집합으로, 알람 트리거 조건 간에는 'or'의 관계가 성립되어 하나의 조건만 충족해도 알람이 발송됩니다. 해당 알람 정책에 연결된 모든 사람에게 알람이 발송되므로 사용자는 바로 문제를 확인하고 이에 대한 조치를 취할 수 있습니다.

>! 디폴트 알람 수신자를 설정했는지 확인하십시오. 그렇지 않은 경우 Tencent CDB의 디폴트 알람 정책은 귀하에게 알림을 전달할 수 없습니다.

## 작업 순서
### 알람 정책 생성
1. [Cloud Monitoring 콘솔](https://console.cloud.tencent.com/monitor/overview)에 로그인한 후에 왼쪽 메뉴에서 [Alarm Configuration] > [Alarm Policy] 항목을 선택하십시오.
2. 알람 정책 페이지에서 [Create]를 클릭하십시오.
3. '신규 정책' 페이지에서 정책 이름과 정책 유형, 알람 대상, 트리거 조건 등의 정보를 설정합니다.
 - ** 정책 유형**: CVM 모니터링과 슬레이브 모니터링으로 분류되며 각각 다른 인스턴스 유형에 활용됩니다.
    - CVM용 배포류 모니터링: 모니터링 인스턴스가 마스터 인스턴스일 경우, 해당 마스터 인스턴스는 어떠한 인스턴스의 슬레이브 인스턴스도 아니므로 해당 CVM에서의 복사 관련 모니터링 데이터는 유효하지 않습니다. 이때 IO, SQL 스레드는 미실행 상태입니다. 오직 모니터링 인스턴스가 재해 복구 인스턴스와 읽기 전용 인스턴스일 경우에만 복사 관련 모니터링 데이터가 유효하며, IO, SQL 스레드는 실행 상태가 됩니다.
    - 슬레이브용 배포류 모니터링: 고가용 버전과 파이낸스 버전의 마스터 인스턴스와 재해 복구 인스턴스의 기본 설정은 마스터/슬레이브 아키텍처이므로, 모니터링 인스턴스가 마스터 인스턴스 또는 재해 복구 인스턴스일 경우에만 해당 슬레이브에서의 복사 관련 모니터링 데이터가 유효합니다. 마스터 인스턴스, 재해 복구 인스턴스를 숨겨진 백업 노드의 지연 거리 또는 시간에 반영할 경우에는 슬레이브 내 관련 데이터에 유의하시기 바랍니다. 마스터 인스턴스 또는 재해 복구 인스턴스에 장애가 있을 경우 모니터링 인스턴스의 숨겨진 백업 노드를 빠르게 마스터 인스턴스로 승격할 수 있습니다.
  - **알람 대상**: 대상의 소재 지역을 선택하거나 대상의 인스턴스 ID를 검색하면 연결을 원하는 대상 인스턴스를 찾을 수 있습니다.
 - **트리거 조건**: 지표, 비교 관계, 임계 값, 통계 주기, 지속 주기로 구성된 시맨틱스(semantics) 조건입니다. 예: 지표가 디스크 사용률, 비교 관계가 >, 임계 값이 80%, 통계 주기가 5분, 지속 주기가 2개 주기일 경우 5분마다 디스크 사용률 데이터를 1회 수집합니다. 어떤 CDB의 디스크 사용률이 연속 2회 80%를 초과할 경우 알람이 트리거됩니다.
 - **알람 공지 설정**: 시스템 사전 설정 공지 템플릿과 사용자 정의 공지 템플릿 선택을 지원합니다. 각 알람 정책은 최대 3개의 공지 탬플릿만 바인딩할 수 있습니다.
4. 오류가 없는지 확인한 다음 [Complete]를 클릭합니다.

### 알람 대상 연결
알람 정책 생성을 완료했다면 알람 대상을 연결합니다. 알람 트리거 조건이 발동될 경우 알람이 대상에게 전달됩니다.
1. [Alarm Policy](https://console.cloud.tencent.com/monitor/alarm2/policy)에서 알람 정책의 이름을 클릭하고, 알람 정책 관리 페이지로 이동합니다.
2. 알람 정책 관리 페이지의 '알람 대상'에서 [신규 대상]을 클릭합니다.
![](https://main.qcloudimg.com/raw/00833b7ad2a481ec65b1eb14c0d2cad4.png)
3. 팝업 대화 상자에서 연결하고자 하는 알람 대상을 선택한 후에 [확인]을 클릭하면 알람 대상을 연결할 수 있습니다.


