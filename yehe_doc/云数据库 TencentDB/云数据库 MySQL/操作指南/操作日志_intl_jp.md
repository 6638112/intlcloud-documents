## 操作シナリオ
指定時間を超過したSQLステートメントクエリを「スロークエリ」といいます。対応するステートメントは「スロークエリステートメント」といい、データベース管理者（DBA）はスロークエリステートメントを分析し、スロークエリが生じた原因を探し出す過程を「スロークエリ分析」といいます。

TencentDB for MySQLの高可用性エディションと単一ノードHigh IOバージョンのインスタンスはログ操作管理機能を提供し、故障箇所の迅速な特定をサポートします。コンソールの操作ログ画面で、インスタンスのスローログの詳細、エラーログの詳細、ロールバックログ、およびスローログのダウンロードを確認することができます。
コマンドラインインターフェース（CLI）、またはクラウドデータベースAPIを使用して、データベースログを確認、ダウンロードすることもできます。詳細については、[バックアップログのクエリ](https://intl.cloud.tencent.com/document/product/236/15842)および[バイナリログのクエリ](https://intl.cloud.tencent.com/document/product/236/15843)をご参照ください。

#### MySQLスロークエリ関連の説明
- long_query_time：スロークエリの閾値パラメータで、精度はマイクロ秒クラスまででき、デフォルトは10sです。SQLステートメントの実行時間がこの数値を超過すると、スローログに記録されます。 
long_query_timeパラメータを調整すれば、元のスローログに影響することはありません。例えば、スローログの閾値パラメータが10sであれば、10sを超過したスローログが報告されます。この値を1に変更しても、元々報告していたログはそのまま表示されます。
- log_queries_not_using_indexes：未使用のインデックスの照会を記録するかどうかについて、デフォルトはOFFです。


## 操作手順
1. [TencentDB for MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインします。
2. インスタンスリストでインスタンス名または操作列の【管理】をクリックし、インスタンス管理画面に進みます。
3. 【操作ログ】画面で、インスタンスのスローログの詳細、エラーログの詳細、ロールバックログを表示したり、スローログをダウンロードしたりできます。
<table>
<thead>
<tr>
<th>機能</th>
<th>説明</th>
</tr>
</thead>
<tbody><tr>
<td>スローログの詳細</td>
<td>1か月以内のデータベースで実行時間が10sを超過したSQLステートメントを記録</td>
</tr>
<tr>
<td>スローログのダウンロード</td>
<td>スローログのダウンロードを提供</td>
</tr>
<tr>
<td>エラーログの詳細</td>
<td>データベース実行エラーのログを記録</td>
</tr>
<tr>
<td>ロールバックログ</td>
<td>ロールバックタスクのステータスと進行状況を記録</td>
</tr>
</tbody></table>

4. 【スローログのダウンロード】画面で操作列の【ダウンロード】をクリックしてスローログをダウンロードできます。
5. ポップアップのダイアログボックスで【ローカルダウンロード】をクリックして直接ダウンロードできます。ダウンロードアドレスをコピーして、TencentDBインスタンスと同じVPC内のLinux CVMインスタンスにログインして、wgetコマンドを実行してダウンロードすることもできます。
>?
>- wgetコマンド形式：wget -c 'ログファイルのダウンロードアドレス' -O カスタマイズファイル名.log
>作成例は次のとおりです。
```
wget -c 'http://szx.dl.cdb.tencentyun.com:303/cfdee?appid=1210&time=1591&sign=aIGM%3D' -O test.log
```
>- サイズが0KBのログはダウンロードできません。

