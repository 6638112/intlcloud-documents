TencentDB for MySQLは、カーネルのマイナーバージョンの自動または手動アップグレードをサポートします。カーネルマイナーバージョンをアップグレードすれば、新機能を利用でき、パフォーマンスを向上させ、トラブルシューティングなどを実現することが可能です。
TencentDB for MySQLのカーネルマイナーバージョンの詳細な機能については[カーネルバージョンの更新](https://intl.cloud.tencent.com/document/product/236/35989)をご参照ください。

>?単一ノード - 基本型インスタンスは、現在カーネルマイナーバージョンのアップグレードをサポートしていません。

## 操作シナリオ
- **自動アップグレードがトリガーされるシーン**：
 - シーン1：TencentDB for MySQLに重大なバグやセキュリティホールが発生した場合、システムはお客様のメンテナンス時間帯にデータベースのカーネルマイナーバージョンのアップグレードを開始します。事前にプライベートメッセージ、ショートメッセージなどの方法でアップデートの通知をお送りいたします。
 - シーン2：TencentDB for MySQLがインスタンスを移行する操作（たとえば、インスタンス仕様のアップ/ダウングレード、磁気ディスク容量のスケーリング、データベースのバージョンアップ等）を行った場合、システムはお客様のインスタンスを最新のカーネルマイナーバージョンにアップグレードいたします。
- **手動アップデートのシーン**：
自動アップデートのシーン以外に、ユーザーはコンソールでカーネルマイナーバージョンのアップデートを手動で行うことができます。


## アップデートに関するルール
- **アップデートするカーネルマイナーバージョンが他のインスタンス（マスターインスタンス、読み取り専用インスタンス）に関連付けられている場合、データレプリケーションの一致性を確保するために、関連インスタンスは、カーネルマイナーバージョンと合わせてアップデートします。
- TencentDB for MySQLのバージョンのアップグレードをする場合、データを移行する必要があります。通常、移行の速度はデータサイズに依存しますので、しばらくお待ちください。この作業期間中、サービスは中断されることなく正常に利用できます。

## 注意事項
- バージョンアップ完了時に、インスタンスの切り替え（MySQLデータベースの接続が数秒間切断される）が発生します。プログラムの自動再接続機能を有効にし、また、インスタンスのメンテナンスを実行可能な時間を選択して切り替えを実行することをお勧めします。[インスタンスのメンテナンス時間設定](https://intl.cloud.tencent.com/document/product/236/10929)をご参照ください。
- 単一インスタンスのテーブル数が100万を超えた場合は、アップグレードのエラーになる恐れがあり、データベースへの監視にも影響を与えます。そのために、単一インスタンスのテーブル数が100万を超えないようにテーブルの数を適切に管理してください。
- カーネルマイナーバージョンのアップグレード後は、ダウングレードすることはできません。

## 操作手順
1. [MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、インスタンスリストの中からターゲットインスタンスを探し、インスタンス名または「操作」の列の【管理】をクリックし、インスタンス詳細画面に入ります。
2. インスタンス詳細画面の「設定情報」で【カーネルマイナーバージョンのアップグレード】をクリックします。
![](https://main.qcloudimg.com/raw/3fda3cffc784b3cde619e698d728d486.png)
3. ポップアップされたダイアログボックスで、切り替え時間を選択した後、【アップグレード】をクリックします。
>!データベースのカーネルマイナーバージョンのアップグレードを実行する場合、データを移行する必要があります。アップグレードが完了する際に、MySQLデータベースの接続が数秒間切断されます。切り替え時間を【メンテナンス時間帯】に指定して、インスタンスのアップグレード完了後の次の【メンテナンス時間帯】に切り替え、作業を実行することをお勧めします。
>
![](https://main.qcloudimg.com/raw/19d059cb26a22b9ae8c173daae8590e8.png)

