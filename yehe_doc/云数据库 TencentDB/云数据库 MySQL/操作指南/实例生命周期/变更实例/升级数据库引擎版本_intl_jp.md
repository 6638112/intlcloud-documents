## 操作シナリオ
このドキュメントでは、MySQLエンジンをバージョンアップする必要がある時、コンソールによりバージョンアップする方法について説明します。
MySQLは、下記データベースエンジンのバージョンアップをサポートします。
- MySQL 5.5からMySQL 5.6へのバージョンアップ
- MySQL 5.6からMySQL 5.7へのバージョンアップ

<span id="shengjiguize"></span>
## バージョンアップに関するルール
- メジャーバージョン間のアップグレードはサポートされていません。例えば、MySQL 5.5データベースインスタンスをMySQL 5.7以上のバージョンにアップグレードする場合、先にデータベースインスタンスをMySQL 5.6にアップグレードする必要があります。
- 「create table …  as select …」の文法をサポートしません。
- MySQL 5.6/5.7のマスタースレーブ同期はGTIDに基づき行われ、デフォルトではInnoDBエンジンのみがサポートされています。
- MySQL 5.5バージョンからMySQL 5.6にアップグレードする場合、アップグレード中にMyISAMエンジンのテーブルをInnoDBに変換します。**アップグレードする前にMyISAMのInnoDBへの変換を完了させることをお勧めします**。
- アップグレードの実行中に、MySQLは slow\_logテーブルをクリアにします。ログ情報を保持するには、メジャーバージョンのアップグレードを実行する前にログ内容を保存しておいてください。
- **バージョンアップするインスタンスが他のインスタンス（マスターインスタンス、読取専用インスタンスなど）に関連付けられている場合、データレプリケーションの一致性を保証するために、一緒にバージョンアップします**。
- MySQLのバージョンアップがデータの移行に関連する場合、通常、時間が長くかかるので、しばらくお待ちください。この作業期間中、お客様のビジネスは影響を受けず、アクセスできます。
- バージョンアップが完了した時にインスタンスの切り替えが行われることがあります（即ち、MySQLデータベースの接続が数秒間切断されます）。プログラムに自動再接続機能を持たせることをお勧めします。また、メンテナンス時間帯に切り替えができるインスタンスを選択することをお勧めします。メンテナンス時間については、[インスタンスのメンテナンス時間の設定](https://intl.cloud.tencent.com/document/product/236/10929)をご参照ください。
- 単一インスタンスのテーブル数が100万を超えた場合は、アップグレードのエラーになる恐れがあり、データベースへの監視にも影響を与えます。そのために、単一インスタンスのテーブル数が100万を超えないようにテーブルの数を適切に管理してください。

##　操作手順
1. [MySQLコンソール](https://console.cloud.tencent.com/cdb/ )にログインします。
2. インスタンスリストでアップグレードするインスタンスを選択し、操作列から【その他】>【バージョンアップ】（MySQL 5.7はそれ以上のバージョンにアップグレードできません）を選択します。
![](https://main.qcloudimg.com/raw/ec14ff513f80db6e87338b5a531f6126.png)
3. ポップアップされたダイアログボックスで、必要なデータベースのバージョンを選択し、【アップグレード】をクリックします。
データベースのバージョンアップがデータの移行に係わるため、アップグレード完了の際に、MySQLデータベースの接続が数秒間切断されます。アップグレードを実行する場合、切り替え時間を【メンテナンス時間帯】に指定することで、インスタンスのアップグレード完了後の次の【メンテナンス時間帯】に切り替え作業を実行します。
>切り替え時間を【メンテナンス時間帯】に指定した場合、データベース規格のアップグレードが完了した後にすぐ切り替えを実行せず、インスタンスの【メンテナンス時間帯】に切り替え作業を開始するまでに同期を維持します。そのために、インスタンス全体のアップグレードの所要時間が延長される可能性があります。
>
![](https://main.qcloudimg.com/raw/8a27b736891296d8c64077cf01409f08.png)

