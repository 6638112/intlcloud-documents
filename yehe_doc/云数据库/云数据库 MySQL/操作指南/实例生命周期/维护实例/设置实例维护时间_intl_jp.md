## 操作シナリオ
メンテナンス時間はMySQLにとって非常に重要であり、お客様のMySQLインスタンスの安定性を保証するため、バックグラウンドシステムは不定期でメンテナンス時間帯にインスタンスのメンテナンス操作を行います。ビジネスインスタンスに対して許容可能なメンテナンス時間を設定することをお勧めします。一般的にはビジネスのオフピーク期間に設定すると、ビジネスへの影響は最低限に抑えられます。

また、インスタンス規格の調整、インスタンスのバージョンアップ、インスタンスカーネルのアップグレードなどデータの移行に係わる操作もメンテナンス期間内に配置することをお勧めします（現在、マスターインスタンス、読取専用インスタンスと災害復旧インスタンスはいずれもメンテナンス時間をサポートしています）。

データベースのインスタンス規格のアップグレードを例にすると、インスタンス規格のアップグレードがデータの移行に係わる場合、アップグレードが完了時に数秒間データベースの接続が切断されます。アップグレードを実行する時、**切り替え時間**を【メンテナンス時間帯】に指定することで、インスタンス規格の切り替えがインスタンスのアップグレード完了後の次の**メンテナンス時間帯**に実行されます。注意：切り替え時間を【メンテナンス時間帯】に指定した場合、データベース規格のアップグレードが完了した後にすぐ切り替え作業を実行せず、インスタンスの**メンテナンス時間帯**に切り替えを開始するまでに同期を維持します。そのために、インスタンス全体のアップグレードの所要時間が延長される可能性があります。

>
>- MySQLはメンテナンスを行う前に、Tencent Cloudアカウント内に設定された連絡先にSMSとメールを送信しますので、注意してください。
>- インスタンス切り替え時に数秒間データベースの接続が切断されます。ビジネスに確実に再接続機能を持たせてください。

##　操作手順
### メンテナンス時間の設定
1. [MySQLコンソール](https://console.cloud.tencent.com/cdb/ )にログインし、インスタンスリストでインスタンス名又は「操作」列の【管理】をクリックしてインスタンス詳細ページに進みます。
2. 【メンテナンス情報】を選択して、【修正】をクリックします。
![](https://main.qcloudimg.com/raw/388e3aa6ca18c6cb947eb4d053ad1eb5.png)
3. ポップアップされたダイアログボックスで必要な「メンテナンス周期」と「メンテナンス時間」を選択し、【OK】をクリックするとインスタンスのメンテナンス情報の設定が完了します。
![](https://main.qcloudimg.com/raw/001fee80a9e1e7f5f55c2de15802a613.png)

<span id="lijiqiehuan"></span>
### 今すぐ切り替える
特定のタスクをメンテナンス時間帯に切り換えることを選択したものの、特殊な状況によりメンテナンス時間前に切り替える必要がある場合、操作列の【今すぐ切り替える】をクリックすることができます。
![](https://main.qcloudimg.com/raw/fd9780d4f9e1d8094bcb82f215deb366.png)
>
>- 「今すぐ切り替える」はインスタンス規格のアップグレード、バージョンアップ、カーネルのアップグレードなど、データの移行に係わる操作に適用されます。
>- バージョンアップ操作の下で、インスタンスが複数のインスタンスを関連付ける場合、切り替え順序は災害復旧インスタンス、読取専用インスタンス、マスターインスタンスの順で行います。

