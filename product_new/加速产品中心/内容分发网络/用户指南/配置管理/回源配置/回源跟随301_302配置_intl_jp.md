>  CDNサービスはお客様のために「オリジンプルの301/302フォロー構成」機能を提供しています。ノードのback to originリクエストに301/302ステータスコードを返す場合、CDNノードはユーザに301/302を返さずに、直接にリダイレクトアドレスに対しリソースをリクエストします。 
## 設定ガイド
1. [CDNコンソール](https://console.cloud.tencent.com/cdn)にログインし、左側のディレクトリの【ドメイン名管理】をクリックすると、管理ページに入ります。リストで編集するドメイン名の所在する行を見つけて、操作欄の【管理】をクリックします。
2. 【back to origin設定】をクリックすると、**「オリジンプルの301/302フォロー構成」**モジュールが表示されます。デフォルトではオフ状態になっています。

##　設定ケース
- ドメイン名が`www.test.com`である場合、オリジンプルの301/302フォロー構成が下記の通りです。
ユーザーAはリソース`http://www.test.com/1.jpg`をリクエストするが、ノードのキャッシュで命中されなかった場合は、ノードはオリジンサーバーにリクエストして必要なリソースを取得します。オリジンサーバーから戻った HTTP Responseステータスコードが301/302であり、リダイレクト指向アドレスが`http://www.abc.com/1.jpg `である場合は、
1. ノードは当該 HTTP Response を直接にユーザーに戻します。
  2. ユーザーは`http://www.abc.com/1.jpg`に対しリクエストを送信し、当該ドメイン名がCDNにアクセスされていない場合、加速の効果がありません。
  3. この時に、ユーザーBも`http://www.test.com/1.jpg` に対しリクエストを送信すると、上記プロセスが繰り返されます。

- ドメイン名が`www.test.com`であり、オリジンプルの301/302フォロー構成が下記の通りです。
ユーザーAがリソース`http://www.test.com/1.jpg`をリクエストするが、ノードのキャッシュで命中されなかった場合は、ノードはオリジンサーバーにリクエストして必要なリソースを取得します。オリジンサーバーから戻った HTTP Responseステータスコードが302であり、リダイレクト指向アドレスが`http://www.abc.com/1.jpg `である場合は、
1. オリジンプルの301/302フォロー構成をアクティブにした後に、ノードはステータスコードが301/302のHTTP Response を受信した後、リダイレクト指向アドレスへ直接にリクエストを送信します。
  2. 必要なリソースを取得し、ノードにキャッシュしてから、ユーザーに戻します。
  3. この時に、ユーザーBも`http://www.test.com/1.jpg`に対しリクエストを送信すると、ノードで直接に命中されてからユーザーに戻します。
  4. オリジンプルの301/302フォロー構成をを有効にすると、最大3回までのリダイレクトをフォローできます。制限を超えると、直接にお客様に301/302を戻します。
